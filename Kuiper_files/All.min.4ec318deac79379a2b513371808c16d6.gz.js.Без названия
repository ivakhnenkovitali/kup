!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=67)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n=i(7).default,o=i(23);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n=i(21);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n=i(2),o=i(21),r=i(35),a=i(36);function s(t){var i="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!r(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n,o,r;
/*!
 * Flickity v2.2.1
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2019 Metafizzy
 */window,o=[i(14),i(42),i(44),i(45),i(46),i(47),i(48)],void 0===(r="function"==typeof(n=function(e){return e})?n.apply(t,o):n)||(e.exports=r)},function(e,t){function i(t){return e.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style&&!0!==e.__forceSmoothScrollPolyfill__)){var i,n=e.HTMLElement||e.Element,o=468,r={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:n.prototype.scroll||l,scrollIntoView:n.prototype.scrollIntoView},a=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,s=(i=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(i)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?p.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):r.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?r.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;p.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},n.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},n.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var i=function(e){for(;e!==t.body&&!1===d(e);)e=e.parentNode||e.host;return e}(this),n=i.getBoundingClientRect(),o=this.getBoundingClientRect();i!==t.body?(p.call(this,i,i.scrollLeft+o.left-n.left,i.scrollTop+o.top-n.top),"fixed"!==e.getComputedStyle(i).position&&e.scrollBy({left:n.left,top:n.top,behavior:"smooth"})):e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(e,t){return"Y"===t?e.clientHeight+s<e.scrollHeight:"X"===t?e.clientWidth+s<e.scrollWidth:void 0}function h(t,i){var n=e.getComputedStyle(t,null)["overflow"+i];return"auto"===n||"scroll"===n}function d(e){var t=u(e,"Y")&&h(e,"Y"),i=u(e,"X")&&h(e,"X");return t||i}function f(t){var i,n,r,s,l=(a()-t.startTime)/o;s=l=l>1?1:l,i=.5*(1-Math.cos(Math.PI*s)),n=t.startX+(t.x-t.startX)*i,r=t.startY+(t.y-t.startY)*i,t.method.call(t.scrollable,n,r),n===t.x&&r===t.y||e.requestAnimationFrame(f.bind(e,t))}function p(i,n,o){var s,c,u,h,d=a();i===t.body?(s=e,c=e.scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,h=r.scroll):(s=i,c=i.scrollLeft,u=i.scrollTop,h=l),f({scrollable:s,method:h,startTime:d,startX:c,startY:u,x:n,y:o})}}}}()},function(e,t,i){var n=i(31),o=i(32),r=i(33),a=i(34);e.exports=function(e){return n(e)||o(e)||r(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n,o;!function(r,a){n=[i(38)],void 0===(o=function(e){return function(e,t){"use strict";var i={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},n=Array.prototype.slice;i.makeArray=function(e){if(Array.isArray(e))return e;if(null==e)return[];var t="object"==typeof e&&"number"==typeof e.length;return t?n.call(e):[e]},i.removeFrom=function(e,t){var i=e.indexOf(t);-1!=i&&e.splice(i,1)},i.getParent=function(e,i){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,i))return e},i.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.filterFindElements=function(e,n){e=i.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(n){t(e,n)&&o.push(e);for(var i=e.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}else o.push(e)}),o},i.debounceMethod=function(e,t,i){i=i||100;var n=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];clearTimeout(e);var t=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,t),delete r[o]},i)}},i.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},i.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var o=e.console;return i.htmlInit=function(t,n){i.docReady(function(){var r=i.toDashed(n),a="data-"+r,s=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+r),c=i.makeArray(s).concat(i.makeArray(l)),u=a+"-options",h=e.jQuery;c.forEach(function(e){var i,r=e.getAttribute(a)||e.getAttribute(u);try{i=r&&JSON.parse(r)}catch(t){return void(o&&o.error("Error parsing "+a+" on "+e.className+": "+t))}var s=new t(e,i);h&&h.data(e,n,s)})})},i}(r,e)}.apply(t,n))||(e.exports=o)}(window)},function(e,t,i){var n=i(52);function o(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=o=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,i){var o=n(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n=i(10);e.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),o.forEach(function(t){n(e,t,i[t])})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n,o;!function(r,a){n=[i(16),i(17),i(11),i(39),i(40),i(41)],void 0===(o=function(e,t,i,n,o,a){return function(e,t,i,n,o,r,a){"use strict";var s=e.jQuery,l=e.getComputedStyle,c=e.console;function u(e,t){for(e=n.makeArray(e);e.length;)t.appendChild(e.shift())}var h=0,d={};function f(e,t){var i=n.getQueryElement(e);if(i){if(this.element=i,this.element.flickityGUID){var o=d[this.element.flickityGUID];return o.option(t),o}s&&(this.$element=s(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(t),this._create()}else c&&c.error("Bad element for Flickity: "+(i||e))}f.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},f.createMethods=[];var p=f.prototype;n.extend(p,t.prototype),p._create=function(){var t=this.guid=++h;for(var i in this.element.flickityGUID=t,d[t]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&e.addEventListener("resize",this),this.options.on){var n=this.options.on[i];this.on(i,n)}f.createMethods.forEach(function(e){this[e]()},this),this.options.watchCSS?this.watchCSS():this.activate()},p.option=function(e){n.extend(this.options,e)},p.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var e=this._filterFindCellElements(this.element.children);u(e,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")}},p._createSlider=function(){var e=document.createElement("div");e.className="flickity-slider",e.style[this.originSide]=0,this.slider=e},p._filterFindCellElements=function(e){return n.filterFindElements(e,this.options.cellSelector)},p.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},p._makeCells=function(e){var t=this._filterFindCellElements(e),i=t.map(function(e){return new o(e,this)},this);return i},p.getLastCell=function(){return this.cells[this.cells.length-1]},p.getLastSlide=function(){return this.slides[this.slides.length-1]},p.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},p._positionCells=function(e){e=e||0,this.maxCellHeight=e&&this.maxCellHeight||0;var t=0;if(e>0){var i=this.cells[e-1];t=i.x+i.size.outerWidth}for(var n=this.cells.length,o=e;o<n;o++){var r=this.cells[o];r.setPosition(t),t+=r.size.outerWidth,this.maxCellHeight=Math.max(r.size.outerHeight,this.maxCellHeight)}this.slideableWidth=t,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},p._sizeCells=function(e){e.forEach(function(e){e.getSize()})},p.updateSlides=function(){if(this.slides=[],this.cells.length){var e=new r(this);this.slides.push(e);var t="left"==this.originSide,i=t?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach(function(t,o){if(e.cells.length){var a=e.outerWidth-e.firstMargin+(t.size.outerWidth-t.size[i]);n.call(this,o,a)?e.addCell(t):(e.updateTarget(),e=new r(this),this.slides.push(e),e.addCell(t))}else e.addCell(t)},this),e.updateTarget(),this.updateSelectedSlide()}},p._getCanCellFit=function(){var e=this.options.groupCells;if(!e)return function(){return!1};if("number"==typeof e){var t=parseInt(e,10);return function(e){return e%t!=0}}var i="string"==typeof e&&e.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(e,t){return t<=(this.size.innerWidth+1)*n}},p._init=p.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},p.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};p.setCellAlign=function(){var e=m[this.options.cellAlign];this.cellAlign=e?e[this.originSide]:this.options.cellAlign},p.setGallerySize=function(){if(this.options.setGallerySize){var e=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=e+"px"}},p._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var e=this.cursorPosition,t=this.cells.length-1;this.beforeShiftCells=this._getGapCells(e,t,-1),e=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(e,0,1)}},p._getGapCells=function(e,t,i){for(var n=[];e>0;){var o=this.cells[t];if(!o)break;n.push(o),t+=i,e-=o.size.outerWidth}return n},p._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var e=this.options.rightToLeft,t=e?"marginRight":"marginLeft",i=e?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],o=n<this.size.innerWidth,r=this.cursorPosition+this.cells[0].size[t],a=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(e){o?e.target=n*this.cellAlign:(e.target=Math.max(e.target,r),e.target=Math.min(e.target,a))},this)}},p.dispatchEvent=function(e,t,i){var n=t?[t].concat(i):i;if(this.emitEvent(e,n),s&&this.$element){var o=e+=this.options.namespaceJQueryEvents?".flickity":"";if(t){var r=s.Event(t);r.type=e,o=r}this.$element.trigger(o,i)}},p.select=function(e,t,i){if(this.isActive&&(e=parseInt(e,10),this._wrapSelect(e),(this.options.wrapAround||t)&&(e=n.modulo(e,this.slides.length)),this.slides[e])){var o=this.selectedIndex;this.selectedIndex=e,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[e]),e!=o&&this.dispatchEvent("change",null,[e]),this.dispatchEvent("cellSelect")}},p._wrapSelect=function(e){var t=this.slides.length;if(!(this.options.wrapAround&&t>1))return e;var i=n.modulo(e,t),o=Math.abs(i-this.selectedIndex),r=Math.abs(i+t-this.selectedIndex),a=Math.abs(i-t-this.selectedIndex);!this.isDragSelect&&r<o?e+=t:!this.isDragSelect&&a<o&&(e-=t),e<0?this.x-=this.slideableWidth:e>=t&&(this.x+=this.slideableWidth)},p.previous=function(e,t){this.select(this.selectedIndex-1,e,t)},p.next=function(e,t){this.select(this.selectedIndex+1,e,t)},p.updateSelectedSlide=function(){var e=this.slides[this.selectedIndex];e&&(this.unselectSelectedSlide(),this.selectedSlide=e,e.select(),this.selectedCells=e.cells,this.selectedElements=e.getCellElements(),this.selectedCell=e.cells[0],this.selectedElement=this.selectedElements[0])},p.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},p.selectInitialIndex=function(){var e=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(e&&"string"==typeof e&&this.queryCell(e))return void this.selectCell(e,!1,!0);var t=0;e&&this.slides[e]&&(t=e),this.select(t,!1,!0)}},p.selectCell=function(e,t,i){var n=this.queryCell(e);if(n){var o=this.getCellSlideIndex(n);this.select(o,t,i)}},p.getCellSlideIndex=function(e){for(var t=0;t<this.slides.length;t++)if(-1!=this.slides[t].cells.indexOf(e))return t},p.getCell=function(e){for(var t=0;t<this.cells.length;t++){var i=this.cells[t];if(i.element==e)return i}},p.getCells=function(e){e=n.makeArray(e);var t=[];return e.forEach(function(e){var i=this.getCell(e);i&&t.push(i)},this),t},p.getCellElements=function(){return this.cells.map(function(e){return e.element})},p.getParentCell=function(e){var t=this.getCell(e);return t||(e=n.getParent(e,".flickity-slider > *"),this.getCell(e))},p.getAdjacentCellElements=function(e,t){if(!e)return this.selectedSlide.getCellElements();t=void 0===t?this.selectedIndex:t;var i=this.slides.length;if(1+2*e>=i)return this.getCellElements();for(var o=[],r=t-e;r<=t+e;r++){var a=this.options.wrapAround?n.modulo(r,i):r,s=this.slides[a];s&&(o=o.concat(s.getCellElements()))}return o},p.queryCell=function(e){if("number"==typeof e)return this.cells[e];if("string"==typeof e){if(e.match(/^[#\.]?[\d\/]/))return;e=this.element.querySelector(e)}return this.getCell(e)},p.uiChange=function(){this.emitEvent("uiChange")},p.childUIPointerDown=function(e){"touchstart"!=e.type&&e.preventDefault(),this.focus()},p.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(f,"onresize",150),p.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var e=this.selectedElements&&this.selectedElements[0];this.selectCell(e,!1,!0)}},p.watchCSS=function(){this.options.watchCSS&&(-1!=l(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},p.onkeydown=function(e){var t=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!t){var i=f.keyboardHandlers[e.keyCode];i&&i.call(this)}},f.keyboardHandlers={37:function(){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()},39:function(){var e=this.options.rightToLeft?"previous":"next";this.uiChange(),this[e]()}},p.focus=function(){var t=e.pageYOffset;this.element.focus({preventScroll:!0}),e.pageYOffset!=t&&e.scrollTo(e.pageXOffset,t)},p.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(e){e.destroy()}),this.element.removeChild(this.viewport),u(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},p.destroy=function(){this.deactivate(),e.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),s&&this.$element&&s.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete d[this.guid]},n.extend(p,a),f.data=function(e){var t=(e=n.getQueryElement(e))&&e.flickityGUID;return t&&d[t]},n.htmlInit(f,"flickity"),s&&s.bridget&&s.bridget("flickity",f);return f.setJQuery=function(e){s=e},f.Cell=o,f.Slide=r,f}(r,e,t,i,n,o,a)}.apply(t,n))||(e.exports=o)}(window)},function(e,t,i){var n=i(60)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t,i){var n,o;"undefined"!=typeof window&&window,void 0===(o="function"==typeof(n=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return-1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?n.call(t,i,t,e):n)||(e.exports=o)},function(e,t,i){var n,o;
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */window,void 0===(o="function"==typeof(n=function(){"use strict";function e(e){var t=parseFloat(e),i=-1==e.indexOf("%")&&!isNaN(t);return i&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n=i.length;function o(e){var i=getComputedStyle(e);return i||t("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),i}var r,a=!1;function s(t){if(function(){if(!a){a=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(t);var n=o(t);r=200==Math.round(e(n.width)),s.isBoxSizeOuter=r,i.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=o(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<n;t++){var o=i[t];e[o]=0}return e}();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var u=c.isBorderBox="border-box"==l.boxSizing,h=0;h<n;h++){var d=i[h],f=l[d],p=parseFloat(f);c[d]=isNaN(p)?0:p}var m=c.paddingLeft+c.paddingRight,v=c.paddingTop+c.paddingBottom,g=c.marginLeft+c.marginRight,y=c.marginTop+c.marginBottom,b=c.borderLeftWidth+c.borderRightWidth,w=c.borderTopWidth+c.borderBottomWidth,E=u&&r,S=e(l.width);!1!==S&&(c.width=S+(E?0:m+b));var k=e(l.height);return!1!==k&&(c.height=k+(E?0:v+w)),c.innerWidth=c.width-(m+b),c.innerHeight=c.height-(v+w),c.outerWidth=c.width+g,c.outerHeight=c.height+y,c}}return s})?n.call(t,i,t,e):n)||(e.exports=o)},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t){function i(e,t,i,n,o,r,a){try{var s=e[r](a),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function s(e){i(a,o,r,s,l,"next",e)}function l(e){i(a,o,r,s,l,"throw",e)}s(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n;e.exports=function e(t,i,o){function r(s,l){if(!i[s]){if(!t[s]){var c="function"==typeof n&&n;if(!l&&c)return n(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){var i=t[s][1][e];return r(i||e)},h,h.exports,e,t,i,o)}return i[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t,i){
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/
"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var i,n=arguments.length;for(i=0;i<n;i++)e=arguments[i],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:i.call(this,e)}}e=null}():function(e){"use strict";if("Element"in e){var t=e.Element.prototype,i=Object,n=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},r=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},s=function(e){for(var t=n.call(e.getAttribute("class")||""),i=t?t.split(/\s+/):[],o=0,r=i.length;o<r;o++)this.push(i[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],c=function(){return new s(this)};if(r.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return-1!==a(this,e+="")},l.add=function(){var e,t=arguments,i=0,n=t.length,o=!1;do{e=t[i]+"",-1===a(this,e)&&(this.push(e),o=!0)}while(++i<n);o&&this._updateClassName()},l.remove=function(){var e,t,i=arguments,n=0,o=i.length,r=!1;do{for(e=i[n]+"",t=a(this,e);-1!==t;)this.splice(t,1),r=!0,t=a(this,e)}while(++n<o);r&&this._updateClassName()},l.toggle=function(e,t){e+="";var i=this.contains(e),n=i?!0!==t&&"remove":!1!==t&&"add";return n&&this[n](e),!0===t||!1===t?t:!i},l.toString=function(){return this.join(" ")},i.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{i.defineProperty(t,"classList",u)}catch(e){-2146823252===e.number&&(u.enumerable=!1,i.defineProperty(t,"classList",u))}}else i.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(window.self))},{}],2:[function(e,t,i){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var i=/<([\w:]+)/.exec(e);if(!i)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var n=i[1];if("body"==n){var o=t.createElement("html");return o.innerHTML=e,o.removeChild(o.lastChild)}var a=r[n]||r._default,s=a[0],l=a[1],c=a[2];for((o=t.createElement("div")).innerHTML=l+e+c;s--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);for(var u=t.createDocumentFragment();o.firstChild;)u.appendChild(o.removeChild(o.firstChild));return u};var n,o=!1;"undefined"!=typeof document&&((n=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',o=!n.getElementsByTagName("link").length,n=void 0);var r={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};r.td=r.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],r.option=r.optgroup=[1,'<select multiple="multiple">',"</select>"],r.thead=r.tbody=r.colgroup=r.caption=r.tfoot=[1,"<table>","</table>"],r.polyline=r.ellipse=r.polygon=r.circle=r.text=r.line=r.path=r.rect=r.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],3:[function(e,t,i){"use strict";function n(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var i=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r=Object.keys(Object(o)),a=0,s=r.length;a<s;a++){var l=r[a],c=Object.getOwnPropertyDescriptor(o,l);void 0!==c&&c.enumerable&&(i[l]=o[l])}}return i}t.exports={assign:n,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}}},{}],4:[function(e,t,i){e("classlist-polyfill"),e("es6-object-assign").polyfill();var n=e("domify"),o=function(e){if(void 0!==e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}return""},r=function(e,t){if("string"==typeof t&&0!==t.length)for(var i=t.split(" "),n=0;n<i.length;n++){var o=i[n];o.length&&e.classList.add(o)}},a=function(){var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var i in t)if(void 0!==e.style[i])return t[i];return!1}(),s={vex:"vex",content:"vex-content",overlay:"vex-overlay",close:"vex-close",closing:"vex-closing",open:"vex-open"},l={},c=1,u=!1,h={open:function(e){var t=function(e){console.warn('The "'+e+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.'),console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};e.css&&t("css"),e.overlayCSS&&t("overlayCSS"),e.contentCSS&&t("contentCSS"),e.closeCSS&&t("closeCSS");var i={};i.id=c++,l[i.id]=i,i.isOpen=!0,i.close=function(){if(!this.isOpen)return!0;var e=this.options;if(u&&!e.escapeButtonCloses)return!1;var t=function(){return!e.beforeClose||e.beforeClose.call(this)}.bind(this)();if(!1===t)return!1;this.isOpen=!1;var i=window.getComputedStyle(this.contentEl);function n(e){return"none"!==i.getPropertyValue(e+"animation-name")&&"0s"!==i.getPropertyValue(e+"animation-duration")}var o=n("")||n("-webkit-")||n("-moz-")||n("-o-"),r=function t(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(a,t),this.overlayEl.removeEventListener(a,t),delete l[this.id],this.rootEl.parentNode.removeChild(this.rootEl),this.bodyEl.removeChild(this.overlayEl),e.afterClose&&e.afterClose.call(this),0===Object.keys(l).length&&document.body.classList.remove(s.open))}.bind(this);return a&&o?(this.rootEl.addEventListener(a,r),this.overlayEl.addEventListener(a,r),this.rootEl.classList.add(s.closing),this.overlayEl.classList.add(s.closing)):r(),!0},"string"==typeof e&&(e={content:e}),e.unsafeContent&&!e.content?e.content=e.unsafeContent:e.content&&(e.content=o(e.content));var d=i.options=Object.assign({},h.defaultOptions,e),f=i.bodyEl=document.getElementsByTagName("body")[0],p=i.rootEl=document.createElement("div");p.classList.add(s.vex),r(p,d.className);var m=i.overlayEl=document.createElement("div");m.classList.add(s.overlay),r(m,d.overlayClassName),d.overlayClosesOnClick&&p.addEventListener("click",function(e){e.target===p&&i.close()}),f.appendChild(m);var v=i.contentEl=document.createElement("div");if(v.classList.add(s.content),r(v,d.contentClassName),v.appendChild(d.content instanceof window.Node?d.content:n(d.content)),p.appendChild(v),d.showCloseButton){var g=i.closeEl=document.createElement("div");g.classList.add(s.close),r(g,d.closeClassName),g.addEventListener("click",i.close.bind(i)),v.appendChild(g)}return document.querySelector(d.appendLocation).appendChild(p),d.afterOpen&&d.afterOpen.call(i),document.body.classList.add(s.open),i},close:function(e){var t;if(e.id)t=e.id;else{if("string"!=typeof e)throw new TypeError("close requires a vex object or id string");t=e}return!!l[t]&&l[t].close()},closeTop:function(){var e=Object.keys(l);return!!e.length&&l[e[e.length-1]].close()},closeAll:function(){for(var e in l)this.close(e);return!0},getAll:function(){return l},getById:function(e){return l[e]}};window.addEventListener("keyup",function(e){27===e.keyCode&&(u=!0,h.closeTop(),u=!1)}),window.addEventListener("popstate",function(){h.defaultOptions.closeAllOnPopState&&h.closeAll()}),h.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0},Object.defineProperty(h,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:o}),h.registerPlugin=function(e,t){var i=e(h),n=t||i.name;if(h[n])throw new Error("Plugin "+t+" is already registered.");h[n]=i},t.exports=h},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[4])(4)},function(e,t){function i(t,n){return e.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,i(t,n)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n,o;
/*!
 * Unipointer v2.3.0
 * base class for doing one thing with pointer event
 * MIT license
 */
/*!
 * Unipointer v2.3.0
 * base class for doing one thing with pointer event
 * MIT license
 */
!function(r,a){n=[i(16)],void 0===(o=function(e){return function(e,t){"use strict";function i(){}var n=i.prototype=Object.create(t.prototype);n.bindStartEvent=function(e){this._bindStartEvent(e,!0)},n.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},n._bindStartEvent=function(t,i){var n=(i=void 0===i||i)?"addEventListener":"removeEventListener",o="mousedown";e.PointerEvent?o="pointerdown":"ontouchstart"in e&&(o="touchstart"),t[n](o,this)},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.getTouch=function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.identifier==this.pointerIdentifier)return i}},n.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},n.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},n.onpointerdown=function(e){this._pointerDown(e,e)},n._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},n.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return n._bindPostStartEvents=function(t){if(t){var i=o[t.type];i.forEach(function(t){e.addEventListener(t,this)},this),this._boundPointerEvents=i}},n._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){e.removeEventListener(t,this)},this),delete this._boundPointerEvents)},n.onmousemove=function(e){this._pointerMove(e,e)},n.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},n.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},n._pointerMove=function(e,t){this.pointerMove(e,t)},n.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},n.onmouseup=function(e){this._pointerUp(e,e)},n.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},n.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},n._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},n.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},n._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},n._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},n.pointerDone=function(){},n.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},n.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},n._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},n.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},i.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},i}(r,e)}.apply(t,n))||(e.exports=o)}(window)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n,o,r;o=[i(6),i(11)],void 0===(r="function"==typeof(n=function(e,t){var i=e.Slide,n=i.prototype.updateTarget;i.prototype.updateTarget=function(){if(n.apply(this,arguments),this.parent.options.fade){var e=this.target-this.x,t=this.cells[0].x;this.cells.forEach(function(i){var n=i.x-t-e;i.renderPosition(n)})}},i.prototype.setOpacity=function(e){this.cells.forEach(function(t){t.element.style.opacity=e})};var o=e.prototype;e.createMethods.push("_createFade"),o._createFade=function(){this.fadeIndex=this.selectedIndex,this.prevSelectedIndex=this.selectedIndex,this.on("select",this.onSelectFade),this.on("dragEnd",this.onDragEndFade),this.on("settle",this.onSettleFade),this.on("activate",this.onActivateFade),this.on("deactivate",this.onDeactivateFade)};var r=o.updateSlides;o.updateSlides=function(){r.apply(this,arguments),this.options.fade&&this.slides.forEach(function(e,t){var i=t==this.selectedIndex?1:0;e.setOpacity(i)},this)},o.onSelectFade=function(){this.fadeIndex=Math.min(this.prevSelectedIndex,this.slides.length-1),this.prevSelectedIndex=this.selectedIndex},o.onSettleFade=function(){if(delete this.didDragEnd,this.options.fade){this.selectedSlide.setOpacity(1);var e=this.slides[this.fadeIndex];e&&this.fadeIndex!=this.selectedIndex&&this.slides[this.fadeIndex].setOpacity(0)}},o.onDragEndFade=function(){this.didDragEnd=!0},o.onActivateFade=function(){this.options.fade&&this.element.classList.add("is-fade")},o.onDeactivateFade=function(){this.options.fade&&(this.element.classList.remove("is-fade"),this.slides.forEach(function(e){e.setOpacity("")}))};var a=o.positionSlider;o.positionSlider=function(){this.options.fade?(this.fadeSlides(),this.dispatchScrollEvent()):a.apply(this,arguments)};var s=o.positionSliderAtSelected;o.positionSliderAtSelected=function(){this.options.fade&&this.setTranslateX(0),s.apply(this,arguments)},o.fadeSlides=function(){if(!(this.slides.length<2)){var e=this.getFadeIndexes(),t=this.slides[e.a],i=this.slides[e.b],n=this.wrapDifference(t.target,i.target),o=this.wrapDifference(t.target,-this.x);o/=n,t.setOpacity(1-o),i.setOpacity(o);var r=e.a;this.isDragging&&(r=o>.5?e.a:e.b);var a=null!=this.fadeHideIndex&&this.fadeHideIndex!=r&&this.fadeHideIndex!=e.a&&this.fadeHideIndex!=e.b;a&&this.slides[this.fadeHideIndex].setOpacity(0),this.fadeHideIndex=r}},o.getFadeIndexes=function(){return this.isDragging||this.didDragEnd?this.options.wrapAround?this.getFadeDragWrapIndexes():this.getFadeDragLimitIndexes():{a:this.fadeIndex,b:this.selectedIndex}},o.getFadeDragWrapIndexes=function(){var e=this.slides.map(function(e,t){return this.getSlideDistance(-this.x,t)},this),i=e.map(function(e){return Math.abs(e)}),n=Math.min.apply(Math,i),o=i.indexOf(n),r=e[o],a=this.slides.length,s=r>=0?1:-1;return{a:o,b:t.modulo(o+s,a)}},o.getFadeDragLimitIndexes=function(){for(var e=0,t=0;t<this.slides.length-1;t++){var i=this.slides[t];if(-this.x<i.target)break;e=t}return{a:e,b:e+1}},o.wrapDifference=function(e,t){var i=t-e;if(!this.options.wrapAround)return i;var n=i+this.slideableWidth,o=i-this.slideableWidth;return Math.abs(n)<Math.abs(i)&&(i=n),Math.abs(o)<Math.abs(i)&&(i=o),i};var l=o._getWrapShiftCells;o._getWrapShiftCells=function(){this.options.fade||l.apply(this,arguments)};var c=o.shiftWrapCells;return o.shiftWrapCells=function(){this.options.fade||c.apply(this,arguments)},e})?n.apply(t,o):n)||(e.exports=r)},function(e,t,i){var n=i(53),o=i(57),r=i(58);function a(e){for(var t=r(),i=n(e),o=0;o<i.length;o++)t.include(i[o]);return t}e.exports=function(e){return a(e).bbox()},e.exports.polygon=function(e){return a(e).polygon()},e.exports.bboxify=function(e){return o(e).map(function(e){e&&"string"==typeof e.type&&(e.bbox=a(e).bbox(),this.update(e))})}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){window.libpannellum=function(e,t,i){function n(n){function c(e,t){return 1==e.level&&1!=t.level?-1:1==t.level&&1!=e.level?1:t.timestamp-e.timestamp}function u(e,t){return e.level!=t.level?e.level-t.level:e.diff-t.diff}function h(e,t,i,n,o,r){this.vertices=e,this.side=t,this.level=i,this.x=n,this.y=o,this.path=r.replace("%s",t).replace("%l",i).replace("%x",n).replace("%y",o)}function d(e,t,i,n,o){var r;r=v(e,(l=t.vertices).slice(0,3));var a=v(e,l.slice(3,6)),s=v(e,l.slice(6,9)),l=v(e,l.slice(9,12)),c=r[0]+a[0]+s[0]+l[0];if(-4==c||4==c?r=!1:r=-4!=(c=r[1]+a[1]+s[1]+l[1])&&4!=c&&4!=r[2]+a[2]+s[2]+l[2],r){for(a=(r=t.vertices)[0]+r[3]+r[6]+r[9],s=r[1]+r[4]+r[7]+r[10],l=r[2]+r[5]+r[8]+r[11],c=Math.sqrt(a*a+s*s+l*l),l=Math.asin(l/c),a=Math.atan2(s,a)-n,a+=a>Math.PI?-2*Math.PI:a<-Math.PI?2*Math.PI:0,a=Math.abs(a),t.diff=Math.acos(Math.sin(i)*Math.sin(l)+Math.cos(i)*Math.cos(l)*Math.cos(a)),a=!1,s=0;s<g.nodeCache.length;s++)if(g.nodeCache[s].path==t.path){a=!0,g.nodeCache[s].timestamp=g.nodeCacheTimestamp++,g.nodeCache[s].diff=t.diff,g.currentNodes.push(g.nodeCache[s]);break}if(a||(t.timestamp=g.nodeCacheTimestamp++,g.currentNodes.push(t),g.nodeCache.push(t)),t.level<g.level){l=L.cubeResolution*Math.pow(2,t.level-L.maxLevel),a=Math.ceil(l*L.invTileResolution)-1,s=l%L.tileResolution*2;var u=2*l%L.tileResolution;0===u&&(u=L.tileResolution),0===s&&(s=2*L.tileResolution),c=.5,t.x!=a&&t.y!=a||(c=1-L.tileResolution/(L.tileResolution+u));var f=1-c,p=(l=[],c),m=c,y=c,b=f,w=f,E=f;for(u<L.tileResolution&&(t.x==a&&t.y!=a?(w=m=.5,("d"==t.side||"u"==t.side)&&(E=y=.5)):t.x!=a&&t.y==a&&(b=p=.5,"l"==t.side||"r"==t.side)&&(E=y=.5)),s<=L.tileResolution&&(t.x==a&&(p=0,b=1,"l"==t.side||"r"==t.side)&&(y=0,E=1),t.y==a&&(m=0,w=1,"d"==t.side||"u"==t.side)&&(y=0,E=1)),u=new h(u=[r[0],r[1],r[2],r[0]*p+r[3]*b,r[1]*c+r[4]*f,r[2]*y+r[5]*E,r[0]*p+r[6]*b,r[1]*m+r[7]*w,r[2]*y+r[8]*E,r[0]*c+r[9]*f,r[1]*m+r[10]*w,r[2]*y+r[11]*E],t.side,t.level+1,2*t.x,2*t.y,L.fullpath),l.push(u),t.x==a&&s<=L.tileResolution||(u=new h(u=[r[0]*p+r[3]*b,r[1]*c+r[4]*f,r[2]*y+r[5]*E,r[3],r[4],r[5],r[3]*c+r[6]*f,r[4]*m+r[7]*w,r[5]*y+r[8]*E,r[0]*p+r[6]*b,r[1]*m+r[7]*w,r[2]*y+r[8]*E],t.side,t.level+1,2*t.x+1,2*t.y,L.fullpath),l.push(u)),t.x==a&&s<=L.tileResolution||t.y==a&&s<=L.tileResolution||(u=new h(u=[r[0]*p+r[6]*b,r[1]*m+r[7]*w,r[2]*y+r[8]*E,r[3]*c+r[6]*f,r[4]*m+r[7]*w,r[5]*y+r[8]*E,r[6],r[7],r[8],r[9]*p+r[6]*b,r[10]*c+r[7]*f,r[11]*y+r[8]*E],t.side,t.level+1,2*t.x+1,2*t.y+1,L.fullpath),l.push(u)),t.y==a&&s<=L.tileResolution||(u=new h(u=[r[0]*c+r[9]*f,r[1]*m+r[10]*w,r[2]*y+r[11]*E,r[0]*p+r[6]*b,r[1]*m+r[7]*w,r[2]*y+r[8]*E,r[9]*p+r[6]*b,r[10]*c+r[7]*f,r[11]*y+r[8]*E,r[9],r[10],r[11]],t.side,t.level+1,2*t.x,2*t.y+1,L.fullpath),l.push(u)),t=0;t<l.length;t++)d(e,l[t],i,n,o)}}}function f(e,t,i){var n=Math.sin(t);return t=Math.cos(t),"x"==i?[e[0],t*e[1]+n*e[2],t*e[2]-n*e[1],e[3],t*e[4]+n*e[5],t*e[5]-n*e[4],e[6],t*e[7]+n*e[8],t*e[8]-n*e[7]]:"y"==i?[t*e[0]-n*e[2],e[1],t*e[2]+n*e[0],t*e[3]-n*e[5],e[4],t*e[5]+n*e[3],t*e[6]-n*e[8],e[7],t*e[8]+n*e[6]]:"z"==i?[t*e[0]+n*e[1],t*e[1]-n*e[0],e[2],t*e[3]+n*e[4],t*e[4]-n*e[3],e[5],t*e[6]+n*e[7],t*e[7]-n*e[6],e[8]]:void 0}function p(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]}function m(e){e.textureLoad||(e.textureLoad=!0,O(encodeURI(e.path+"."+L.extension),function(t){e.texture=t,e.textureLoaded=!0}))}function v(e,t){var i=(o=[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[4]*t[0]+e[5]*t[1]+e[6]*t[2],e[11]+e[8]*t[0]+e[9]*t[1]+e[10]*t[2],1/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2])])[0]*o[3],n=o[1]*o[3],o=o[2]*o[3],r=[0,0,0];return-1>i&&(r[0]=-1),1<i&&(r[0]=1),-1>n&&(r[1]=-1),1<n&&(r[1]=1),(-1>o||1<o)&&(r[2]=1),r}var g,y,b,w,E,S,k,x,L,C,A,P,M,T,I,_=t.createElement("canvas");_.style.width=_.style.height="100%",n.appendChild(_),this.init=function(e,c,u,h,d,f,p,m){if(typeof c===i&&(c="equirectangular"),C=c,L=e,A=u,g){if(b&&(y.detachShader(g,b),y.deleteShader(b)),w&&(y.detachShader(g,w),y.deleteShader(w)),y.bindBuffer(y.ARRAY_BUFFER,null),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,null),g.texture&&y.deleteTexture(g.texture),g.nodeCache)for(e=0;e<g.nodeCache.length;e++)y.deleteTexture(g.nodeCache[e].texture);y.deleteProgram(g),g=i}if(x=i,"cubemap"==C&&0!=(L[0].width&L[0].width-1)&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||y||(y=_.getContext("experimental-webgl",{alpha:!1,depth:!1})),!y&&("multires"==C&&L.hasOwnProperty("fallbackPath")||"cubemap"==C)&&("WebkitAppearance"in t.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.appVersion.indexOf("MSIE 10"))){S&&n.removeChild(S),(S=t.createElement("div")).className="pnlm-world",h=L.basePath?L.basePath+L.fallbackPath:L.fallbackPath;var v="frblud".split(""),O=0;for(d=function(){var e=t.createElement("canvas");e.className="pnlm-face pnlm-"+v[this.side]+"face",S.appendChild(e);var i=e.getContext("2d");e.style.width=this.width+4+"px",e.style.height=this.height+4+"px",e.width=this.width+4,e.height=this.height+4,i.drawImage(this,2,2);var o,r,a=i.getImageData(0,0,e.width,e.height),s=a.data;for(o=2;o<e.width-2;o++)for(r=0;4>r;r++)s[4*(o+e.width)+r]=s[4*(o+2*e.width)+r],s[4*(o+e.width*(e.height-2))+r]=s[4*(o+e.width*(e.height-3))+r];for(o=2;o<e.height-2;o++)for(r=0;4>r;r++)s[4*(o*e.width+1)+r]=s[4*(o*e.width+2)+r],s[4*((o+1)*e.width-2)+r]=s[4*((o+1)*e.width-3)+r];for(r=0;4>r;r++)s[4*(e.width+1)+r]=s[4*(2*e.width+2)+r],s[4*(2*e.width-2)+r]=s[4*(3*e.width-3)+r],s[4*(e.width*(e.height-2)+1)+r]=s[4*(e.width*(e.height-3)+2)+r],s[4*(e.width*(e.height-1)-2)+r]=s[4*(e.width*(e.height-2)-3)+r];for(o=1;o<e.width-1;o++)for(r=0;4>r;r++)s[4*o+r]=s[4*(o+e.width)+r],s[4*(o+e.width*(e.height-1))+r]=s[4*(o+e.width*(e.height-2))+r];for(o=1;o<e.height-1;o++)for(r=0;4>r;r++)s[o*e.width*4+r]=s[4*(o*e.width+1)+r],s[4*((o+1)*e.width-1)+r]=s[4*((o+1)*e.width-2)+r];for(r=0;4>r;r++)s[r]=s[4*(e.width+1)+r],s[4*(e.width-1)+r]=s[4*(2*e.width-2)+r],s[e.width*(e.height-1)*4+r]=s[4*(e.width*(e.height-2)+1)+r],s[4*(e.width*e.height-1)+r]=s[4*(e.width*(e.height-1)-2)+r];i.putImageData(a,0,0),6==++O&&(E=this.width,n.appendChild(S),p())},e=0;6>e;e++)(f=new Image).crossOrigin="anonymous",f.side=e,f.onload=d,f.src="multires"==C?encodeURI(h.replace("%s",v[e])+"."+L.extension):encodeURI(L[e].src)}else{if(!y)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};for(L.fullpath=L.basePath?L.basePath+L.path:L.path,L.invTileResolution=1/L.tileResolution,c=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1],k=[],e=0;6>e;e++)k[e]=c.slice(12*e,12*e+12),c=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1];if("equirectangular"==C){if((e=Math.max(L.width,L.height))>(c=y.getParameter(y.MAX_TEXTURE_SIZE)))throw console.log("Error: The image is too big; it's "+e+"px wide, but this device's maximum supported width is "+c+"px."),{type:"webgl size error",width:e,maxWidth:c}}else if("cubemap"==C&&(e=L[0].width)>(c=y.getParameter(y.MAX_CUBE_MAP_TEXTURE_SIZE)))throw console.log("Error: The cube face image is too big; it's "+e+"px wide, but this device's maximum supported width is "+c+"px."),{type:"webgl size error",width:e,maxWidth:c};if(m===i||m.horizonPitch===i&&m.horizonRoll===i||(x=[m.horizonPitch==i?0:m.horizonPitch,m.horizonRoll==i?0:m.horizonRoll]),e=y.TEXTURE_2D,y.viewport(0,0,_.width,_.height),b=y.createShader(y.VERTEX_SHADER),c=o,"multires"==C&&(c=r),y.shaderSource(b,c),y.compileShader(b),w=y.createShader(y.FRAGMENT_SHADER),c=s,"cubemap"==C?(e=y.TEXTURE_CUBE_MAP,c=a):"multires"==C&&(c=l),y.shaderSource(w,c),y.compileShader(w),g=y.createProgram(),y.attachShader(g,b),y.attachShader(g,w),y.linkProgram(g),y.getShaderParameter(b,y.COMPILE_STATUS)||console.log(y.getShaderInfoLog(b)),y.getShaderParameter(w,y.COMPILE_STATUS)||console.log(y.getShaderInfoLog(w)),y.getProgramParameter(g,y.LINK_STATUS)||console.log(y.getProgramInfoLog(g)),y.useProgram(g),g.drawInProgress=!1,g.texCoordLocation=y.getAttribLocation(g,"a_texCoord"),y.enableVertexAttribArray(g.texCoordLocation),"multires"!=C?(P||(P=y.createBuffer()),y.bindBuffer(y.ARRAY_BUFFER,P),y.bufferData(y.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),y.STATIC_DRAW),y.vertexAttribPointer(g.texCoordLocation,2,y.FLOAT,!1,0,0),g.aspectRatio=y.getUniformLocation(g,"u_aspectRatio"),y.uniform1f(g.aspectRatio,_.width/_.height),g.psi=y.getUniformLocation(g,"u_psi"),g.theta=y.getUniformLocation(g,"u_theta"),g.f=y.getUniformLocation(g,"u_f"),g.h=y.getUniformLocation(g,"u_h"),g.v=y.getUniformLocation(g,"u_v"),g.vo=y.getUniformLocation(g,"u_vo"),g.rot=y.getUniformLocation(g,"u_rot"),y.uniform1f(g.h,h/(2*Math.PI)),y.uniform1f(g.v,d/Math.PI),y.uniform1f(g.vo,f/Math.PI*2),"equirectangular"==C&&(g.backgroundColor=y.getUniformLocation(g,"u_backgroundColor"),y.uniform4fv(g.backgroundColor,(m.backgroundColor?m.backgroundColor:[0,0,0]).concat([1]))),g.texture=y.createTexture(),y.bindTexture(e,g.texture),"cubemap"==C?(y.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,L[1]),y.texImage2D(y.TEXTURE_CUBE_MAP_NEGATIVE_X,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,L[3]),y.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_Y,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,L[4]),y.texImage2D(y.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,L[5]),y.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_Z,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,L[0]),y.texImage2D(y.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,L[2])):y.texImage2D(e,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,L),y.texParameteri(e,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(e,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.texParameteri(e,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(e,y.TEXTURE_MAG_FILTER,y.LINEAR)):(g.vertPosLocation=y.getAttribLocation(g,"a_vertCoord"),y.enableVertexAttribArray(g.vertPosLocation),M||(M=y.createBuffer()),T||(T=y.createBuffer()),I||(I=y.createBuffer()),y.bindBuffer(y.ARRAY_BUFFER,T),y.bufferData(y.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),y.STATIC_DRAW),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,I),y.bufferData(y.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),y.STATIC_DRAW),g.perspUniform=y.getUniformLocation(g,"u_perspMatrix"),g.cubeUniform=y.getUniformLocation(g,"u_cubeMatrix"),g.level=-1,g.currentNodes=[],g.nodeCache=[],g.nodeCacheTimestamp=0),0!==y.getError())throw console.log("Error: Something went wrong with WebGL!"),{type:"webgl error"};p()}},this.destroy=function(){if(n!==i&&(_!==i&&n.removeChild(_),S!==i&&n.removeChild(S)),y){var e=y.getExtension("WEBGL_lose_context");e&&e.loseContext()}},this.resize=function(){var t=e.devicePixelRatio||1;_.width=_.clientWidth*t,_.height=_.clientHeight*t,y&&(y.viewport(0,0,_.width,_.height),"multires"!=C&&y.uniform1f(g.aspectRatio,_.width/_.height))},this.resize(),this.render=function(t,n,o,r){var a;if(a=0,r===i&&(r={}),r.roll&&(a=r.roll),x!==i){var s=x[0],l=x[1],v=t,b=n,w=Math.cos(l)*Math.sin(t)*Math.sin(s)+Math.cos(t)*(Math.cos(s)*Math.cos(n)+Math.sin(l)*Math.sin(s)*Math.sin(n)),P=-Math.sin(t)*Math.sin(l)+Math.cos(t)*Math.cos(l)*Math.sin(n);t=Math.cos(l)*Math.cos(s)*Math.sin(t)+Math.cos(t)*(-Math.cos(n)*Math.sin(s)+Math.cos(s)*Math.sin(l)*Math.sin(n)),t=Math.asin(Math.max(Math.min(t,1),-1)),n=Math.atan2(P,w),s=[Math.cos(v)*(Math.sin(l)*Math.sin(s)*Math.cos(b)-Math.cos(s)*Math.sin(b)),Math.cos(v)*Math.cos(l)*Math.cos(b),Math.cos(v)*(Math.cos(s)*Math.sin(l)*Math.cos(b)+Math.sin(b)*Math.sin(s))],l=[-Math.cos(t)*Math.sin(n),Math.cos(t)*Math.cos(n)],l=Math.acos(Math.max(Math.min((s[0]*l[0]+s[1]*l[1])/(Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2])*Math.sqrt(l[0]*l[0]+l[1]*l[1])),1),-1)),0>s[2]&&(l=2*Math.PI-l),a+=l}if(y||"multires"!=C&&"cubemap"!=C){if("multires"!=C)o=2*Math.atan(Math.tan(.5*o)/(_.width/_.height)),o=1/Math.tan(.5*o),y.uniform1f(g.psi,n),y.uniform1f(g.theta,t),y.uniform1f(g.rot,a),y.uniform1f(g.f,o),!0===A&&"equirectangular"==C&&(y.bindTexture(y.TEXTURE_2D,g.texture),y.texImage2D(y.TEXTURE_2D,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,L)),y.drawArrays(y.TRIANGLES,0,6);else{for(s=_.width/_.height,l=2*Math.atan(Math.tan(o/2)*_.height/_.width),s=[(l=1/Math.tan(l/2))/s,0,0,0,0,l,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0],l=1;l<L.maxLevel&&_.width>L.tileResolution*Math.pow(2,l-1)*Math.tan(o/2)*.707;)l++;if(g.level=l,l=f(l=[1,0,0,0,1,0,0,0,1],-a,"z"),l=f(l,-t,"x"),l=[(l=f(l,n,"y"))[0],l[1],l[2],0,l[3],l[4],l[5],0,l[6],l[7],l[8],0,0,0,0,1],y.uniformMatrix4fv(g.perspUniform,!1,new Float32Array(p(s))),y.uniformMatrix4fv(g.cubeUniform,!1,new Float32Array(p(l))),s=[s[0]*l[0],s[0]*l[1],s[0]*l[2],0,s[5]*l[4],s[5]*l[5],s[5]*l[6],0,s[10]*l[8],s[10]*l[9],s[10]*l[10],s[11],-l[8],-l[9],-l[10],0],g.nodeCache.sort(c),200<g.nodeCache.length&&g.nodeCache.length>g.currentNodes.length+50)for(l=g.nodeCache.splice(200,g.nodeCache.length-200),a=0;a<l.length;a++)y.deleteTexture(l[a].texture);for(g.currentNodes=[],l="fbudlr".split(""),a=0;6>a;a++)d(s,v=new h(k[a],l[a],1,0,0,L.fullpath),t,n,o);for(g.currentNodes.sort(u),a=0;a<g.currentNodes.length;a++)if(!g.currentNodes[a].texture){setTimeout(m(g.currentNodes[a]),0);break}if(!g.drawInProgress){for(g.drawInProgress=!0,t=0;t<g.currentNodes.length;t++)g.currentNodes[t].textureLoaded&&(y.bindBuffer(y.ARRAY_BUFFER,M),y.bufferData(y.ARRAY_BUFFER,new Float32Array(g.currentNodes[t].vertices),y.STATIC_DRAW),y.vertexAttribPointer(g.vertPosLocation,3,y.FLOAT,!1,0,0),y.bindBuffer(y.ARRAY_BUFFER,T),y.vertexAttribPointer(g.texCoordLocation,2,y.FLOAT,!1,0,0),y.bindTexture(y.TEXTURE_2D,g.currentNodes[t].texture),y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0));g.drawInProgress=!1}}if(r.returnImage!==i)return _.toDataURL("image/png")}else for(r={f:"translate3d(-"+((a=E/2)+2)+"px, -"+(a+2)+"px, -"+a+"px)",b:"translate3d("+(a+2)+"px, -"+(a+2)+"px, "+a+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(a+2)+"px, -"+a+"px, "+(a+2)+"px) rotateX(270deg)",d:"translate3d(-"+(a+2)+"px, "+a+"px, -"+(a+2)+"px) rotateX(90deg)",l:"translate3d(-"+a+"px, -"+(a+2)+"px, "+(a+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+a+"px, -"+(a+2)+"px, -"+(a+2)+"px) rotateY(270deg)"},t="perspective("+(o=(o=1/Math.tan(o/2))*_.width/(e.devicePixelRatio||1)/2+"px")+") translateZ("+o+") rotateX("+t+"rad) rotateY("+n+"rad) ",n=Object.keys(r),a=0;6>a;a++)(o=S.querySelector(".pnlm-"+n[a]+"face").style).webkitTransform=t+r[n[a]],o.transform=t+r[n[a]]},this.isLoading=function(){if(y&&"multires"==C)for(var e=0;e<g.currentNodes.length;e++)if(!g.currentNodes[e].textureLoaded)return!0;return!1},this.getCanvas=function(){return _};var O=function(){function e(){var e=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin="anonymous",this.image.addEventListener("load",function(){var t=e.image;y.bindTexture(y.TEXTURE_2D,e.texture),y.texImage2D(y.TEXTURE_2D,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,t),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.bindTexture(y.TEXTURE_2D,null),e.callback(e.texture),o.length?(t=o.shift(),e.loadTexture(t.src,t.texture,t.callback)):n[i++]=e})}function t(e,t,i){this.src=e,this.texture=t,this.callback=i}var i=4,n={},o=[];e.prototype.loadTexture=function(e,t,i){this.texture=t,this.callback=i,this.image.src=e};for(var r=0;r<i;r++)n[r]=new e;return function(e,r){var a=y.createTexture();return i?n[--i].loadTexture(e,a,r):o.push(new t(e,a,r)),a}}()}var o="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",r="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",a="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);float cosphi = cos(phi);\ngl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));\n}",s="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);lambda = mod(lambda + PI, PI * 2.0) - PI;\nvec2 coord = vec2(lambda / PI, phi / (PI / 2.0));\nif(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)\ngl_FragColor = u_backgroundColor;\nelse\ngl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n}",l="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(e,t,i,o){return new n(e,t,i,o)}}}(window,document),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),window.pannellum=function(e,t,i){function n(n,o){function r(){if((h=t.createElement("div")).innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1==h.getElementsByTagName("i").length)l();else{var o;if(K=G.hfov,ee=G.pitch,"cubemap"==G.type){for(Q=[],h=0;6>h;h++)Q.push(new Image),Q[h].crossOrigin="anonymous";Ae.load.lbox.style.display="block",Ae.load.lbar.style.display="none"}else if("multires"==G.type)h=JSON.parse(JSON.stringify(G.multiRes)),G.basePath&&G.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(G.multiRes.basePath)?h.basePath=G.basePath+G.multiRes.basePath:G.multiRes.basePath?h.basePath=G.multiRes.basePath:G.basePath&&(h.basePath=G.basePath),Q=h;else if(!0===G.dynamic)Q=G.panorama;else{if(G.panorama===i)return void l("No panorama image was specified.");Q=new Image}if("cubemap"==G.type)for(var r=6,c=function(){0===--r&&s()},u=function(e){var i=t.createElement("a");i.href=e.target.src,i.innerHTML=i.href,l("The file "+i.outerHTML+" could not be accessed.")},h=0;h<Q.length;h++)Q[h].onload=c,Q[h].onerror=u,o=G.cubeMap[h],G.basePath&&!a(o)&&(o=G.basePath+o),Q[h].src=encodeURI(o);else if("multires"==G.type)s();else if(o="",G.basePath&&(o=G.basePath),!0!==G.dynamic){o=a(G.panorama)?G.panorama:o+G.panorama,Q.onload=function(){e.URL.revokeObjectURL(this.src),s()};var d=new XMLHttpRequest;d.onloadend=function(){if(200!=d.status){var n=t.createElement("a");n.href=encodeURI(o),n.innerHTML=n.href,l("The file "+n.outerHTML+" could not be accessed.")}!function(t){var n=new FileReader;n.addEventListener("loadend",function(){var o=n.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)){var r=o.indexOf("");(0>r||65536<r)&&l("Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).")}if(-1<(r=o.indexOf("<x:xmpmeta"))&&!0!==G.ignoreGPanoXMP){var a=o.substring(r,o.indexOf("</x:xmpmeta>")+12),s=function(e){var t;return 0<=a.indexOf(e+'="')?t=(t=a.substring(a.indexOf(e+'="')+e.length+2)).substring(0,t.indexOf('"')):0<=a.indexOf(e+">")&&(t=(t=a.substring(a.indexOf(e+">")+e.length+1)).substring(0,t.indexOf("<"))),t!==i?Number(t):null},o=s("GPano:FullPanoWidthPixels"),r=s("GPano:CroppedAreaImageWidthPixels"),c=s("GPano:FullPanoHeightPixels"),u=s("GPano:CroppedAreaImageHeightPixels"),h=s("GPano:CroppedAreaTopPixels"),d=s("GPano:PoseHeadingDegrees"),f=s("GPano:PosePitchDegrees"),s=s("GPano:PoseRollDegrees");null!==o&&null!==r&&null!==c&&null!==u&&null!==h&&(0>we.indexOf("haov")&&(G.haov=r/o*360),0>we.indexOf("vaov")&&(G.vaov=u/c*180),0>we.indexOf("vOffset")&&(G.vOffset=-180*((h+u/2)/c-.5)),null!==d&&0>we.indexOf("northOffset")&&(G.northOffset=d,!1!==G.compass&&(G.compass=!0)),null!==f&&null!==s&&(0>we.indexOf("horizonPitch")&&(G.horizonPitch=f),0>we.indexOf("horizonRoll")&&(G.horizonRoll=s)))}Q.src=e.URL.createObjectURL(t)}),n.readAsBinaryString!==i?n.readAsBinaryString(t):n.readAsText(t)}(this.response),Ae.load.msg.innerHTML=""},d.onprogress=function(e){var t,i;e.lengthComputable?(Ae.load.lbarFill.style.width=e.loaded/e.total*100+"%",1e6<e.total?(t="MB",i=(e.loaded/1e6).toFixed(2),e=(e.total/1e6).toFixed(2)):1e3<e.total?(t="kB",i=(e.loaded/1e3).toFixed(1),e=(e.total/1e3).toFixed(1)):(t="B",i=e.loaded,e=e.total),Ae.load.msg.innerHTML=i+" / "+e+" "+t):(Ae.load.lbox.style.display="block",Ae.load.lbar.style.display="none")};try{d.open("GET",o,!0)}catch(e){l("There is something wrong with the panorama URL.")}d.responseType="blob",d.setRequestHeader("Accept","image/*,*/*;q=0.9"),d.send()}n.classList.add("pnlm-grab"),n.classList.remove("pnlm-grabbing")}}function a(e){return/^(?:[a-z]+:)?\/\//i.test(e)||"/"==e[0]||"blob:"==e.slice(0,5)}function s(){X||(X=new libpannellum.renderer(xe)),fe||(fe=!0,Le.addEventListener("mousedown",u,!1),t.addEventListener("mousemove",d,!1),t.addEventListener("mouseup",f,!1),G.mouseZoom&&(n.addEventListener("mousewheel",w,!1),n.addEventListener("DOMMouseScroll",w,!1)),n.addEventListener("mozfullscreenchange",N,!1),n.addEventListener("webkitfullscreenchange",N,!1),n.addEventListener("msfullscreenchange",N,!1),n.addEventListener("fullscreenchange",N,!1),e.addEventListener("resize",C,!1),e.addEventListener("orientationchange",C,!1),n.addEventListener("keydown",E,!1),n.addEventListener("keyup",k,!1),n.addEventListener("blur",S,!1),t.addEventListener("mouseleave",f,!1),Le.addEventListener("touchstart",p,!1),Le.addEventListener("touchmove",m,!1),Le.addEventListener("touchend",v,!1),Le.addEventListener("pointerdown",g,!1),Le.addEventListener("pointermove",y,!1),Le.addEventListener("pointerup",b,!1),Le.addEventListener("pointerleave",b,!1),e.navigator.pointerEnabled&&(n.style.touchAction="none")),function(){try{var e={};G.horizonPitch!==i&&(e.horizonPitch=G.horizonPitch*Math.PI/180),G.horizonRoll!==i&&(e.horizonRoll=G.horizonRoll*Math.PI/180),G.backgroundColor!==i&&(e.backgroundColor=G.backgroundColor),X.init(Q,G.type,G.dynamic,G.haov*Math.PI/180,G.vaov*Math.PI/180,G.vOffset*Math.PI/180,I,e),!0!==G.dynamic&&(Q=i)}catch(e){if("webgl error"==e.type||"no webgl"==e.type)l();else{if("webgl size error"!=e.type)throw l("Unknown error. Check developer console."),e;l("This panorama is too big for your device! It's "+e.width+"px wide, but your device only supports images up to "+e.maxWidth+"px wide. Try another device. (If you're the author, try scaling down the image.)")}}}(),setTimeout(function(){},500)}function l(e){e===i&&(e="Your browser does not have the necessary WebGL support to display this panorama."),Ae.errorMsg.innerHTML="<p>"+e+"</p>",Me.load.style.display="none",Ae.load.box.style.display="none",Ae.errorMsg.style.display="table",de=!0,xe.style.display="none",V("error",e)}function c(e){var t=n.getBoundingClientRect(),i={};return i.x=e.clientX-t.left,i.y=e.clientY-t.top,i}function u(e){if(e.preventDefault(),n.focus(),he){var t=c(e);if(G.hotSpotDebug){var i=h(e);console.log("Pitch: "+i[0]+", Yaw: "+i[1]+", Center Pitch: "+G.pitch+", Center Yaw: "+G.yaw+", HFOV: "+G.hfov)}B(),W(),G.roll=0,pe.hfov=0,ie=!0,ne=Date.now(),oe=t.x,re=t.y,se=G.yaw,le=G.pitch,n.classList.add("pnlm-grabbing"),n.classList.remove("pnlm-grab"),V("mousedown",e),A()}}function h(t){var i=c(t),n=(t=X.getCanvas()).width/(e.devicePixelRatio||1),o=t.height/(e.devicePixelRatio||1);t=i.x/n*2-1;o=(1-i.y/o*2)*o/n;var r=1/Math.tan(G.hfov*Math.PI/360),a=Math.sin(G.pitch*Math.PI/180),s=Math.cos(G.pitch*Math.PI/180);i=r*s-o*a,n=Math.sqrt(t*t+i*i);return[o=180*Math.atan((o*s+r*a)/n)/Math.PI,t=180*Math.atan2(t/n,i/n)/Math.PI+G.yaw]}function d(t){if(ie&&he){ne=Date.now();var i=(n=X.getCanvas()).width/(e.devicePixelRatio||1),n=n.height/(e.devicePixelRatio||1);t=c(t);var o=180*(Math.atan(oe/i*2-1)-Math.atan(t.x/i*2-1))/Math.PI*G.hfov/90+se;pe.yaw=(o-G.yaw)%360*.2,G.yaw=o,i=360*Math.atan(Math.tan(G.hfov/360*Math.PI)*n/i)/Math.PI,i=180*(Math.atan(t.y/n*2-1)-Math.atan(re/n*2-1))/Math.PI*i/90+le,pe.pitch=.2*(i-G.pitch),G.pitch=i}}function f(e){ie&&(ie=!1,15<Date.now()-ne&&(pe.pitch=pe.yaw=0),n.classList.add("pnlm-grab"),n.classList.remove("pnlm-grabbing"),ne=Date.now(),V("mouseup",e))}function p(e){if(he){B(),W(),G.roll=0,pe.hfov=0;var t=c(e.targetTouches[0]);oe=t.x,re=t.y,2==e.targetTouches.length&&(e=c(e.targetTouches[1]),oe+=.5*(e.x-t.x),re+=.5*(e.y-t.y),ae=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))),ie=!0,ne=Date.now(),se=G.yaw,le=G.pitch,A()}}function m(e){if(e.preventDefault(),he&&(ne=Date.now()),ie&&he){var t=c(e.targetTouches[0]),i=t.x,n=t.y;2==e.targetTouches.length&&-1!=ae&&(i+=.5*((e=c(e.targetTouches[1])).x-t.x),n+=.5*(e.y-t.y),t=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),H(G.hfov+.1*(ae-t)),ae=t),t=G.hfov/360,i=(oe-i)*t+se,pe.yaw=(i-G.yaw)%360*.2,G.yaw=i,n=(n-re)*t+le,pe.pitch=.2*(n-G.pitch),G.pitch=n}}function v(){ie=!1,150<Date.now()-ne&&(pe.pitch=pe.yaw=0),ae=-1,ne=Date.now()}function g(e){"touch"==e.pointerType&&(Ie.push(e.pointerId),_e.push({clientX:e.clientX,clientY:e.clientY}),e.targetTouches=_e,p(e),e.preventDefault())}function y(e){if("touch"==e.pointerType)for(var t=0;t<Ie.length;t++)if(e.pointerId==Ie[t]){_e[t]={clientX:e.clientX,clientY:e.clientY},e.targetTouches=_e,m(e);break}}function b(e){if("touch"==e.pointerType){for(var t=!1,n=0;n<Ie.length;n++)e.pointerId==Ie[n]&&(Ie[n]=i),Ie[n]&&(t=!0);t||(Ie=[],_e=[],v()),e.preventDefault()}}function w(e){e.preventDefault(),he&&(B(),ne=Date.now(),e.wheelDeltaY?(H(G.hfov-.05*e.wheelDeltaY),pe.hfov=0>e.wheelDelta?1:-1):e.wheelDelta?(H(G.hfov-.05*e.wheelDelta),pe.hfov=0>e.wheelDelta?1:-1):e.detail&&(H(G.hfov+1.5*e.detail),pe.hfov=0<e.detail?1:-1),A())}function E(e){e.preventDefault(),B(),ne=Date.now(),W(),G.roll=0;var t=e.keycode;e.which&&(t=e.which),27==t?ue&&R():x(t,!0)}function S(){for(var e=0;10>e;e++)ce[e]=!1}function k(e){e.preventDefault();var t=e.keycode;e.which&&(t=e.which),x(t,!1)}function x(e,t){var i=!1;switch(e){case 109:case 189:case 17:ce[0]!=t&&(i=!0),ce[0]=t;break;case 107:case 187:case 16:ce[1]!=t&&(i=!0),ce[1]=t;break;case 38:ce[2]!=t&&(i=!0),ce[2]=t;break;case 87:ce[6]!=t&&(i=!0),ce[6]=t;break;case 40:ce[3]!=t&&(i=!0),ce[3]=t;break;case 83:ce[7]!=t&&(i=!0),ce[7]=t;break;case 37:ce[4]!=t&&(i=!0),ce[4]=t;break;case 65:ce[8]!=t&&(i=!0),ce[8]=t;break;case 39:ce[5]!=t&&(i=!0),ce[5]=t;break;case 68:ce[9]!=t&&(i=!0),ce[9]=t}i&&t&&(Z="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),A())}function L(e){var t=ye[e],i=Math.min(1,Math.max((Date.now()-t.startTime)/1e3/(t.duration/1e3),0));i=t.startPosition+(.5>i?2*i*i:(4-2*i)*i-1)*(t.endPosition-t.startPosition);(t.endPosition>t.startPosition&&i>=t.endPosition||t.endPosition<t.startPosition&&i<=t.endPosition)&&(i=t.endPosition,pe[e]=0,delete ye[e]),G[e]=i}function C(){N()}function A(){me||(me=!0,P())}function P(){if(function(){var e;if(he){180<G.yaw?G.yaw-=360:-180>G.yaw&&(G.yaw+=360),e=G.yaw;var t=G.maxYaw-G.minYaw,i=-180,n=180;360>t&&(i=G.minYaw+G.hfov/2,n=G.maxYaw-G.hfov/2,t<G.hfov&&(i=n=(i+n)/2)),G.yaw=Math.max(i,Math.min(n,G.yaw)),!1!==G.autoRotate&&e!=G.yaw&&(G.autoRotate*=-1),e=X.getCanvas(),e=2*Math.atan(Math.tan(G.hfov/180*Math.PI*.5)/(e.width/e.height))/Math.PI*180,t=G.minPitch+e/2,i=G.maxPitch-e/2,G.maxPitch-G.minPitch<e&&(t=i=(t+i)/2),isNaN(t)&&(t=-90),isNaN(i)&&(i=90),G.pitch=Math.max(t,Math.min(i,G.pitch)),X.render(G.pitch*Math.PI/180,G.yaw*Math.PI/180,G.hfov*Math.PI/180,{roll:G.roll*Math.PI/180}),G.hotSpots.forEach(O),G.compass&&(Te.style.transform="rotate("+(-G.yaw-G.northOffset)+"deg)",Te.style.webkitTransform="rotate("+(-G.yaw-G.northOffset)+"deg)")}}(),J&&clearTimeout(J),ie||ve)requestAnimationFrame(P);else if(ce[0]||ce[1]||ce[2]||ce[3]||ce[4]||ce[5]||ce[6]||ce[7]||ce[8]||ce[9]||G.autoRotate||ye.pitch||ye.yaw||ye.hfov||.01<Math.abs(pe.yaw)||.01<Math.abs(pe.pitch)||.01<Math.abs(pe.hfov))(function(){if(he){var e,t=!1,n=G.pitch,o=G.yaw,r=G.hfov;e="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),Z===i&&(Z=e);var a=(e-Z)*G.hfov/1700;if(a=Math.min(a,1),ce[0]&&!0===G.keyboardZoom&&(H(G.hfov+(.8*pe.hfov+.5)*a),t=!0),ce[1]&&!0===G.keyboardZoom&&(H(G.hfov+(.8*pe.hfov-.2)*a),t=!0),(ce[2]||ce[6])&&(G.pitch+=(.8*pe.pitch+.2)*a,t=!0),(ce[3]||ce[7])&&(G.pitch+=(.8*pe.pitch-.2)*a,t=!0),(ce[4]||ce[8])&&(G.yaw+=(.8*pe.yaw-.2)*a,t=!0),(ce[5]||ce[9])&&(G.yaw+=(.8*pe.yaw+.2)*a,t=!0),t&&(ne=Date.now()),Date.now(),G.autoRotate){if(.001<e-Z){t=(e-Z)/1e3;var s=(pe.yaw/t*a-.2*G.autoRotate)*t;s=(0<-G.autoRotate?1:-1)*Math.min(Math.abs(G.autoRotate*t),Math.abs(s)),G.yaw+=s}G.autoRotateStopDelay&&(G.autoRotateStopDelay-=e-Z,0>=G.autoRotateStopDelay&&(G.autoRotateStopDelay=!1,ge=G.autoRotate,G.autoRotate=0))}ye.pitch&&(L("pitch"),n=G.pitch),ye.yaw&&(L("yaw"),o=G.yaw),ye.hfov&&(L("hfov"),r=G.hfov),0<a&&!G.autoRotate&&(ce[4]||ce[5]||ce[8]||ce[9]||ye.yaw||(G.yaw+=pe.yaw*a*.85),ce[2]||ce[3]||ce[6]||ce[7]||ye.pitch||(G.pitch+=pe.pitch*a*.85),ce[0]||ce[1]||ye.hfov||H(G.hfov+pe.hfov*a*.85)),Z=e,0<a&&(pe.yaw=.8*pe.yaw+(G.yaw-o)/a*.2,pe.pitch=.8*pe.pitch+(G.pitch-n)/a*.2,pe.hfov=.8*pe.hfov+(G.hfov-r)/a*.2,n=G.autoRotate?Math.abs(G.autoRotate):5,pe.yaw=Math.min(n,Math.max(pe.yaw,-n)),pe.pitch=Math.min(n,Math.max(pe.pitch,-n)),pe.hfov=Math.min(n,Math.max(pe.hfov,-n))),ce[0]&&ce[0]&&(pe.hfov=0),(ce[2]||ce[6])&&(ce[3]||ce[7])&&(pe.pitch=0),(ce[4]||ce[8])&&(ce[5]||ce[9])&&(pe.yaw=0)}})(),0<=G.autoRotateInactivityDelay&&ge&&Date.now()-ne>G.autoRotateInactivityDelay&&!G.autoRotate&&(G.autoRotate=ge,te.lookAt(ee,i,K,3e3)),requestAnimationFrame(P);else if(X&&(X.isLoading()||!0===G.dynamic&&Ee))requestAnimationFrame(P);else{me=!1,Z=i;var e=G.autoRotateInactivityDelay-(Date.now()-ne);0<e?J=setTimeout(function(){G.autoRotate=ge,te.lookAt(ee,i,K,3e3),A()},e):0<=G.autoRotateInactivityDelay&&ge&&(G.autoRotate=ge,te.lookAt(ee,i,K,3e3),A())}}function M(e,t,i,n){this.w=e,this.x=t,this.y=i,this.z=n}function T(t){var i;i=t.alpha;var n=t.beta;t=t.gamma,n=[n?n*Math.PI/180/2:0,t?t*Math.PI/180/2:0,i?i*Math.PI/180/2:0],i=[Math.cos(n[0]),Math.cos(n[1]),Math.cos(n[2])],n=[Math.sin(n[0]),Math.sin(n[1]),Math.sin(n[2])],i=(i=new M(i[0]*i[1]*i[2]-n[0]*n[1]*n[2],n[0]*i[1]*i[2]-i[0]*n[1]*n[2],i[0]*n[1]*i[2]+n[0]*i[1]*n[2],i[0]*i[1]*n[2]+n[0]*n[1]*i[2])).multiply(new M(Math.sqrt(.5),-Math.sqrt(.5),0,0)),n=e.orientation?-e.orientation*Math.PI/180/2:0,i=i.multiply(new M(Math.cos(n),0,-Math.sin(n),0)).toEulerAngles(),G.pitch=i[0]/Math.PI*180,G.roll=-i[1]/Math.PI*180,G.yaw=-i[2]/Math.PI*180+G.northOffset}function I(){if(G.sceneFadeDuration&&X.fadeImg!==i){X.fadeImg.style.opacity=0;var e=X.fadeImg;delete X.fadeImg,setTimeout(function(){xe.removeChild(e)},G.sceneFadeDuration)}Te.style.display=G.compass?"inline":"none",Se||(G.hotSpots?(G.hotSpots=G.hotSpots.sort(function(e,t){return e.pitch<t.pitch}),G.hotSpots.forEach(_)):G.hotSpots=[],Se=!0,G.hotSpots.forEach(O)),Ae.load.box.style.display="none",$!==i&&(xe.removeChild($),$=i),he=!0,V("load"),A()}function _(e){e.pitch=Number(e.pitch)||0,e.yaw=Number(e.yaw)||0;var i=t.createElement("div");i.className="pnlm-hotspot-base",i.className=e.cssClass?i.className+" "+e.cssClass:i.className+" pnlm-hotspot pnlm-sprite pnlm-"+Y(e.type);var n,o=t.createElement("span");if(e.text&&(o.innerHTML=Y(e.text)),e.video){n=t.createElement("video");var r=e.video;G.basePath&&!a(r)&&(r=G.basePath+r),n.src=encodeURI(r),n.controls=!0,n.style.width=e.width+"px",xe.appendChild(i),o.appendChild(n)}else if(e.image){r=e.image,G.basePath&&!a(r)&&(r=G.basePath+r),(n=t.createElement("a")).href=encodeURI(e.URL?e.URL:r),n.target="_blank",o.appendChild(n);var s=t.createElement("img");s.src=encodeURI(r),s.style.width=e.width+"px",s.style.paddingTop="5px",xe.appendChild(i),n.appendChild(s),o.style.maxWidth="initial"}else e.URL?((n=t.createElement("a")).href=encodeURI(e.URL),n.target="_blank",xe.appendChild(n),i.style.cursor="pointer",o.style.cursor="pointer",n.appendChild(i)):(e.sceneId&&(i.onclick=function(){return U(e.sceneId,e.targetPitch,e.targetYaw,e.targetHfov),!1},i.ontouchend=function(){return U(e.sceneId,e.targetPitch,e.targetYaw,e.targetHfov),!1},i.style.cursor="pointer",o.style.cursor="pointer"),xe.appendChild(i));e.createTooltipFunc?e.createTooltipFunc(i,e.createTooltipArgs):(e.text||e.video||e.image)&&(i.classList.add("pnlm-tooltip"),i.appendChild(o),o.style.width=o.scrollWidth-20+"px",o.style.marginLeft=-(o.scrollWidth-i.offsetWidth)/2+"px",o.style.marginTop=-o.scrollHeight-12+"px"),e.clickHandlerFunc&&(i.addEventListener("click",function(t){e.clickHandlerFunc(t,e.clickHandlerArgs)},"false"),i.style.cursor="pointer",o.style.cursor="pointer"),e.div=i}function O(t){var i=Math.sin(t.pitch*Math.PI/180),n=Math.cos(t.pitch*Math.PI/180),o=Math.sin(G.pitch*Math.PI/180),r=Math.cos(G.pitch*Math.PI/180),a=Math.cos((-t.yaw+G.yaw)*Math.PI/180),s=i*o+n*a*r;if(90>=t.yaw&&-90<t.yaw&&0>=s||(90<t.yaw||-90>=t.yaw)&&0>=s)t.div.style.visibility="hidden";else{var l=Math.sin((-t.yaw+G.yaw)*Math.PI/180),c=Math.tan(G.hfov*Math.PI/360);t.div.style.visibility="visible";var u=(h=X.getCanvas()).width/(e.devicePixelRatio||1),h=h.height/(e.devicePixelRatio||1);i=[-u/c*l*n/s/2,-u/c*(i*r-n*a*o)/s/2],n=Math.sin(G.roll*Math.PI/180),o=Math.cos(G.roll*Math.PI/180);(i=[i[0]*o-i[1]*n,i[0]*n+i[1]*o])[0]+=(u-t.div.offsetWidth)/2,i[1]+=(h-t.div.offsetHeight)/2,u="translate("+i[0]+"px, "+i[1]+"px) translateZ(9999px) rotate("+G.roll+"deg)",t.div.style.webkitTransform=u,t.div.style.MozTransform=u,t.div.style.transform=u}}function q(e){G={};var t,i="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");for(t in we=[],ke)ke.hasOwnProperty(t)&&(G[t]=ke[t]);for(t in o.default)o.default.hasOwnProperty(t)&&(G[t]=o.default[t],0<=i.indexOf(t)&&we.push(t));if(null!==e&&""!==e&&o.scenes&&o.scenes[e]){var n=o.scenes[e];for(t in n)n.hasOwnProperty(t)&&(G[t]=n[t],0<=i.indexOf(t)&&we.push(t));G.scene=e}for(t in o)o.hasOwnProperty(t)&&(G[t]=o[t],0<=i.indexOf(t)&&we.push(t))}function D(){if("preview"in G){var e=G.preview;G.basePath&&(e=G.basePath+e),($=t.createElement("div")).className="pnlm-preview-img",$.style.backgroundImage="url('"+encodeURI(e)+"')",xe.appendChild($)}for(var n in G.hasOwnProperty("title")||(Ae.title.innerHTML=""),G.hasOwnProperty("author")||(Ae.author.innerHTML=""),G.hasOwnProperty("title")||G.hasOwnProperty("author")||(Ae.container.style.display="none"),G)if(G.hasOwnProperty(n))switch(n){case"title":Ae.title.innerHTML=Y(G[n]),Ae.container.style.display="inline";break;case"author":Ae.author.innerHTML="by "+Y(G[n]),Ae.container.style.display="inline";break;case"fallback":Ae.errorMsg.innerHTML='<p>Your browser does not support WebGL.<br><a href="'+encodeURI(G[n])+'" target="_blank">Click here to view this panorama in an alternative viewer.</a></p>';break;case"hfov":H(Number(G[n]));break;case"autoLoad":!0===G[n]&&X===i&&(Ae.load.box.style.display="inline",Me.load.style.display="none",r());break;case"showZoomCtrl":Me.zoom.style.display=G[n]&&0!=G.showControls?"block":"none";break;case"showFullscreenCtrl":Me.fullscreen.style.display=G[n]&&0!=G.showControls&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?"block":"none";break;case"hotSpotDebug":Pe.style.display=G[n]?"block":"none";break;case"showControls":G[n]||(Me.orientation.style.display="none",Me.zoom.style.display="none",Me.fullscreen.style.display="none");break;case"orientationOnByDefault":G[n]&&j()}}function R(){if(he&&!de)if(ue)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitRequestFullScreen()}catch(e){}}function N(){t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement?(Me.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),ue=!0):(Me.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),ue=!1),X.resize(),H(G.hfov),A()}function F(e){var t=G.minHfov;return"multires"==G.type&&X&&(t=Math.min(t,X.getCanvas().width/(G.multiRes.cubeResolution/90*.9))),t>G.maxHfov?(console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),G.hfov):e<t?t:e>G.maxHfov?G.maxHfov:e}function H(e){G.hfov=F(e)}function B(){ye={},ge=G.autoRotate?G.autoRotate:ge,G.autoRotate=!1}function z(){de&&(Ae.load.box.style.display="none",Ae.errorMsg.style.display="none",de=!1,V("errorcleared")),Me.load.style.display="none",Ae.load.box.style.display="inline",r()}function U(e,t,n,r,a){var s,l;he=!1,ye={},G.sceneFadeDuration&&!a?((a=new Image).className="pnlm-fade-img",a.style.transition="opacity "+G.sceneFadeDuration/1e3+"s",a.style.width="100%",a.style.height="100%",a.onload=function(){U(e,t,n,r,!0)},(s=X.render(G.pitch*Math.PI/180,G.yaw*Math.PI/180,G.hfov*Math.PI/180,{returnImage:!0}))!==i&&(a.src=s),xe.appendChild(a),X.fadeImg=a):(a="same"===t?G.pitch:t,s="same"===n?G.yaw:"sameAzimuth"===n?G.yaw+G.northOffset-o.scenes[e].northOffset:n,l="same"===r?G.hfov:r,function(){if(G.hotSpots)for(var e=0;e<G.hotSpots.length;e++){for(var t=G.hotSpots[e].div;t.parentNode!=xe;)t=t.parentNode;xe.removeChild(t),delete G.hotSpots[e].div}Se=!1,delete G.hotSpots}(),q(e),pe.yaw=pe.pitch=pe.hfov=0,D(),a!==i&&(G.pitch=a),s!==i&&(G.yaw=s),l!==i&&(G.hfov=l),V("scenechange",e),z())}function W(){e.removeEventListener("deviceorientation",T),Me.orientation.classList.remove("pnlm-orientation-button-active"),ve=!1}function j(){ve=!0,e.addEventListener("deviceorientation",T),Me.orientation.classList.add("pnlm-orientation-button-active"),requestAnimationFrame(P)}function Y(e){return String(e).replace(/&/g,"&amp;").replace('"',"&quot;").replace("'","&#39;").replace("<","&lt;").replace(">","&gt;").replace("/","&#x2f;")}function V(e){if(e in be)for(var t=0;t<be[e].length;t++)be[e][t].apply(null,[].slice.call(arguments,1))}var G,X,$,Q,Z,J,K,ee,te=this,ie=!1,ne=Date.now(),oe=0,re=0,ae=-1,se=0,le=0,ce=Array(10),ue=!1,he=!1,de=!1,fe=!1,pe={yaw:0,pitch:0,hfov:0},me=!1,ve=!1,ge=0,ye={},be={},we=[],Ee=!1,Se=!1,ke={hfov:100,minHfov:50,maxHfov:120,pitch:0,minPitch:i,maxPitch:i,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:i,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0]};(n="string"==typeof n?t.getElementById(n):n).classList.add("pnlm-container"),n.tabIndex=0;var xe=t.createElement("div");xe.className="pnlm-render-container",n.appendChild(xe);var Le=t.createElement("div");Le.className="pnlm-dragfix",n.appendChild(Le);var Ce=t.createElement("span");Ce.className="pnlm-about-msg",Ce.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a> 2.3.2',n.appendChild(Ce),Le.addEventListener("contextmenu",function e(t){var i=c(t);Ce.style.left=i.x+"px",Ce.style.top=i.y+"px",clearTimeout(e.t1),clearTimeout(e.t2),Ce.style.display="block",Ce.style.opacity=1,e.t1=setTimeout(function(){Ce.style.opacity=0},2e3),e.t2=setTimeout(function(){Ce.style.display="none"},2500),t.preventDefault()});var Ae={},Pe=t.createElement("div");Pe.className="pnlm-sprite pnlm-hot-spot-debug-indicator",n.appendChild(Pe),Ae.container=t.createElement("div"),Ae.container.className="pnlm-panorama-info",Ae.title=t.createElement("div"),Ae.title.className="pnlm-title-box",Ae.container.appendChild(Ae.title),Ae.author=t.createElement("div"),Ae.author.className="pnlm-author-box",Ae.container.appendChild(Ae.author),n.appendChild(Ae.container),Ae.load={},Ae.load.box=t.createElement("div"),Ae.load.box.className="pnlm-load-box",Ae.load.box.innerHTML="<p>Loading...</p>",Ae.load.lbox=t.createElement("div"),Ae.load.lbox.className="pnlm-lbox",Ae.load.lbox.innerHTML='<div class="pnlm-loading"></div>',Ae.load.box.appendChild(Ae.load.lbox),Ae.load.lbar=t.createElement("div"),Ae.load.lbar.className="pnlm-lbar",Ae.load.lbarFill=t.createElement("div"),Ae.load.lbarFill.className="pnlm-lbar-fill",Ae.load.lbar.appendChild(Ae.load.lbarFill),Ae.load.box.appendChild(Ae.load.lbar),Ae.load.msg=t.createElement("p"),Ae.load.msg.className="pnlm-lmsg",Ae.load.box.appendChild(Ae.load.msg),n.appendChild(Ae.load.box),Ae.errorMsg=t.createElement("div"),Ae.errorMsg.className="pnlm-error-msg pnlm-info-box",n.appendChild(Ae.errorMsg);var Me={};Me.container=t.createElement("div"),Me.container.className="pnlm-controls-container",n.appendChild(Me.container),Me.load=t.createElement("div"),Me.load.className="pnlm-load-button",Me.load.innerHTML="<p>Click to<br>Load<br>Panorama<p>",Me.load.addEventListener("click",z),n.appendChild(Me.load),Me.zoom=t.createElement("div"),Me.zoom.className="pnlm-zoom-controls pnlm-controls",Me.zoomIn=t.createElement("div"),Me.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",Me.zoomIn.addEventListener("click",function(){he&&(H(G.hfov-5),A())}),Me.zoom.appendChild(Me.zoomIn),Me.zoomOut=t.createElement("div"),Me.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",Me.zoomOut.addEventListener("click",function(){he&&(H(G.hfov+5),A())}),Me.zoom.appendChild(Me.zoomOut),Me.container.appendChild(Me.zoom),Me.fullscreen=t.createElement("div"),Me.fullscreen.addEventListener("click",R),Me.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled||t.msFullscreenEnabled)&&Me.container.appendChild(Me.fullscreen),Me.orientation=t.createElement("div"),Me.orientation.addEventListener("click",function(e){ve?W():j()}),Me.orientation.addEventListener("mousedown",function(e){e.stopPropagation()}),Me.orientation.addEventListener("touchstart",function(e){e.stopPropagation()}),Me.orientation.addEventListener("pointerdown",function(e){e.stopPropagation()}),Me.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control",e.DeviceOrientationEvent&&e.addEventListener("deviceorientation",function(t){e.removeEventListener("deviceorientation",this),t&&null!==t.alpha&&null!==t.beta&&null!==t.gamma&&Me.container.appendChild(Me.orientation)});var Te=t.createElement("div");Te.className="pnlm-compass pnlm-controls pnlm-control",n.appendChild(Te),o.firstScene?q(o.firstScene):o.default&&o.default.firstScene?q(o.default.firstScene):q(null),D();var Ie=[],_e=[];M.prototype.multiply=function(e){return new M(this.w*e.w-this.x*e.x-this.y*e.y-this.z*e.z,this.x*e.w+this.w*e.x+this.y*e.z-this.z*e.y,this.y*e.w+this.w*e.y+this.z*e.x-this.x*e.z,this.z*e.w+this.w*e.z+this.x*e.y-this.y*e.x)},M.prototype.toEulerAngles=function(){return[Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),Math.asin(2*(this.w*this.y-this.z*this.x)),Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z))]},this.getPitch=function(){return G.pitch},this.setPitch=function(e,t){return(t=t==i?1e3:Number(t))?ye.pitch={startTime:Date.now(),startPosition:G.pitch,endPosition:e,duration:t}:G.pitch=e,A(),this},this.getPitchBounds=function(){return[G.minPitch,G.maxPitch]},this.setPitchBounds=function(e){return G.minPitch=Math.max(-90,Math.min(e[0],90)),G.maxPitch=Math.max(-90,Math.min(e[1],90)),this},this.getYaw=function(){return G.yaw},this.setYaw=function(e,t){for(;180<e;)e-=360;for(;-180>e;)e+=360;return(t=t==i?1e3:Number(t))?ye.yaw={startTime:Date.now(),startPosition:G.yaw,endPosition:e,duration:t}:G.yaw=e,A(),this},this.getYawBounds=function(){return[G.minYaw,G.maxYaw]},this.setYawBounds=function(e){return G.minYaw=Math.max(-180,Math.min(e[0],180)),G.maxYaw=Math.max(-180,Math.min(e[1],180)),this},this.getHfov=function(){return G.hfov},this.setHfov=function(e,t){return(t=t==i?1e3:Number(t))?ye.hfov={startTime:Date.now(),startPosition:G.hfov,endPosition:F(e),duration:t}:H(e),A(),this},this.getHfovBounds=function(){return[G.minHfov,G.maxHfov]},this.setHfovBounds=function(e){return G.minHfov=Math.max(0,e[0]),G.maxHfov=Math.max(0,e[1]),this},this.lookAt=function(e,t,n,o){return o=o==i?1e3:Number(o),e!==i&&this.setPitch(e,o),t!==i&&this.setYaw(t,o),n!==i&&this.setHfov(n,o),this},this.getNorthOffset=function(){return G.northOffset},this.setNorthOffset=function(e){return G.northOffset=Math.min(360,Math.max(0,e)),A(),this},this.startAutoRotate=function(e){return e=e||ge||1,G.autoRotate=e,te.lookAt(ee,i,K,3e3),A(),this},this.stopAutoRotate=function(){return ge=G.autoRotate?G.autoRotate:ge,G.autoRotate=!1,G.autoRotateInactivityDelay=-1,this},this.getRenderer=function(){return X},this.setUpdate=function(e){return Ee=!0===e,X===i?s():A(),this},this.mouseEventToCoords=function(e){return h(e)},this.loadScene=function(e,t,i,n){return he&&U(e,t,i,n),this},this.getScene=function(){return G.scene},this.addScene=function(e,t){return o.scenes[e]=t,this},this.removeScene=function(e){return!(G.scene===e||!o.scenes.hasOwnProperty(e))&&(delete o.scenes[e],!0)},this.toggleFullscreen=function(){return R(),this},this.getConfig=function(){return G},this.addHotSpot=function(e,t){if(t===i||G.scene==t)_(e),G.hotSpots.push(e),O(e);else{if(!o.scenes.hasOwnProperty(t))throw"Invalid scene ID!";o.scenes[t].hotSpots.push(e)}return this},this.removeHotSpot=function(e){if(!G.hotSpots)return!1;for(var t=0;t<G.hotSpots.length;t++)if(G.hotSpots[t].hasOwnProperty("id")&&G.hotSpots[t].id===e){for(e=G.hotSpots[t].div;e.parentNode!=xe;)e=e.parentNode;return xe.removeChild(e),delete G.hotSpots[t].div,G.hotSpots.splice(t,1),!0}return!1},this.on=function(e,t){return be[e]=be[e]||[],be[e].push(t),this},this.off=function(e,t){if(!e)return be={},this;if(t){var i=be[e].indexOf(t);0<=i&&be[e].splice(i,1),be[e].length=0}else delete be[e];return this},this.destroy=function(){X&&X.destroy(),fe&&(Le.removeEventListener("mousedown",u,!1),t.removeEventListener("mousemove",d,!1),t.removeEventListener("mouseup",f,!1),n.removeEventListener("mousewheel",w,!1),n.removeEventListener("DOMMouseScroll",w,!1),n.removeEventListener("mozfullscreenchange",N,!1),n.removeEventListener("webkitfullscreenchange",N,!1),n.removeEventListener("msfullscreenchange",N,!1),n.removeEventListener("fullscreenchange",N,!1),e.removeEventListener("resize",C,!1),e.removeEventListener("orientationchange",C,!1),n.removeEventListener("keydown",E,!1),n.removeEventListener("keyup",k,!1),n.removeEventListener("blur",S,!1),t.removeEventListener("mouseleave",f,!1),Le.removeEventListener("touchstart",p,!1),Le.removeEventListener("touchmove",m,!1),Le.removeEventListener("touchend",v,!1),Le.removeEventListener("pointerdown",g,!1),Le.removeEventListener("pointermove",y,!1),Le.removeEventListener("pointerup",b,!1),Le.removeEventListener("pointerleave",b,!1)),n.innerHTML="",n.classList.remove("pnlm-container"),n.classList.remove("pnlm-grab"),n.classList.remove("pnlm-grabbing")}}return{viewer:function(e,t){return new n(e,t)}}}(window,document)},function(e,t,i){(function(t){var i;i=function(){"use strict";var e={};"undefined"!=typeof window&&(e.SUPPORTED="requestAnimationFrame"in window,e.SUPPORTS_TOUCH="ontouchstart"in window,e.touch=!1,e.dynamicInputDetection=!0,e.iOS=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream});var i=[],n={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-tooltip-content",CIRCLE:"[x-circle]",ARROW:"[x-arrow]",TOOLTIPPED_EL:"[data-tooltipped]",CONTROLLER:"[data-tippy-controller]"},o={html:!1,position:"top",animation:"shift",animateFill:!0,arrow:!1,arrowSize:"regular",delay:0,trigger:"mouseenter focus",duration:350,interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,flipDuration:350,sticky:!1,stickyDuration:200,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,popperOptions:{}},r=e.SUPPORTED&&Object.keys(o);function a(e){i.forEach(function(t){var i=t.popper,n=t.tippyInstance,o=t.settings,r=o.appendTo,a=o.hideOnClick,s=o.trigger;if(r.contains(i)){var l=!0===a||-1!==s.indexOf("focus"),c=!e||i!==e.popper;l&&c&&n.hide(i)}})}var s={};if("undefined"!=typeof Element){var l=Element.prototype;s=l.matches||l.matchesSelector||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;--i>=0&&t.item(i)!==this;);return i>-1}}var c=s;function u(e,t){return(Element.prototype.closest||function(e){for(var t=this;t;){if(c.call(t,e))return t;t=t.parentElement}}).call(e,t)}function h(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function d(){return!d.done&&(d.done=!0,o=function(){e.touch=!0,e.iOS()&&document.body.classList.add("tippy-touch"),e.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",r)},t=void 0,r=function(){var i=performance.now();i-t<20&&(e.touch=!1,document.removeEventListener("mousemove",r),e.iOS()||document.body.classList.remove("tippy-touch")),t=i},document.addEventListener("click",function(t){if(!(t.target instanceof Element))return a();var o=u(t.target,n.TOOLTIPPED_EL),r=u(t.target,n.POPPER);if(!r||!h(i,function(e){return e.popper===r}).settings.interactive){if(o){var s=h(i,function(e){return e.el===o}),l=s.settings,c=l.hideOnClick,d=l.multiple,f=l.trigger;if(!d&&e.touch||!d&&-1!==f.indexOf("click"))return a(s);if(!0!==c||-1!==f.indexOf("click"))return}!u(t.target,n.CONTROLLER)&&document.querySelector(n.POPPER)&&a()}}),document.addEventListener("touchstart",o),window.addEventListener("blur",function(e){var t=document.activeElement;t&&t.blur&&c.call(t,n.TOOLTIPPED_EL)&&t.blur()}),!e.SUPPORTS_TOUCH&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.addEventListener("pointerdown",o),!0);var t,o,r}function f(e){window.requestAnimationFrame(function(){setTimeout(e,0)})}function p(e){for(var t=[!1,"webkit"],i=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var o=t[n],r=o?""+o+i:e;if(void 0!==window.document.body.style[r])return r}return null}function m(e){var t=e.getAttribute("title");t&&e.setAttribute("data-original-title",t),e.removeAttribute("title")}function v(e,t){e.forEach(function(e){e&&t(e.classList)})}function g(e){return{tooltip:e.querySelector(n.TOOLTIP),circle:e.querySelector(n.CIRCLE),content:e.querySelector(n.CONTENT)}}function y(e,t){e.forEach(function(e){if(e){var i=c.call(e,n.CONTENT)?Math.round(t/1.3):t;e.style[p("transitionDuration")]=i+"ms"}})}function b(e){return"visible"===e.style.visibility}function w(){}function E(e){return!!e&&"[object Object]"===e.toString()}function S(e){return e.replace(/-.+/,"")}function k(e){var t=this,n=h(i,function(e){return e.el===t}),o=n.popper,r=n.settings.offset,a=S(o.getAttribute("x-placement")),s=Math.round(o.offsetWidth/2),l=Math.round(o.offsetHeight/2),c=document.documentElement.offsetWidth||document.body.offsetWidth,u=e.pageX,d=e.pageY,f=void 0,m=void 0;switch(a){case"top":f=u-s+r,m=d-2*l;break;case"bottom":f=u-s+r,m=d+10;break;case"left":f=u-2*s,m=d-l+r;break;case"right":f=u+5,m=d-l+r}"top"!==a&&"bottom"!==a||(u+5+s+r>c&&(f=c-5-2*s),u-5-s+r<0&&(f=5)),o.style[p("transform")]="translate3d("+f+"px, "+m+"px, 0)"}function x(e,t,i){if(!t)return i();var n=g(e.popper).tooltip,o=!1,r=function(e){e.target!==n||o||(o=!0,i())};n.addEventListener("webkitTransitionEnd",r),n.addEventListener("transitionend",r),clearTimeout(e._transitionendTimeout),e._transitionendTimeout=setTimeout(function(){o||i()},t)}
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.12.4
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */for(var L=["native code","[object MutationObserverConstructor]"],C="undefined"!=typeof window,A=["Edge","Trident","Firefox"],P=0,M=0;M<A.length;M+=1)if(C&&navigator.userAgent.indexOf(A[M])>=0){P=1;break}var T,I=C&&(T=window.MutationObserver,L.some(function(e){return(T||"").toString().indexOf(e)>-1}))?function(e){var t=!1,i=0,n=document.createElement("span");return new MutationObserver(function(){e(),t=!1}).observe(n,{attributes:!0}),function(){t||(t=!0,n.setAttribute("x-index",i),i+=1)}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},P))}};function _(e){return e&&"[object Function]"==={}.toString.call(e)}function O(e,t){if(1!==e.nodeType)return[];var i=window.getComputedStyle(e,null);return t?i[t]:i}function q(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function D(e){if(!e||-1!==["HTML","BODY","#document"].indexOf(e.nodeName))return window.document.body;var t=O(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/(auto|scroll)/.test(i+o+n)?e:D(q(e))}function R(e){var t=e&&e.offsetParent,i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===O(t,"position")?R(t):t:window.document.documentElement}function N(e){return null!==e.parentNode?N(e.parentNode):e}function F(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return window.document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?e:t,o=i?t:e,r=document.createRange();r.setStart(n,0),r.setEnd(o,0);var a,s,l=r.commonAncestorContainer;if(e!==l&&t!==l||n.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&R(a.firstElementChild)!==a?R(l):l;var c=N(e);return c.host?F(c.host,t):F(e,N(t).host)}function H(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var n=window.document.documentElement;return(window.document.scrollingElement||n)[t]}return e[t]}function B(e,t){var i="x"===t?"Left":"Top",n="Left"===i?"Right":"Bottom";return+e["border"+i+"Width"].split("px")[0]+ +e["border"+n+"Width"].split("px")[0]}var z=void 0,U=function(){return void 0===z&&(z=-1!==navigator.appVersion.indexOf("MSIE 10")),z};function W(e,t,i,n,o){return Math.max(t["offset"+e],o?t["scroll"+e]:0,i["client"+e],i["offset"+e],o?i["scroll"+e]:0,U()?i["offset"+e]+n["margin"+("Height"===e?"Top":"Left")]+n["margin"+("Height"===e?"Bottom":"Right")]:0)}function j(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=window.document.body,i=window.document.documentElement,n=U()&&window.getComputedStyle(i);return{height:W("Height",t,i,n,e),width:W("Width",t,i,n,e)}}var Y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},V=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),G=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function $(e){return X({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Q(e){var t={};if(U())try{t=e.getBoundingClientRect();var i=H(e,"top"),n=H(e,"left");t.top+=i,t.left+=n,t.bottom+=i,t.right+=n}catch(e){}else t=e.getBoundingClientRect();var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?j():{},a=r.width||e.clientWidth||o.right-o.left,s=r.height||e.clientHeight||o.bottom-o.top,l=e.offsetWidth-a,c=e.offsetHeight-s;if(l||c){var u=O(e);l-=B(u,"x"),c-=B(u,"y"),o.width-=l,o.height-=c}return $(o)}function Z(e,t){var i=U(),n="HTML"===t.nodeName,o=Q(e),r=Q(t),a=D(e),s=O(t),l=+s.borderTopWidth.split("px")[0],c=+s.borderLeftWidth.split("px")[0],u=$({top:o.top-r.top-l,left:o.left-r.left-c,width:o.width,height:o.height});if(u.marginTop=0,u.marginLeft=0,!i&&n){var h=+s.marginTop.split("px")[0],d=+s.marginLeft.split("px")[0];u.top-=l-h,u.bottom-=l-h,u.left-=c-d,u.right-=c-d,u.marginTop=h,u.marginLeft=d}return(i?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(u=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=H(t,"top"),o=H(t,"left"),r=i?-1:1;return e.top+=n*r,e.bottom+=n*r,e.left+=o*r,e.right+=o*r,e}(u,t)),u}function J(e,t,i,n){var o={top:0,left:0},r=F(e,t);if("viewport"===n)o=function(e){var t=window.document.documentElement,i=Z(e,t),n=Math.max(t.clientWidth,window.innerWidth||0),o=Math.max(t.clientHeight,window.innerHeight||0),r=H(t),a=H(t,"left");return $({top:r-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:n,height:o})}(r);else{var a=void 0;"scrollParent"===n?"BODY"===(a=D(q(e))).nodeName&&(a=window.document.documentElement):a="window"===n?window.document.documentElement:n;var s=Z(a,r);if("HTML"!==a.nodeName||function e(t){var i=t.nodeName;return"BODY"!==i&&"HTML"!==i&&("fixed"===O(t,"position")||e(q(t)))}(r))o=s;else{var l=j(!1),c=l.height,u=l.width;o.top+=s.top-s.marginTop,o.bottom=c+s.top,o.left+=s.left-s.marginLeft,o.right=u+s.left}}return o.left+=i,o.top+=i,o.right-=i,o.bottom-=i,o}function K(e,t,i,n,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=J(i,n,r,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map(function(e){return X({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,n=e.height;return t>=i.clientWidth&&n>=i.clientHeight}),u=c.length>0?c[0].key:l[0].key,h=e.split("-")[1];return u+(h?"-"+h:"")}function ee(e,t,i){return Z(i,F(t,i))}function te(e){var t=window.getComputedStyle(e),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+n,height:e.offsetHeight+i}}function ie(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function ne(e,t,i){i=i.split("-")[0];var n=te(e),o={width:n.width,height:n.height},r=-1!==["right","left"].indexOf(i),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return o[a]=t[a]+t[l]/2-n[l]/2,o[s]=i===s?t[s]-n[c]:t[ie(s)],o}function oe(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function re(e,t,i){return(void 0===i?e:e.slice(0,function(e,t,i){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===i});var n=oe(e,function(e){return e[t]===i});return e.indexOf(n)}(e,"name",i))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=e.function||e.fn;e.enabled&&_(i)&&(t.offsets.popper=$(t.offsets.popper),t.offsets.reference=$(t.offsets.reference),t=i(t,e))}),t}function ae(e,t){return e.some(function(e){var i=e.name;return e.enabled&&i===t})}function se(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length-1;n++){var o=t[n],r=o?""+o+i:e;if(void 0!==window.document.body.style[r])return r}return null}function le(e,t,i,n){i.updateBound=n,window.addEventListener("resize",i.updateBound,{passive:!0});var o=D(e);return function e(t,i,n,o){var r="BODY"===t.nodeName,a=r?window:t;a.addEventListener(i,n,{passive:!0}),r||e(D(a.parentNode),i,n,o),o.push(a)}(o,"scroll",i.updateBound,i.scrollParents),i.scrollElement=o,i.eventsEnabled=!0,i}function ce(){var e;this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=(this.reference,e=this.state,window.removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function ue(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function he(e,t){Object.keys(t).forEach(function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&ue(t[i])&&(n="px"),e.style[i]=t[i]+n})}function de(e,t,i){var n=oe(e,function(e){return e.name===t}),o=!!n&&e.some(function(e){return e.name===i&&e.enabled&&e.order<n.order});if(!o){var r="`"+t+"`",a="`"+i+"`";console.warn(a+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}var fe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],pe=fe.slice(3);function me(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=pe.indexOf(e),n=pe.slice(i+1).concat(pe.slice(0,i));return t?n.reverse():n}var ve={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function ge(e,t,i,n){var o=[0,0],r=-1!==["right","left"].indexOf(n),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(oe(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(e,n){var o=(1===n?!r:r)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,i,n){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],a=o[2];if(!r)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=i;break;case"%":case"%r":default:s=n}return $(s)[t]/100*r}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r;return r}(e,o,t,i)})})).forEach(function(e,t){e.forEach(function(i,n){ue(i)&&(o[t]+=i*("-"===e[n-1]?-1:1))})}),o}var ye={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,i=t.split("-")[0],n=t.split("-")[1];if(n){var o=e.offsets,r=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(i),l=s?"left":"top",c=s?"width":"height",u={start:G({},l,r[l]),end:G({},l,r[l]+r[c]-a[c])};e.offsets.popper=X({},a,u[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var i=t.offset,n=e.placement,o=e.offsets,r=o.popper,a=o.reference,s=n.split("-")[0],l=void 0;return l=ue(+i)?[+i,0]:ge(i,r,a,s),"left"===s?(r.top+=l[0],r.left-=l[1]):"right"===s?(r.top+=l[0],r.left+=l[1]):"top"===s?(r.left+=l[0],r.top-=l[1]):"bottom"===s&&(r.left+=l[0],r.top+=l[1]),e.popper=r,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var i=t.boundariesElement||R(e.instance.popper);e.instance.reference===i&&(i=R(i));var n=J(e.instance.popper,e.instance.reference,t.padding,i);t.boundaries=n;var o=t.priority,r=e.offsets.popper,a={primary:function(e){var i=r[e];return r[e]<n[e]&&!t.escapeWithReference&&(i=Math.max(r[e],n[e])),G({},e,i)},secondary:function(e){var i="right"===e?"left":"top",o=r[i];return r[e]>n[e]&&!t.escapeWithReference&&(o=Math.min(r[i],n[e]-("right"===e?r.width:r.height))),G({},i,o)}};return o.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";r=X({},r,a[t](e))}),e.offsets.popper=r,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,i=t.popper,n=t.reference,o=e.placement.split("-")[0],r=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return i[s]<r(n[l])&&(e.offsets.popper[l]=r(n[l])-i[c]),i[l]>r(n[s])&&(e.offsets.popper[l]=r(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){if(!de(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var n=e.placement.split("-")[0],o=e.offsets,r=o.popper,a=o.reference,s=-1!==["left","right"].indexOf(n),l=s?"height":"width",c=s?"Top":"Left",u=c.toLowerCase(),h=s?"left":"top",d=s?"bottom":"right",f=te(i)[l];a[d]-f<r[u]&&(e.offsets.popper[u]-=r[u]-(a[d]-f)),a[u]+f>r[d]&&(e.offsets.popper[u]+=a[u]+f-r[d]);var p=a[u]+a[l]/2-f/2,m=O(e.instance.popper,"margin"+c).replace("px",""),v=p-$(e.offsets.popper)[u]-m;return v=Math.max(Math.min(r[l]-f,v),0),e.arrowElement=i,e.offsets.arrow={},e.offsets.arrow[u]=Math.round(v),e.offsets.arrow[h]="",e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(ae(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var i=J(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),n=e.placement.split("-")[0],o=ie(n),r=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case ve.FLIP:a=[n,o];break;case ve.CLOCKWISE:a=me(n);break;case ve.COUNTERCLOCKWISE:a=me(n,!0);break;default:a=t.behavior}return a.forEach(function(s,l){if(n!==s||a.length===l+1)return e;n=e.placement.split("-")[0],o=ie(n);var c=e.offsets.popper,u=e.offsets.reference,h=Math.floor,d="left"===n&&h(c.right)>h(u.left)||"right"===n&&h(c.left)<h(u.right)||"top"===n&&h(c.bottom)>h(u.top)||"bottom"===n&&h(c.top)<h(u.bottom),f=h(c.left)<h(i.left),p=h(c.right)>h(i.right),m=h(c.top)<h(i.top),v=h(c.bottom)>h(i.bottom),g="left"===n&&f||"right"===n&&p||"top"===n&&m||"bottom"===n&&v,y=-1!==["top","bottom"].indexOf(n),b=!!t.flipVariations&&(y&&"start"===r&&f||y&&"end"===r&&p||!y&&"start"===r&&m||!y&&"end"===r&&v);(d||g||b)&&(e.flipped=!0,(d||g)&&(n=a[l+1]),b&&(r=function(e){return"end"===e?"start":"start"===e?"end":e}(r)),e.placement=n+(r?"-"+r:""),e.offsets.popper=X({},e.offsets.popper,ne(e.instance.popper,e.offsets.reference,e.placement)),e=re(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,i=t.split("-")[0],n=e.offsets,o=n.popper,r=n.reference,a=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return o[a?"left":"top"]=r[i]-(s?o[a?"width":"height"]:0),e.placement=ie(t),e.offsets.popper=$(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!de(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,i=oe(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var i=t.x,n=t.y,o=e.offsets.popper,r=oe(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==r?r:t.gpuAcceleration,s=Q(R(e.instance.popper)),l={position:o.position},c={left:Math.floor(o.left),top:Math.floor(o.top),bottom:Math.floor(o.bottom),right:Math.floor(o.right)},u="bottom"===i?"top":"bottom",h="right"===n?"left":"right",d=se("transform"),f=void 0,p=void 0;if(p="bottom"===u?-s.height+c.bottom:c.top,f="right"===h?-s.width+c.right:c.left,a&&d)l[d]="translate3d("+f+"px, "+p+"px, 0)",l[u]=0,l[h]=0,l.willChange="transform";else{var m="bottom"===u?-1:1,v="right"===h?-1:1;l[u]=p*m,l[h]=f*v,l.willChange=u+", "+h}var g={"x-placement":e.placement};return e.attributes=X({},g,e.attributes),e.styles=X({},l,e.styles),e.arrowStyles=X({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,i;return he(e.instance.popper,e.styles),t=e.instance.popper,i=e.attributes,Object.keys(i).forEach(function(e){!1!==i[e]?t.setAttribute(e,i[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&he(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,i,n,o){var r=ee(0,t,e),a=K(i.placement,r,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",a),he(t,{position:"absolute"}),i},gpuAcceleration:void 0}}},be=function(){function e(t,i){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Y(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=I(this.update.bind(this)),this.options=X({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t.jquery?t[0]:t,this.popper=i.jquery?i[0]:i,this.options.modifiers={},Object.keys(X({},e.Defaults.modifiers,o.modifiers)).forEach(function(t){n.options.modifiers[t]=X({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return X({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&_(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return V(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=ee(this.state,this.popper,this.reference),e.placement=K(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=ne(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=re(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,ae(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[se("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=le(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return ce.call(this)}}]),e}();function we(e){return-(e-o.distance)+"px"}be.Utils=("undefined"!=typeof window?window:t).PopperUtils,be.placements=fe,be.Defaults=ye;var Ee=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Se=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function xe(t){var i=t.el,n=t.popper,o=t.settings,r=o.appendTo,a=o.followCursor;r.contains(n)||(r.appendChild(n),t.popperInstance?(t.popperInstance.update(),a&&!e.touch||t.popperInstance.enableEventListeners()):t.popperInstance=function(e){var t=e.el,i=e.popper,n=e.settings,o=n.position,r=n.popperOptions,a=n.offset,s=n.distance,l=n.flipDuration,c=g(i).tooltip,u=ke({placement:o},r||{},{modifiers:ke({},r?r.modifiers:{},{flip:ke({padding:s+5},r&&r.modifiers?r.modifiers.flip:{}),offset:ke({offset:a},r&&r.modifiers?r.modifiers.offset:{})}),onUpdate:function(){var e=c.style;e.top="",e.bottom="",e.left="",e.right="",e[S(i.getAttribute("x-placement"))]=we(s)}});if(window.MutationObserver){var h=i.style,d=new MutationObserver(function(){h[p("transitionDuration")]="0ms",e.popperInstance.update(),f(function(){h[p("transitionDuration")]=l+"ms"})});d.observe(i,{childList:!0,subtree:!0,characterData:!0}),e._mutationObservers.push(d)}return new be(t,i,u)}(t),a&&!e.touch&&(i.addEventListener("mousemove",k),t.popperInstance.disableEventListeners()))}function Le(e){var t=e.popper,i=e.popperInstance,n=e.settings.stickyDuration;f(function e(){i&&i.scheduleUpdate(),t.style[p("transitionDuration")]=n+"ms",b(t)?window.requestAnimationFrame(e):t.style[p("transitionDuration")]=""})}function Ce(t,i,o){var r=this,a=(o.position,o.delay),s=(o.duration,o.interactive),l=(o.interactiveBorder,o.distance,o.hideOnClick),c=o.trigger,h=o.touchHold,d=(o.touchWait,void 0),f=void 0,p=function(){clearTimeout(d),clearTimeout(f)},m=function(){if(p(),!b(i)){var e=Array.isArray(a)?a[0]:a;a?d=setTimeout(function(){return r.show(i)},e):r.show(i)}},v=function(){p();var e=Array.isArray(a)?a[1]:a;a?f=setTimeout(function(){return r.hide(i)},e):r.hide(i)};return{handleTrigger:function(n){var o="mouseenter"===n.type&&e.SUPPORTS_TOUCH&&e.touch;if(!o||!h){var a="click"===n.type,s="persistent"!==l;a&&b(i)&&s?v():function(e){r.callbacks.wait?r.callbacks.wait.call(i,m,e):m()}(n),o&&e.iOS()&&t.click&&t.click()}},handleMouseleave:function(r){if(!("mouseleave"===r.type&&e.SUPPORTS_TOUCH&&e.touch&&h)){if(s)return document.body.addEventListener("mouseleave",v),void document.addEventListener("mousemove",function e(r){var a=function(){document.body.removeEventListener("mouseleave",v),document.removeEventListener("mousemove",e),v()},s=u(r.target,n.TOOLTIPPED_EL),l=u(r.target,n.POPPER)===i,h=s===t,d=-1!==c.indexOf("click");if(s&&s!==t)return a();l||h||d||function(e,t,i){if(!t.getAttribute("x-placement"))return!0;var n=e.clientX,o=e.clientY,r=i.interactiveBorder,a=i.distance,s=t.getBoundingClientRect(),l=S(t.getAttribute("x-placement")),c=r+a,u={top:s.top-o>r,bottom:o-s.bottom>r,left:s.left-n>r,right:n-s.right>r};switch(l){case"top":u.top=s.top-o>c;break;case"bottom":u.bottom=o-s.bottom>c;break;case"left":u.left=s.left-n>c;break;case"right":u.right=n-s.right>c}return u.top||u.bottom||u.left||u.right}(r,i,o)&&a()});v()}},handleBlur:function(t){t.relatedTarget&&!e.touch&&(u(t.relatedTarget,n.POPPER)||v())}}}var Ae=1;function Pe(t){var i=this;return t.reduce(function(t,n){var o=Ae,a=ke({},function(e){return e.arrow&&(e.animateFill=!1),e.appendTo&&"function"==typeof e.appendTo&&(e.appendTo=e.appendTo()),e}(i.settings.performance?i.settings:function(e,t){var i=r.reduce(function(i,n){var o=e.getAttribute("data-"+n.toLowerCase())||t[n];return"false"===o&&(o=!1),"true"===o&&(o=!0),isFinite(o)&&!isNaN(parseFloat(o))&&(o=parseFloat(o)),"string"==typeof o&&"["===o.trim().charAt(0)&&(o=JSON.parse(o)),i[n]=o,i},{});return ke({},t,i)}(n,i.settings)));"function"==typeof a.html&&(a.html=a.html(n));var s=a.html,l=a.trigger,c=a.touchHold,u=a.dynamicTitle,h=n.getAttribute("title");if(!h&&!s)return t;n.setAttribute("data-tooltipped",""),n.setAttribute("aria-describedby","tippy-tooltip-"+o),m(n);var d=function(e,t,i){var n=i.position,o=i.distance,r=i.arrow,a=i.animateFill,s=i.inertia,l=i.animation,c=i.arrowSize,u=i.size,h=i.theme,d=i.html,f=i.zIndex,p=i.interactive,m=document.createElement("div");m.setAttribute("class","tippy-popper"),m.setAttribute("role","tooltip"),m.setAttribute("aria-hidden","true"),m.setAttribute("id","tippy-tooltip-"+e),m.style.zIndex=f;var v=document.createElement("div");if(v.setAttribute("class","tippy-tooltip tippy-tooltip--"+u+" leave"),v.setAttribute("data-animation",l),h.split(" ").forEach(function(e){v.classList.add(e+"-theme")}),r){var g=document.createElement("div");g.setAttribute("class","arrow-"+c),g.setAttribute("x-arrow",""),v.appendChild(g)}if(a){v.setAttribute("data-animatefill","");var y=document.createElement("div");y.setAttribute("class","leave"),y.setAttribute("x-circle",""),v.appendChild(y)}s&&v.setAttribute("data-inertia",""),p&&v.setAttribute("data-interactive","");var b=document.createElement("div");if(b.setAttribute("class","tippy-tooltip-content"),d){var w=void 0;d instanceof Element?(b.appendChild(d),w="#"+d.id||!1):(b.innerHTML=document.getElementById(d.replace("#","")).innerHTML,w=d),m.classList.add("html-template"),p&&m.setAttribute("tabindex","-1"),v.setAttribute("data-template-id",w)}else b.innerHTML=t;return v.style[S(n)]=we(o),v.appendChild(b),m.appendChild(v),m}(o,h,a),f=Ce.call(i,n,d,a),p=[];l.trim().split(" ").forEach(function(t){return p=p.concat(function(t,i,n,o){var r=[];return"manual"===t?r:(i.addEventListener(t,n.handleTrigger),r.push({event:t,handler:n.handleTrigger}),"mouseenter"===t&&(e.SUPPORTS_TOUCH&&o&&(i.addEventListener("touchstart",n.handleTrigger),r.push({event:"touchstart",handler:n.handleTrigger}),i.addEventListener("touchend",n.handleMouseleave),r.push({event:"touchend",handler:n.handleMouseleave})),i.addEventListener("mouseleave",n.handleMouseleave),r.push({event:"mouseleave",handler:n.handleMouseleave})),"focus"===t&&(i.addEventListener("blur",n.handleBlur),r.push({event:"blur",handler:n.handleBlur})),r)}(t,n,f,c))});var v=void 0;if(u&&window.MutationObserver){var y=g(d).content;(v=new MutationObserver(function(){var e=n.getAttribute("title");e&&(y.innerHTML=e,m(n))})).observe(n,{attributes:!0})}return t.push({id:o,el:n,popper:d,settings:a,listeners:p,tippyInstance:i,_mutationObservers:[v]}),Ae++,t},[])}var Me=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ee(this,t),e.SUPPORTED&&(d(),this.state={destroyed:!1},this.selector=n,this.settings=ke({},o,r),(r.show||r.shown||r.hide||r.hidden)&&console.warn("Callbacks without the `on` prefix are deprecated (with the exception of `wait`). Use onShow, onShown, onHide, and onHidden instead."),this.callbacks={wait:r.wait,show:r.onShow||r.show||w,shown:r.onShown||r.shown||w,hide:r.onHide||r.hide||w,hidden:r.onHidden||r.hidden||w},this.store=Pe.call(this,function(e){if(e instanceof Element||E(e))return[e];if(e instanceof NodeList)return[].slice.call(e);if(Array.isArray(e))return e;try{return[].slice.call(document.querySelectorAll(e))}catch(e){return[]}}(n)),i.push.apply(i,this.store))}return Se(t,[{key:"getPopperElement",value:function(e){try{return h(this.store,function(t){return t.el===e}).popper}catch(e){console.error("[getPopperElement]: Element passed as the argument does not exist in the instance")}}},{key:"getReferenceElement",value:function(e){try{return h(this.store,function(t){return t.popper===e}).el}catch(e){console.error("[getReferenceElement]: Popper passed as the argument does not exist in the instance")}}},{key:"getReferenceData",value:function(e){return h(this.store,function(t){return t.el===e||t.popper===e})}},{key:"show",value:function(t,i){var n=this;if(!this.state.destroyed){var o=h(this.store,function(e){return e.popper===t}),r=g(t),a=r.tooltip,s=r.circle,l=r.content;if(this.selector.refObj||document.body.contains(o.el)){this.callbacks.show.call(t);var c=o.el,u=o.settings,d=(u.appendTo,u.sticky),m=u.interactive,w=u.followCursor,E=u.flipDuration,S=u.duration,k=void 0!==i?i:Array.isArray(S)?S[0]:S;y([t,a,s],0),xe(o),t.style.visibility="visible",t.setAttribute("aria-hidden","false"),f(function(){b(t)&&(w&&!e.touch||(o.popperInstance.update(),y([t],E)),y([a,s],k),s&&(l.style.opacity=1),m&&c.classList.add("active"),d&&Le(o),function(e,t){t?window.getComputedStyle(t)[p("transform")]:window.getComputedStyle(e).opacity}(a,s),v([a,s],function(e){e.contains("tippy-notransition")&&e.remove("tippy-notransition"),e.remove("leave"),e.add("enter")}),x(o,k,function(){b(t)&&!o._onShownFired&&(m&&t.focus(),a.classList.add("tippy-notransition"),o._onShownFired=!0,n.callbacks.shown.call(t))}))})}else this.destroy(t)}}},{key:"hide",value:function(e,t){var i=this;if(!this.state.destroyed){this.callbacks.hide.call(e);var n=h(this.store,function(t){return t.popper===e}),o=g(e),r=o.tooltip,a=o.circle,s=o.content,l=n.el,c=n.settings,u=c.appendTo,d=(c.sticky,c.interactive),f=(c.followCursor,c.html),p=c.trigger,m=c.duration,w=void 0!==t?t:Array.isArray(m)?m[1]:m;n._onShownFired=!1,d&&l.classList.remove("active"),e.style.visibility="hidden",e.setAttribute("aria-hidden","true"),y([r,a,a?s:null],w),a&&(s.style.opacity=0),v([r,a],function(e){e.contains("tippy-tooltip")&&e.remove("tippy-notransition"),e.remove("enter"),e.add("leave")}),f&&-1!==p.indexOf("click")&&function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}(l)&&l.focus(),x(n,w,function(){!b(e)&&u.contains(e)&&"1"!==getComputedStyle(r).opacity&&(l.removeEventListener("mousemove",k),n.popperInstance.disableEventListeners(),u.removeChild(e),i.callbacks.hidden.call(e))})}}},{key:"update",value:function(e){if(!this.state.destroyed){var t=h(this.store,function(t){return t.popper===e}),i=g(e).content,n=t.el,o=t.settings.html;o instanceof Element?console.warn("Aborted: update() should not be used if `html` is a DOM element"):(i.innerHTML=o?document.getElementById(o.replace("#","")).innerHTML:n.getAttribute("title")||n.getAttribute("data-original-title"),o||m(n))}}},{key:"destroy",value:function(e,t){var n=this;if(!this.state.destroyed){var o,r,a=h(this.store,function(t){return t.popper===e}),s=a.el,l=a.popperInstance,c=a.listeners,u=a._mutationObservers;b(e)&&this.hide(e,0),c.forEach(function(e){return s.removeEventListener(e.event,e.handler)}),s.setAttribute("title",s.getAttribute("data-original-title")),s.removeAttribute("data-original-title"),s.removeAttribute("data-tooltipped"),s.removeAttribute("aria-describedby"),l&&l.destroy(),u.forEach(function(e){e&&e.disconnect()}),i.splice((o=i,r=function(t){return t.popper===e},Array.prototype.findIndex?o.findIndex(r):o.indexOf(h(o,r))),1),(void 0===t||t)&&(this.store=i.filter(function(e){return e.tippyInstance===n}))}}},{key:"destroyAll",value:function(){var e=this;if(!this.state.destroyed){var t=this.store.length;this.store.forEach(function(i,n){var o=i.popper;e.destroy(o,n===t-1)}),this.store=null,this.state.destroyed=!0}}}]),t}();function Te(e,t){return E(e)&&(e={refObj:!0,attributes:e.attributes||{},getBoundingClientRect:e.getBoundingClientRect,clientWidth:e.clientWidth,clientHeight:e.clientHeight,setAttribute:function(t,i){e.attributes[t]=i},getAttribute:function(t){return e.attributes[t]},removeAttribute:function(t){delete e.attributes[t]},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(t){e.classList.classNames[t]=!0},remove:function(t){return e.classList.classNames[t]=!1,!0},contains:function(t){return!!e.classList.classNames[t]}}}),new Me(e,t)}return Te.Browser=e,Te.Defaults=o,Te.disableDynamicInputDetection=function(){return e.dynamicInputDetection=!1},Te.enableDynamicInputDetection=function(){return e.dynamicInputDetection=!0},Te},e.exports=i()}).call(this,i(18))},function(e,t,i){!function(t){"use strict";var n=i(59),o=function(e,t,i){var o,r,a,s,l={},c=0,u=0,h={sensitivity:7,interval:100,timeout:0};function d(t,i,n){var l=function(e){o=e.clientX,r=e.clientY};return u&&(u=clearTimeout(u)),n?(a=t.clientX,s=t.clientY,e.addEventListener("mousemove",l,!1),1!==c&&(u=setTimeout(function(){!function e(t,i,n){u&&(u=clearTimeout(u));if(Math.abs(a-o)+Math.abs(s-r)<h.sensitivity)return c=1,i.call(t,n);a=o,s=r,u=setTimeout(function(){e(t,i,n)},h.interval)}(e,i,t)},h.interval))):(e.removeEventListener("mousemove",l,!1),1===c&&(u=setTimeout(function(){!function(e,t,i){u&&(u=clearTimeout(u)),c=0,t.call(e,i)}(e,i,t)},h.timeout))),this}function f(e){d(e,t,!0)}function p(e){d(e,i)}return l.options=function(e){h=n({},h,e)},l.remove=function(){e&&(e.removeEventListener("mouseover",f,!1),e.removeEventListener("mouseout",p,!1))},e&&(e.addEventListener("mouseover",f,!1),e.addEventListener("mouseout",p,!1)),l};t.hoverintent=o,e.exports&&(e.exports=o)}(this)},function(e,t,i){},function(e,t,i){var n=i(26);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n=i(26);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n=i(21),o=i(37);function r(t,i,a){return o()?(e.exports=r=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=r=function(e,t,i){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return i&&n(r,i.prototype),r},e.exports.__esModule=!0,e.exports.default=e.exports),r.apply(null,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n,o;!function(r,a){"use strict";void 0===(o="function"==typeof(n=a)?n.call(t,i,t,e):n)||(e.exports=o)}(window,function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var n=t[i]+"MatchesSelector";if(e[n])return n}}();return function(t,i){return t[e](i)}})},function(e,t,i){var n,o;window,n=[i(17)],void 0===(o=function(e){return function(e,t){"use strict";function i(e,t){this.element=e,this.parent=t,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0},n.destroy=function(){this.unselect(),this.element.style.position="";var e=this.parent.originSide;this.element.style[e]=""},n.getSize=function(){this.size=t(this.element)},n.setPosition=function(e){this.x=e,this.updateTarget(),this.renderPosition(e)},n.updateTarget=n.setDefaultTarget=function(){var e="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[e]+this.size.width*this.parent.cellAlign},n.renderPosition=function(e){var t=this.parent.originSide;this.element.style[t]=this.parent.getPositionValue(e)},n.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},n.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},n.wrapShift=function(e){this.shift=e,this.renderPosition(this.x+this.parent.slideableWidth*e)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}(0,e)}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o;window,void 0===(o="function"==typeof(n=function(){"use strict";function e(e){this.parent=e,this.isOriginLeft="left"==e.originSide,this.cells=[],this.outerWidth=0,this.height=0}var t=e.prototype;return t.addCell=function(e){if(this.cells.push(e),this.outerWidth+=e.size.outerWidth,this.height=Math.max(e.size.outerHeight,this.height),1==this.cells.length){this.x=e.x;var t=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=e.size[t]}},t.updateTarget=function(){var e=this.isOriginLeft?"marginRight":"marginLeft",t=this.getLastCell(),i=t?t.size[e]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},t.getLastCell=function(){return this.cells[this.cells.length-1]},t.select=function(){this.cells.forEach(function(e){e.select()})},t.unselect=function(){this.cells.forEach(function(e){e.unselect()})},t.getCellElements=function(){return this.cells.map(function(e){return e.element})},e})?n.call(t,i,t,e):n)||(e.exports=o)},function(e,t,i){var n,o;window,n=[i(11)],void 0===(o=function(e){return function(e,t){"use strict";var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var e=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating){var t=this;requestAnimationFrame(function(){t.animate()})}},positionSlider:function(){var e=this.x;this.options.wrapAround&&this.cells.length>1&&(e=t.modulo(e,this.slideableWidth),e-=this.slideableWidth,this.shiftWrapCells(e)),this.setTranslateX(e,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(e,t){e+=this.cursorPosition,e=this.options.rightToLeft?-e:e;var i=this.getPositionValue(e);this.slider.style.transform=t?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var e=this.slides[0];if(e){var t=-this.x-e.target,i=t/this.slidesWidth;this.dispatchEvent("scroll",null,[i,t])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(e){return this.options.percentPosition?.01*Math.round(e/this.size.innerWidth*1e4)+"%":Math.round(e)+"px"},settle:function(e){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*e)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(e){var t=this.cursorPosition+e;this._shiftCells(this.beforeShiftCells,t,-1);var i=this.size.innerWidth-(e+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(e,t,i){for(var n=0;n<e.length;n++){var o=e[n],r=t>0?i:0;o.wrapShift(r),t-=o.size.outerWidth}},_unshiftCells:function(e){if(e&&e.length)for(var t=0;t<e.length;t++)e[t].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(e){this.velocity+=e},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var e=this.dragX-this.x-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var e=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(e)}}};return i}(0,e)}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o;!function(r,a){n=[i(14),i(43),i(11)],void 0===(o=function(e,t,i){return function(e,t,i,n){"use strict";n.extend(t.defaults,{draggable:">1",dragThreshold:3}),t.createMethods.push("_createDrag");var o=t.prototype;n.extend(o,i.prototype),o._touchActionValue="pan-y";var r="createTouch"in document,a=!1;o._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),r&&!a&&(e.addEventListener("touchmove",function(){}),a=!0)},o.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},o.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},o.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},o.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},o.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},o._uiChangeDrag=function(){delete this.isFreeScrolling},o.pointerDown=function(t,i){if(this.isDraggable){var n=this.okayPointerDown(t);n&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),e.addEventListener("scroll",this),this._pointerDownDefault(t,i))}else this._pointerDownDefault(t,i)},o._pointerDownDefault=function(e,t){this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},this._bindPostStartEvents(e),this.dispatchEvent("pointerDown",e,[t])};var s={INPUT:!0,TEXTAREA:!0,SELECT:!0};function l(){return{x:e.pageXOffset,y:e.pageYOffset}}return o.pointerDownFocus=function(e){s[e.target.nodeName]||this.focus()},o._pointerDownPreventDefault=function(e){var t="touchstart"==e.type,i="touch"==e.pointerType,n=s[e.target.nodeName];t||i||n||e.preventDefault()},o.hasDragStarted=function(e){return Math.abs(e.x)>this.options.dragThreshold},o.pointerUp=function(e,t){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},o.pointerDone=function(){e.removeEventListener("scroll",this),delete this.pointerDownScroll},o.dragStart=function(t,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),e.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[i]))},o.pointerMove=function(e,t){var i=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,i]),this._dragMove(e,t,i)},o.dragMove=function(e,t,i){if(this.isDraggable){e.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x=i.x%this.slideableWidth);var o=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var r=Math.max(-this.slides[0].target,this.dragStartPosition);o=o>r?.5*(o+r):o;var a=Math.min(-this.getLastSlide().target,this.dragStartPosition);o=o<a?.5*(o+a):o}this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",e,[t,i])}},o.dragEnd=function(e,t){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",e,[t])}},o.dragEndRestingSelect=function(){var e=this.getRestingPosition(),t=Math.abs(this.getSlideDistance(-e,this.selectedIndex)),i=this._getClosestResting(e,t,1),n=this._getClosestResting(e,t,-1);return i.distance<n.distance?i.index:n.index},o._getClosestResting=function(e,t,i){for(var n=this.selectedIndex,o=1/0,r=this.options.contain&&!this.options.wrapAround?function(e,t){return e<=t}:function(e,t){return e<t};r(t,o)&&(n+=i,o=t,null!==(t=this.getSlideDistance(-e,n)));)t=Math.abs(t);return{distance:o,index:n-i}},o.getSlideDistance=function(e,t){var i=this.slides.length,o=this.options.wrapAround&&i>1,r=o?n.modulo(t,i):t,a=this.slides[r];if(!a)return null;var s=o?this.slideableWidth*Math.floor(t/i):0;return e-(a.target+s)},o.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var e=this.getSlideDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX;return e>0&&t>0?1:e<0&&t<0?-1:0},o.staticClick=function(e,t){var i=this.getParentCell(e.target),n=i&&i.element,o=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",e,[t,n,o])},o.onscroll=function(){var e=l(),t=this.pointerDownScroll.x-e.x,i=this.pointerDownScroll.y-e.y;(Math.abs(t)>3||Math.abs(i)>3)&&this._pointerDone()},t}(r,e,t,i)}.apply(t,n))||(e.exports=o)}(window)},function(e,t,i){var n,o;
/*!
 * Unidragger v2.3.0
 * Draggable base class
 * MIT license
 */
/*!
 * Unidragger v2.3.0
 * Draggable base class
 * MIT license
 */
!function(r,a){n=[i(22)],void 0===(o=function(e){return function(e,t){"use strict";function i(){}var n=i.prototype=Object.create(t.prototype);n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(t){for(var i=(t=void 0===t||t)?"addEventListener":"removeEventListener",n=t?this._touchActionValue:"",o=0;o<this.handles.length;o++){var r=this.handles[o];this._bindStartEvent(r,t),r[i]("click",this),e.PointerEvent&&(r.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(e,t){var i=this.okayPointerDown(e);i&&(this.pointerDownPointer=t,e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))};var o={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},r={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(e){var t=o[e.target.nodeName],i=r[e.target.type],n=!t||i;return n||this._pointerReset(),n},n.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},n.pointerMove=function(e,t){var i=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,i]),this._dragMove(e,t,i)},n._dragPointerMove=function(e,t){var i={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(e,t),i},n.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},n.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},n._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},n._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},n.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},n._dragMove=function(e,t,i){this.isDragging&&this.dragMove(e,t,i)},n.dragMove=function(e,t,i){e.preventDefault(),this.emitEvent("dragMove",[e,t,i])},n._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},n.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},n.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},n._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},i.getPointerPoint=t.getPointerPoint,i}(r,e)}.apply(t,n))||(e.exports=o)}(window)},function(e,t,i){var n,o;window,n=[i(14),i(22),i(11)],void 0===(o=function(e,t,i){return function(e,t,i,n){"use strict";var o="http://www.w3.org/2000/svg";function r(e,t){this.direction=e,this.parent=t,this._create()}r.prototype=Object.create(i.prototype),r.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var e=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==e;var t=this.element=document.createElement("button");t.className="flickity-button flickity-prev-next-button",t.className+=this.isPrevious?" previous":" next",t.setAttribute("type","button"),this.disable(),t.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();t.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},r.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},r.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},r.prototype.createSVG=function(){var e=document.createElementNS(o,"svg");e.setAttribute("class","flickity-button-icon"),e.setAttribute("viewBox","0 0 100 100");var t,i=document.createElementNS(o,"path"),n="string"==typeof(t=this.parent.options.arrowShape)?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z";return i.setAttribute("d",n),i.setAttribute("class","arrow"),this.isLeft||i.setAttribute("transform","translate(100, 100) rotate(180) "),e.appendChild(i),e},r.prototype.handleEvent=n.handleEvent,r.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var e=this.isPrevious?"previous":"next";this.parent[e]()}},r.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},r.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},r.prototype.update=function(){var e=this.parent.slides;if(this.parent.options.wrapAround&&e.length>1)this.enable();else{var t=e.length?e.length-1:0,i=this.isPrevious?0:t,n=this.parent.selectedIndex==i?"disable":"enable";this[n]()}},r.prototype.destroy=function(){this.deactivate(),this.allOff()},n.extend(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.createMethods.push("_createPrevNextButtons");var a=t.prototype;return a._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new r(-1,this),this.nextButton=new r(1,this),this.on("activate",this.activatePrevNextButtons))},a.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},a.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=r,t}(0,e,t,i)}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o;window,n=[i(14),i(22),i(11)],void 0===(o=function(e,t,i){return function(e,t,i,n){"use strict";function o(e){this.parent=e,this._create()}o.prototype=Object.create(i.prototype),o.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},o.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},o.prototype.setDots=function(){var e=this.parent.slides.length-this.dots.length;e>0?this.addDots(e):e<0&&this.removeDots(-e)},o.prototype.addDots=function(e){for(var t=document.createDocumentFragment(),i=[],n=this.dots.length,o=n+e,r=n;r<o;r++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(r+1)),t.appendChild(a),i.push(a)}this.holder.appendChild(t),this.dots=this.dots.concat(i)},o.prototype.removeDots=function(e){var t=this.dots.splice(this.dots.length-e,e);t.forEach(function(e){this.holder.removeChild(e)},this)},o.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},o.prototype.onTap=o.prototype.onClick=function(e){var t=e.target;if("LI"==t.nodeName){this.parent.uiChange();var i=this.dots.indexOf(t);this.parent.select(i)}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},t.PageDots=o,n.extend(t.defaults,{pageDots:!0}),t.createMethods.push("_createPageDots");var r=t.prototype;return r._createPageDots=function(){this.options.pageDots&&(this.pageDots=new o(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},r.activatePageDots=function(){this.pageDots.activate()},r.updateSelectedPageDots=function(){this.pageDots.updateSelected()},r.updatePageDots=function(){this.pageDots.setDots()},r.deactivatePageDots=function(){this.pageDots.deactivate()},t.PageDots=o,t}(0,e,t,i)}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o;window,n=[i(16),i(11),i(14)],void 0===(o=function(e,t,i){return function(e,t,i){"use strict";function n(e){this.parent=e,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}n.prototype=Object.create(e.prototype),n.prototype.play=function(){if("playing"!=this.state){var e=document.hidden;e?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick())}},n.prototype.tick=function(){if("playing"==this.state){var e=this.parent.options.autoPlay;e="number"==typeof e?e:3e3;var t=this;this.clear(),this.timeout=setTimeout(function(){t.parent.next(!0),t.tick()},e)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){var e=document.hidden;this[e?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},t.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var o=i.prototype;return o._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},o.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},o.playPlayer=function(){this.player.play()},o.stopPlayer=function(){this.player.stop()},o.pausePlayer=function(){this.player.pause()},o.unpausePlayer=function(){this.player.unpause()},o.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},o.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},o.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}(e,t,i)}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o;window,n=[i(14),i(11)],void 0===(o=function(e,t){return function(e,t,i){"use strict";var n=t.prototype;return n.insert=function(e,t){var i=this._makeCells(e);if(i&&i.length){var n=this.cells.length;t=void 0===t?n:t;var o=function(e){var t=document.createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element)}),t}(i),r=t==n;if(r)this.slider.appendChild(o);else{var a=this.cells[t].element;this.slider.insertBefore(o,a)}if(0===t)this.cells=i.concat(this.cells);else if(r)this.cells=this.cells.concat(i);else{var s=this.cells.splice(t,n-t);this.cells=this.cells.concat(i).concat(s)}this._sizeCells(i),this.cellChange(t,!0)}},n.append=function(e){this.insert(e,this.cells.length)},n.prepend=function(e){this.insert(e,0)},n.remove=function(e){var t=this.getCells(e);if(t&&t.length){var n=this.cells.length-1;t.forEach(function(e){e.remove();var t=this.cells.indexOf(e);n=Math.min(t,n),i.removeFrom(this.cells,e)},this),this.cellChange(n,!0)}},n.cellSizeChange=function(e){var t=this.getCell(e);if(t){t.getSize();var i=this.cells.indexOf(t);this.cellChange(i)}},n.cellChange=function(e,t){var i=this.selectedElement;this._positionCells(e),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[e]),this.select(this.selectedIndex),t&&this.positionSliderAtSelected()},t}(0,e,t)}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o;window,n=[i(14),i(11)],void 0===(o=function(e,t){return function(e,t,i){"use strict";t.createMethods.push("_createLazyload");var n=t.prototype;function o(e,t){this.img=e,this.flickity=t,this.load()}return n._createLazyload=function(){this.on("select",this.lazyLoad)},n.lazyLoad=function(){var e=this.options.lazyLoad;if(e){var t="number"==typeof e?e:0,n=this.getAdjacentCellElements(t),r=[];n.forEach(function(e){var t=function(e){if("IMG"==e.nodeName){var t=e.getAttribute("data-flickity-lazyload"),n=e.getAttribute("data-flickity-lazyload-src"),o=e.getAttribute("data-flickity-lazyload-srcset");if(t||n||o)return[e]}var r=e.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return i.makeArray(r)}(e);r=r.concat(t)}),r.forEach(function(e){new o(e,this)},this)}},o.prototype.handleEvent=i.handleEvent,o.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var e=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),t=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=e,t&&this.img.setAttribute("srcset",t),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},o.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},o.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},o.prototype.complete=function(e,t){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(t),this.flickity.dispatchEvent("lazyLoad",e,n)},t.LazyLoader=o,t}(0,e,t)}.apply(t,n))||(e.exports=o)},function(e,t,i){var n,o,r;
/*!
 * Masonry v4.2.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */window,o=[i(50),i(17)],void 0===(r="function"==typeof(n=function(e,t){"use strict";var i=e.create("masonry");i.compatOptions.fitWidth="isFitWidth";var n=i.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],i=e&&e.element;this.columnWidth=i&&t(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,a=n-o%n;r=Math[a&&a<1?"round":"floor"](r),this.cols=Math.max(r,1)},n.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,i=t(e);this.containerWidth=i&&i.innerWidth},n._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,i=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var n=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,e),o={x:this.columnWidth*n.col,y:n.y},r=n.y+e.size.outerHeight,a=i+n.col,s=n.col;s<a;s++)this.colYs[s]=r;return o},n._getTopColPosition=function(e){var t=this._getTopColGroup(e),i=Math.min.apply(Math,t);return{col:t.indexOf(i),y:i}},n._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],i=this.cols+1-e,n=0;n<i;n++)t[n]=this._getColGroupY(n,e);return t},n._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var i=this.colYs.slice(e,e+t);return Math.max.apply(Math,i)},n._getHorizontalColPosition=function(e,t){var i=this.horizontalColIndex%this.cols;i=e>1&&i+e>this.cols?0:i;var n=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=n?i+e:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,e)}},n._manageStamp=function(e){var i=t(e),n=this._getElementOffset(e),o=this._getOption("originLeft")?n.left:n.right,r=o+i.outerWidth,a=Math.floor(o/this.columnWidth);a=Math.max(0,a);var s=Math.floor(r/this.columnWidth);s-=r%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this._getOption("originTop")?n.top:n.bottom)+i.outerHeight,c=a;c<=s;c++)this.colYs[c]=Math.max(l,this.colYs[c])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},n._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},i})?n.apply(t,o):n)||(e.exports=r)},function(e,t,i){var n,o;
/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */
/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */
!function(r,a){"use strict";n=[i(16),i(17),i(11),i(51)],void 0===(o=function(e,t,i,n){return function(e,t,i,n,o){var r=e.console,a=e.jQuery,s=function(){},l=0,c={};function u(e,t){var i=n.getQueryElement(e);if(i){this.element=i,a&&(this.$element=a(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(t);var o=++l;this.element.outlayerGUID=o,c[o]=this,this._create();var s=this._getOption("initLayout");s&&this.layout()}else r&&r.error("Bad element for "+this.constructor.namespace+": "+(i||e))}u.namespace="outlayer",u.Item=o,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=u.prototype;function d(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}n.extend(h,t.prototype),h.option=function(e){n.extend(this.options,e)},h._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var e=this._getOption("resize");e&&this.bindResize()},h.reloadItems=function(){this.items=this._itemize(this.element.children)},h._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,n=[],o=0;o<t.length;o++){var r=t[o],a=new i(r,this);n.push(a)}return n},h._filterFindItemElements=function(e){return n.filterFindElements(e,this.options.itemSelector)},h.getItemElements=function(){return this.items.map(function(e){return e.element})},h.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},h._init=h.layout,h._resetLayout=function(){this.getSize()},h.getSize=function(){this.size=i(this.element)},h._getMeasurement=function(e,t){var n,o=this.options[e];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[e]=n?i(n)[t]:o):this[e]=0},h.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},h._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},h._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var i=[];e.forEach(function(e){var n=this._getItemLayoutPosition(e);n.item=e,n.isInstant=t||e.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},h._getItemLayoutPosition=function(){return{x:0,y:0}},h._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},h.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),i=t&&t[1],n=t&&t[2];if(!i.length)return 0;i=parseFloat(i);var o=f[n]||1;return i*o}(e),this.stagger;this.stagger=0},h._positionItem=function(e,t,i,n,o){n?e.goTo(t,i):(e.stagger(o*this.stagger),e.moveTo(t,i))},h._postLayout=function(){this.resizeContainer()},h.resizeContainer=function(){var e=this._getOption("resizeContainer");if(e){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},h._getContainerSize=s,h._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},h._emitCompleteOnItems=function(e,t){var i=this;function n(){i.dispatchEvent(e+"Complete",null,[t])}var o=t.length;if(t&&o){var r=0;t.forEach(function(t){t.once(e,a)})}else n();function a(){++r==o&&n()}},h.dispatchEvent=function(e,t,i){var n=t?[t].concat(i):i;if(this.emitEvent(e,n),a)if(this.$element=this.$element||a(this.element),t){var o=a.Event(t);o.type=e,this.$element.trigger(o,i)}else this.$element.trigger(e,i)},h.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},h.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},h.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},h.unstamp=function(e){(e=this._find(e))&&e.forEach(function(e){n.removeFrom(this.stamps,e),this.unignore(e)},this)},h._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=n.makeArray(e)},h._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},h._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},h._manageStamp=s,h._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,o=i(e),r={left:t.left-n.left-o.marginLeft,top:t.top-n.top-o.marginTop,right:n.right-t.right-o.marginRight,bottom:n.bottom-t.bottom-o.marginBottom};return r},h.handleEvent=n.handleEvent,h.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},h.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},h.onresize=function(){this.resize()},n.debounceMethod(u,"onresize",100),h.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},h.needsResizeLayout=function(){var e=i(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},h.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},h.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},h.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},h.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,i){e.stagger(i*t),e.reveal()})}},h.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,i){e.stagger(i*t),e.hide()})}},h.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},h.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},h.getItem=function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.element==e)return i}},h.getItems=function(e){e=n.makeArray(e);var t=[];return e.forEach(function(e){var i=this.getItem(e);i&&t.push(i)},this),t},h.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),n.removeFrom(this.items,e)},this)},h.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},u.data=function(e){var t=(e=n.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},u.create=function(e,t){var i=d(u);return i.defaults=n.extend({},u.defaults),n.extend(i.defaults,t),i.compatOptions=n.extend({},u.compatOptions),i.namespace=e,i.data=u.data,i.Item=d(o),n.htmlInit(i,e),a&&a.bridget&&a.bridget(e,i),i};var f={ms:1,s:1e3};return u.Item=o,u}(r,e,t,i,n)}.apply(t,n))||(e.exports=o)}(window)},function(e,t,i){var n,o,r;window,o=[i(16),i(17)],void 0===(r="function"==typeof(n=function(e,t){"use strict";var i=document.documentElement.style,n="string"==typeof i.transition?"transition":"WebkitTransition",o="string"==typeof i.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],a={transform:o,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function s(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=s.prototype=Object.create(e.prototype);l.constructor=s,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var i in e){var n=a[i]||i;t[n]=e[i]}},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=e[t?"left":"right"],o=e[i?"top":"bottom"],r=parseFloat(n),a=parseFloat(o),s=this.layout.size;-1!=n.indexOf("%")&&(r=r/100*s.width),-1!=o.indexOf("%")&&(a=a/100*s.height),r=isNaN(r)?0:r,a=isNaN(a)?0:a,r-=t?s.paddingLeft:s.paddingRight,a-=i?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=a},l.layoutPosition=function(){var e=this.layout.size,t={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",a=i?"right":"left",s=this.position.x+e[o];t[r]=this.getXValue(s),t[a]="";var l=n?"paddingTop":"paddingBottom",c=n?"top":"bottom",u=n?"bottom":"top",h=this.position.y+e[l];t[c]=this.getYValue(h),t[u]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var i=this.position.x,n=this.position.y,o=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!o||this.isTransitioning){var r=e-i,a=t-n,s={};s.transform=this.getTranslate(r,a),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return"translate3d("+(e=i?e:-e)+"px, "+(t=n?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);e.from&&(this.css(e.from),this.element.offsetHeight),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var c="opacity,"+o.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var u={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=u[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd){var n=t.onEnd[i];n.call(this),delete t.onEnd[i]}this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(h)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var i in t)return i},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s})?n.apply(t,o):n)||(e.exports=r)},function(e,t,i){var n=i(2);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n=i(54),o=i(55),r=i(56);e.exports=function(e){if(!e)return[];var t=o(n(e)),i=[];return t.features.forEach(function(e){e.geometry&&(i=i.concat(r(e.geometry.coordinates)))}),i}},function(e,t){e.exports=function(e){if(!e||!e.type)return null;var t=i[e.type];if(!t)return null;if("geometry"===t)return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]};if("feature"===t)return{type:"FeatureCollection",features:[e]};if("featurecollection"===t)return e};var i={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},function(e,t){e.exports=function e(t,i){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.reduce(function(t,i){return t.concat(e(i))},[]),t;case"Feature":return e(t.geometry).map(function(e){return{type:"Feature",properties:JSON.parse(JSON.stringify(t.properties)),geometry:e}});case"MultiPoint":return t.coordinates.map(function(e){return{type:"Point",coordinates:e}});case"MultiPolygon":return t.coordinates.map(function(e){return{type:"Polygon",coordinates:e}});case"MultiLineString":return t.coordinates.map(function(e){return{type:"LineString",coordinates:e}});case"GeometryCollection":return t.geometries;case"Point":case"Polygon":case"LineString":return[t];default:return t}}},function(e,t){e.exports=function(e,t){return function e(t){if(Array.isArray(t)&&t.length&&"number"==typeof t[0])return[t];return t.reduce(function(t,i){return Array.isArray(i)&&Array.isArray(i[0])?t.concat(e(i)):(t.push(i),t)},[])}(e)}},function(e,t,i){"use strict";function n(e){return Object.prototype.toString.call(e)}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t(e[i],i,e)}var a=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t},s=Object.prototype.hasOwnProperty||function(e,t){return t in e};function l(e){if("object"==typeof e&&null!==e){var t;if(o(e))t=[];else if("[object Date]"===n(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===n(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===n(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===n(e)}(e)||function(e){return"[object Number]"===n(e)}(e)||function(e){return"[object String]"===n(e)}(e))t=Object(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var i=e.constructor&&e.constructor.prototype||e.__proto__||{},s=function(){};s.prototype=i,t=new s}return r(a(e),function(i){t[i]=e[i]}),t}return e}function c(e,t,i){var n=[],c=[],u=!0;return function e(h){var d=i?l(h):h,f={},p=!0,m={node:d,node_:h,path:[].concat(n),parent:c[c.length-1],parents:c,key:n[n.length-1],isRoot:0===n.length,level:n.length,circular:null,update:function(e,t){m.isRoot||(m.parent.node[m.key]=e),m.node=e,t&&(p=!1)},delete:function(e){delete m.parent.node[m.key],e&&(p=!1)},remove:function(e){o(m.parent.node)?m.parent.node.splice(m.key,1):delete m.parent.node[m.key],e&&(p=!1)},keys:null,before:function(e){f.before=e},after:function(e){f.after=e},pre:function(e){f.pre=e},post:function(e){f.post=e},stop:function(){u=!1},block:function(){p=!1}};if(!u)return m;function v(){if("object"==typeof m.node&&null!==m.node){m.keys&&m.node_===m.node||(m.keys=a(m.node)),m.isLeaf=0===m.keys.length;for(var e=0;e<c.length;e++)if(c[e].node_===h){m.circular=c[e];break}}else m.isLeaf=!0,m.keys=null;m.notLeaf=!m.isLeaf,m.notRoot=!m.isRoot}v();var g=t.call(m,m.node);return void 0!==g&&m.update&&m.update(g),f.before&&f.before.call(m,m.node),p?("object"!=typeof m.node||null===m.node||m.circular||(c.push(m),v(),r(m.keys,function(t,o){n.push(t),f.pre&&f.pre.call(m,m.node[t],t);var r=e(m.node[t]);i&&s.call(m.node,t)&&(m.node[t]=r.node),r.isLast=o===m.keys.length-1,r.isFirst=0===o,f.post&&f.post.call(m,r),n.pop()}),c.pop()),f.after&&f.after.call(m,m.node),m):m}(e).node}function u(e){this.value=e}function h(e){return new u(e)}u.prototype.get=function(e){for(var t=this.value,i=0;i<e.length;i++){var n=e[i];if(!t||!s.call(t,n))return;t=t[n]}return t},u.prototype.has=function(e){for(var t=this.value,i=0;i<e.length;i++){var n=e[i];if(!t||!s.call(t,n))return!1;t=t[n]}return!0},u.prototype.set=function(e,t){for(var i=this.value,n=0;n<e.length-1;n++){var o=e[n];s.call(i,o)||(i[o]={}),i=i[o]}return i[e[n]]=t,t},u.prototype.map=function(e){return c(this.value,e,!0)},u.prototype.forEach=function(e){return this.value=c(this.value,e,!1),this.value},u.prototype.reduce=function(e,t){var i=1===arguments.length,n=i?this.value:t;return this.forEach(function(t){this.isRoot&&i||(n=e.call(this,n,t))}),n},u.prototype.paths=function(){var e=[];return this.forEach(function(){e.push(this.path)}),e},u.prototype.nodes=function(){var e=[];return this.forEach(function(){e.push(this.node)}),e},u.prototype.clone=function(){var e=[],t=[];return function i(n){for(var o=0;o<e.length;o++)if(e[o]===n)return t[o];if("object"==typeof n&&null!==n){var s=l(n);return e.push(n),t.push(s),r(a(n),function(e){s[e]=i(n[e])}),e.pop(),t.pop(),s}return n}(this.value)},r(a(u.prototype),function(e){h[e]=function(t){var i=[].slice.call(arguments,1),n=new u(t);return n[e].apply(n,i)}}),e.exports=h},function(e,t){function i(){if(!(this instanceof i))return new i;this._bbox=[1/0,1/0,-1/0,-1/0],this._valid=!1}e.exports=i,i.prototype.include=function(e){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[0]),this._bbox[3]=Math.max(this._bbox[3],e[1]),this},i.prototype.union=function(e){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[2]),this._bbox[3]=Math.max(this._bbox[3],e[3]),this},i.prototype.bbox=function(){return this._valid?this._bbox:null},i.prototype.contains=function(e){return this._valid?this._bbox[0]<=e[0]&&this._bbox[1]<=e[1]&&this._bbox[2]>=e[0]&&this._bbox[3]>=e[1]:null},i.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)i.call(n,o)&&(e[o]=n[o])}return e};var i=Object.prototype.hasOwnProperty},function(e,t,i){var n=i(7).default;function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},i=Object.prototype,r=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,i){return e[t]=i}}function h(e,t,i,n){var o=t&&t.prototype instanceof p?t:p,r=Object.create(o.prototype),a=new C(n||[]);return r._invoke=function(e,t,i){var n="suspendedStart";return function(o,r){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw r;return P()}for(i.method=o,i.arg=r;;){var a=i.delegate;if(a){var s=k(a,i);if(s){if(s===f)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=d(e,t,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}(e,i,a),r}function d(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var f={};function p(){}function m(){}function v(){}var g={};u(g,s,function(){return this});var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==i&&r.call(b,s)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function E(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){var i;this._invoke=function(o,a){function s(){return new t(function(i,s){!function i(o,a,s,l){var c=d(e[o],e,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==n(h)&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){i("next",e,s,l)},function(e){i("throw",e,s,l)}):t.resolve(h).then(function(e){u.value=e,s(u)},function(e){return i("throw",e,s,l)})}l(c.arg)}(o,a,i,s)})}return i=i?i.then(s,s):s()}}function k(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=d(i,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function A(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=v,u(w,"constructor",v),u(v,"constructor",m),m.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},E(S.prototype),u(S.prototype,l,function(){return this}),t.AsyncIterator=S,t.async=function(e,i,n,o,r){void 0===r&&(r=Promise);var a=new S(h(e,i,n,o),r);return t.isGeneratorFunction(i)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(w),u(w,c,"Generator"),u(w,s,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,n){return a.type="throw",a.arg=e,t.next=i,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),L(i),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var o=n.arg;L(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:A(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},,,,,,,function(e,t,i){"use strict";i.r(t);i(30);var n=i(0),o=i.n(n),r=i(1),a=i.n(r),s=i(10),l=i.n(s),c=1,u=function(){function e(){o()(this,e)}return a()(e,null,[{key:"disableVerboseLogging",value:function(){return window.sessionStorage.setItem("bsp-logger-level",0),e}},{key:"enableVerboseLogging",value:function(){return window.sessionStorage.setItem("bsp-logger-level",c),e}},{key:"currentLogLevel",value:function(){return 1*window.sessionStorage.getItem("bsp-logger-level")}},{key:"assert",value:function(){return d("assert",arguments),e}},{key:"clear",value:function(){return d("clear",arguments),e}},{key:"count",value:function(){return d("count",arguments),e}},{key:"debug",value:function(){return e.log.apply(null,arguments),e}},{key:"dir",value:function(){return d("dir",arguments),e}},{key:"dirxml",value:function(){return d("dirxml",arguments),e}},{key:"error",value:function(){return d("error",arguments,0),e}},{key:"exception",value:function(){return e.error.apply(null,arguments),e}},{key:"group",value:function(){return d("group",arguments),e}},{key:"groupCollapsed",value:function(){return d("groupCollapsed",arguments),e}},{key:"groupEnd",value:function(){return d("groupEnd",arguments),e}},{key:"info",value:function(){return d("info",arguments),e}},{key:"log",value:function(){return d("log",arguments),e}},{key:"profile",value:function(){return d("profile",arguments),e}},{key:"profileEnd",value:function(){return d("profileEnd",arguments),e}},{key:"table",value:function(){return d("table",arguments),e}},{key:"time",value:function(){return d("time",arguments),e}},{key:"timeEnd",value:function(){return d("timeEnd",arguments),e}},{key:"timeStamp",value:function(){return d("timeStamp",arguments),e}},{key:"trace",value:function(){return d("trace",arguments),e}},{key:"warn",value:function(){return d("warn",arguments),e}},{key:"welcomeMessage",value:function(){var e="%c";h()&&(e="");var t="".concat(e,"Welcome to ").concat(e,"Brightsp").concat(e,"o").concat(e,"t").concat(e," Express").concat(e,"!"),i="".concat(e,"To enable verbose logging from Brightspot Express Javascript plugins, set the session storage variable ").concat(e,"bsp-logger-level ").concat(e,"to 1"),n="background-color: #eee; font-size: 18px",o="".concat(n,"; color: #333333"),r="".concat(n,"; color: #23c8ff"),a="".concat(n,"; color: #ff1e3c"),s="".concat("background-color: #eee; font-size: 11px","; color: #333333"),l="".concat(s,"; font-weight: bold");h()?(console.log(t),console.log(i)):(console.log(t,o,r,a,r,a,o),console.log(i,s,l,s))}}]),e}();function h(){return/Trident\/|MSIE/.test(window.navigator.userAgent)}function d(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;window.console&&(window.console[e]&&u.currentLogLevel()>=i?window.console[e].apply(null,t):u.currentLogLevel()>=i&&window.console.log&&window.console.log.apply(null,t))}var f="data-bsp-plugin",p="complete",m="interactive",v="readystatechange",g="bsp-plugin:load",y="bspPlugin",b=function(){function e(){o()(this,e),l()(this,"attrPlugin",f),l()(this,"propPlugin",y),l()(this,"msgPrefix","PluginRegistry:"),this._plugins=[],function(){var e=this;if(window.MutationObserver){var t=new window.MutationObserver(function(t){w.call(e)});document.readyState===m||document.readyState===p?t.observe(document.body,{childList:!0,subtree:!0}):document.addEventListener(v,function(){document.readyState!==m&&document.readyState!==p||t.observe(document.body,{childList:!0,subtree:!0})})}else document.addEventListener("DOMSubtreeModified",function(){w.call(e)},!1)}.call(this)}return a()(e,[{key:"register",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=this;(function(e){this._plugins.push(e),u.log("".concat(this.msgPrefix," _addPluginToRegistry: added plugin to registry"),e)}).call(this,{load:i,Module:e,selector:t,options:n}),document.addEventListener(v,function(){document.readyState!==m&&document.readyState!==p||w.call(o)})}},{key:"scope",value:function(e){return this.constructor.scope(e)}}],[{key:"scope",value:function(e){return e[y]}}]),e}();function w(){for(var e=0;e<this._plugins.length;e++)S.call(this,this._plugins[e])}function E(e,t){return"".concat(e.trim(),":not([").concat(f,"~='").concat(t,"'])")}function S(e){var t=[],i=e.selector.split(","),n=this;if(i.length>1)for(var o=0;o<i.length;o++){var r=E.call(n,i[o],e.Module.name),a=document.querySelectorAll(r);if(a.length)for(var s=0;s<a.length;s++)t.push(a[s])}else{var l=E.call(n,e.selector,e.Module.name);t=document.querySelectorAll(l)}if(t.length){u.log("".concat(this.msgPrefix," _loadPlugin: Nodes found using selector ").concat(e.selector).concat(this.selectorSuffix),t);for(var c=function(i){var o=t[i];if("function"==typeof e.load)o._bspLoadPromise=new Promise(function(t,i){e.load(t,i,o)}).then(function(){k.call(n,o,e)});else if(e.load===m||e.load===p){var r=function(){if(e.load===document.readyState||e.load===m&&document.readyState===p)return!0};r()?k.call(n,o,e):document.addEventListener(v,function(){r()&&k.call(n,o,e)})}},h=0;h<t.length;h++)c(h)}else u.log("".concat(this.msgPrefix," _loadPlugin: No uninstantiated nodes found using selector ").concat(e.selector).concat(this.selectorSuffix," at this time"))}function k(e,t){try{e[this.propPlugin]||(e[this.propPlugin]={});var i=function(e,t){var i=t.Module.name;if(i.length<2&&!t.Module.generatedName)for(i="Module".concat(Math.ceil(1e5*Math.random()));e[this.propPlugin][i];)i="Module".concat(Math.ceil(1e5*Math.random()));else t.Module.generatedName&&(i=t.Module.generatedName);return t.Module.generatedName=i,i}.call(this,e,t);if(u.log("".concat(this.msgPrefix," _doLoadPlugin:"),e,t),!e[this.propPlugin][i]){var n;e[this.propPlugin][i]=new t.Module(e,t.options);var o={element:e,instance:e[this.propPlugin]};"function"==typeof window.CustomEvent?n=new window.CustomEvent(g,{detail:o}):document.createEvent&&(n=document.createEvent("CustomEvent")).initCustomEvent(g,!0,!1,o),e.dispatchEvent&&e.dispatchEvent(n)}e.setAttribute(this.attrPlugin,function(e,t){var i="",n=e.getAttribute(f),o=t.generatedName;i=n&&n.indexOf(o)>-1?n:n?n+" "+o:o;return i}(e,t.Module))}catch(n){u.error(n)}}window.addEventListener("load",function(){setTimeout(function(){!0},500)});var x=new b,L=i(13),C=i.n(L),A=i(9),P=i.n(A),M=i(3),T=i.n(M),I=i(2),_=i.n(I),O=i(4),q=i.n(O),D=i(5),R=i.n(D),N={ready:"VideoPlayer:ready",timeUpdate:"VideoPlayer:timeUpdate",play:"VideoPlayer:play",playing:"VideoPlayer:playing",pause:"VideoPlayer:paused",volumeChange:"VideoPlayer:volumeChange",enterFullscreen:"VideoPlayer:enterFullscreen",exitFullscreen:"VideoPlayer:exitFullscreen",ended:"VideoPlayer:ended",error:"VideoPlayer:error",quartileCompleted:"VideoPlayer:quartileCompleted"},F={playingInterval:5,playbackPosition:0,quartilePosition:-1},H=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.intervals=C()({},F),this.videoStarted=!1}},{key:"init",value:function(){this.platform=this.getPlatformName()}},{key:"onReady",value:function(){this.emit(N.ready)}},{key:"onPlay",value:function(){this.removeAttribute("data-playback-paused"),this.setAttribute("data-playback-playing",!0),this.videoStarted||(this.emit(N.started,{video:this.video}),this.videoStarted=!0),this.emit(N.playing,{video:this.video,videoPlatform:this.platform})}},{key:"onTimeUpdate",value:function(){this.sendVideoPlaybackIntervalEvents(),this.emit(N.timeUpdate,{video:this.video,videoPlatform:this.platform})}},{key:"onMute",value:function(){this.emit(N.volumeChange)}},{key:"onPause",value:function(){this.emit(N.pause,{video:this.video,videoPlatform:this.platform})}},{key:"onEnded",value:function(){this.intervals=C()({},F),this.emit(N.ended,{video:this.video,videoPlatform:this.platform})}},{key:"onError",value:function(){this.emit(N.error)}},{key:"onVolumneChange",value:function(){this.emit(N.volumeChange)}},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"playPause",value:function(){this.getAttribute("data-playback-paused")?this.play():this.pause()}},{key:"sendVideoPlaybackIntervalEvents",value:function(){var e=this.getDuration();if(e&&0!==e){for(var t=this.getCurrentTime(),i=t/e*100;t>this.intervals.playbackPosition+2*this.intervals.playingInterval;)this.intervals.playbackPosition+=this.intervals.playingInterval;if(t>=this.intervals.playbackPosition+this.intervals.playingInterval){this.intervals.playbackPosition+=this.intervals.playingInterval;var n=new window.CustomEvent("Video:onVideoTimeIntervalUpdate",{bubbles:!0,detail:{playerId:this.playerId,videoPlatform:this.platform,video:this.video,secondsElapsed:t}});this.dispatchEvent(n)}var o=null;if(i>=this.intervals.quartilePosition)if(-1===this.intervals.quartilePosition){if(i>=this.intervals.quartilePosition+25)for(this.intervals.quartilePosition=0;i>=this.intervals.quartilePosition;)this.intervals.quartilePosition+=25}else o=this.intervals.quartilePosition,this.intervals.quartilePosition+=25,100===this.intervals.quartilePosition&&(this.intervals.quartilePosition=95);null!==o&&(95===o&&(o=100),console.log("Quartile reached. Current time and percent",o,t,i),this.emit(N.quartileCompleted,{video:this.video,quartile:o}))}else console.log("Duration is zero")}},{key:"getDisplayQuartile",value:function(e){return-1===e?0:50===e?25:75===e?50:95===e?75:100}},{key:"getCategory",value:function(){}},{key:"getCredit",value:function(){}},{key:"getDateline",value:function(){}},{key:"getDuration",value:function(){return null}},{key:"getCurrentTime",value:function(){return null}},{key:"getIsAutoPlay",value:function(){}},{key:"getOwnerSite",value:function(){}},{key:"getPlatformName",value:function(){}},{key:"getPlayerHeight",value:function(){}},{key:"getPlayerWidth",value:function(){}},{key:"getPlayerResolution",value:function(){return this.getPlayerWidth()+" x "+this.getPlayerHeight()}},{key:"getPlayListTagsosition",value:function(e){for(var t=document.querySelector("[data-playlist]"),i=t.querySelectorAll(".PlaylistItem"),n=t.querySelector("[data-video-id='".concat(e,"']")),o=0;o<i.length;o++)if(n===i[o])return o}},{key:"getSource",value:function(){}},{key:"getVideoFileType",value:function(){}},{key:"getVideoStatus",value:function(){return this.getAttribute("data-playback-playing")?"Playing":this.getAttribute("data-playback-paused")?"Paused":this.getAttribute("data-playback-ended")?"Ended":null}},{key:"getVideoUuid",value:function(){}},{key:"getVolume",value:function(){}},{key:"getStartVolume",value:function(){}},{key:"onVideoFullscreen",value:function(){}},{key:"onEnterFullScreen",value:function(){this.emit(N.enterFullscreen)}},{key:"onExitFullscreen",value:function(){this.emit(N.exitFullscreen)}},{key:"emit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new window.CustomEvent(e,{bubbles:!0,detail:t});this.dispatchEvent(i)}},{key:"videoId",get:function(){return this.getAttribute("data-video-id")}},{key:"videoTitle",get:function(){return this.getAttribute("data-video-title")}},{key:"playerId",get:function(){return this.getAttribute("data-player-id")}},{key:"autoplay",get:function(){return this.hasAttribute("autoplay")}},{key:"disableClickToPlay",get:function(){return this.hasAttribute("disable-click-to-play")}},{key:"muted",get:function(){return this.hasAttribute("muted")}},{key:"loop",get:function(){return this.hasAttribute("loop")}},{key:"poster",get:function(){return this.getAttribute("poster")}},{key:"video",get:function(){return{id:this.videoId,videoPlatform:this.platform,seekSeconds:this.seekSeconds,title:this.videoTitle,inPlaylist:document.querySelector("ps-playlist"),playListTagsosition:P()(document.querySelectorAll("ps-playlist-item")).findIndex(function(e){return e.isCurrent}),duration:this.duration,playerWidth:this.getPlayerWidth(),playerHeight:this.getPlayerHeight(),playerResolution:this.getPlayerResolution(),isAutoPlay:this.getIsAutoPlay(),startVolume:this.getStartVolume(),volume:this.getVolume(),isFullscreen:this.onVideoFullscreen(),videoUuid:this.getVideoUuid(),videoFileType:this.getVideoFileType(),videoInitiation:this.getAttribute("data-playback-started")||!1,credit:this.getCredit(),ownerSite:this.getOwnerSite(),videoClassification:this.getCategory(),source:this.getSource(),location:this.getDateline(),videoStatus:this.getVideoStatus(),quartile:this.getDisplayQuartile(this.intervals.quartilePosition)}}}]),t}(R()(HTMLElement)),B=function(){function e(){o()(this,e);var t=digitalDataBEComponents,i=t.pageDetails,n=t.pageInteractions;i&&e.setLayer(i,"pageLoaded","webPageDetails");var r=digitalDataBEComponents.pageDetails.pageName;n&&e.setLayer(n);var a=!1;document.addEventListener("keydown",function(e){a=e.ctrlKey||e.metaKey}),document.addEventListener("keyup",function(){a=!1}),document.body.addEventListener(N.playing,function(t){var i=t.detail.video;i.videoType=t.detail.videoPlatform,e.setLayer({video:i},"videoPlaying")}),document.body.addEventListener(N.ended,function(t){var i=t.detail.video;i.videoType=t.detail.videoPlatform,e.setLayer({video:i},"videoComplete")}),document.body.addEventListener(N.quartileCompleted,function(t){var i=null;switch(t.detail.quartile){case 25:i="25";break;case 50:i="50";break;case 75:i="75";break;case 100:i="100"}if(i){var n=t.detail.video;n.milestone=i,n.value=t.detail.quartile,n.videoType=t.detail.videoPlatform,e.setLayer({video:n},"videoViewed"+i)}}),document.body.addEventListener(N.pause,function(t){var i=t.detail.video;i.videoType=t.detail.videoPlatform,e.setLayer({video:i},"videoPause")}),document.body.addEventListener("Form:onStart",function(t){var i=t.detail.name,n=t.detail.location;e.setLayer({formName:i,formLocation:n},"formStart")}),document.body.addEventListener("Form:onSuccess",function(t){var i=t.detail.name,n=t.detail.location;e.setLayer({formName:i,formLocation:n},"formComplete")}),document.body.addEventListener("Form:onError",function(t){var i=t.detail.name,n=t.detail.errMessage;e.setLayer({formName:i,formErrorMessage:n},"formError")}),document.body.addEventListener("Form:submitFeedback",function(t){var i=t.detail,n=i.eventType,o=i.reason,r=C()({pageUrl:window.location.href},o&&{reason:o});e.setLayer(r,n)}),document.body.addEventListener("Search:onSearchUpdate",function(t){var i=t.detail.searchTerm,n=(new DOMParser).parseFromString(t.detail.responseMarkup,"text/html").querySelector(".SearchResultsModule-ajaxContent").getAttribute("data-search-count");e.setLayer({searchTerm:i,searchResults:n},n?"internalSearch":"nullSearch")}),document.body.addEventListener("Search:onFilterUpdate",function(t){var i=t.detail.filter;e.setLayer({Filter:i},"FilterApplied")}),document.body.addEventListener("Search:closingSearch",function(t){var i=t.detail.searchTerm;e.setLayer({searchTerm:i},"SearchClosed")}),document.addEventListener("click",function(t){var i=t.target.closest("a");if(i){t.preventDefault();var n=i.text?i.text.trim():"None",o=i.getAttribute("href"),s=i.getAttribute("target"),l=document.querySelector(".Page-header-search-input");if(o.includes("//amazon.com")||o.includes("www.amazon.com"))e.setLayer({RedirectLinkText:n,DestinationLinkClick:o},"RedirectLinkClick");else if(i.closest(".SearchResultsModule")){var c=l&&""!==l.value?l.value:digitalDataBEComponents.pageInteractions?digitalDataBEComponents.pageInteractions.searchTerm:"";e.setLayer({searchResultClickName:n,searchTerm:c,linkUrl:o},"internalSearchClickThrough")}else if(i.closest(".ArticlePage-tags-body"))e.setLayer({TagLinkClick:n,linkUrl:o},"TagClick");else if(i.closest("ps-header"))e.setLayer({MenuLinkName:n},"MenuLinkClicked");else if(i.closest(".ActionBar"))e.setLayer({socialInteractionInfo:n,pageName:r},"socialInteraction");else if(i.closest(".ListRelatedArticles")){var u=i.closest(".PromoCard").querySelector(".PromoCard-title").innerText.trim();u&&e.setLayer({moreAmazonNewsText:u},"moreAmazonNews")}else if(i.closest(".ListUnorderedSticky"))e.setLayer({storiesLinkText:n},"storyLinkClick");else if(i.closest('[class$="-cta"]')||i.closest('[class$="-button"]')||Array.from(i.classList).some(function(e){return e.includes("-button")}))e.setLayer({CTAButtonName:n,pageName:r,DestinationLink:o},"CTAButtonClicked");else if(o&&o.match(/\.(pdf|docx?)$/)){var h=o.split("/").pop(),d=h.split(".").pop();e.setLayer({FileUrl:o,FileName:h,FileType:d},"FileDownloaded")}if(digitalDataBEComponents&&digitalDataBEComponents.stopClicks)e.DEBUG_CONSOLE_LOGS&&console.log("Clicks suppressed for testing");else if(a)window.open(i.getAttribute("href"),"_blank");else if("_blank"===s)window.open(i.getAttribute("href"),"_blank");else if("_blank"===s)window.open(i.getAttribute("href"),"_blank");else if("_modal"!==s&&!i.hasAttribute("data-prevent-default")){var f=i.getAttribute("href");f&&(window.location.href=f)}}}),document.body.addEventListener("Accordion:expanded",function(t){var i=t.detail,n=i.containerName,o=i.accordionName,r={pageUrl:window.location.href,containerName:n,accordionName:o};e.setLayer(r,"accordionExpanded")});var s=[100,75,50,25],l=-1;function c(){var t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.ceil((window.scrollY+window.innerHeight)/t*100),n=s.find(function(e){return i>=e});void 0!==n&&n>l&&(l=n,e.setLayer({scrollInfo:{depth:l+"%"}},"scrollReach"+l))}window.addEventListener("scroll",c),window.addEventListener("load",c)}return a()(e,null,[{key:"setLayer",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"defaultEventType",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"webInteractions";window.adobeDataLayer=window.adobeDataLayer||[];var o={event:i,web:l()({},n,C()(l()({},i,{value:1}),t))};window.adobeDataLayer.push(o),e.DEBUG_CONSOLE_LOGS&&console.log("Setting",t,window.adobeDataLayer)}}]),e}();l()(B,"DEBUG_CONSOLE_LOGS",!0);var z=i(6),U=i.n(z);function W(e,t){if(e<=0)return t;var i,n,o=0;return function(){if(n=arguments,!i){var r=this,a=+Date.now(),s=e-a+o;s<=0?(o=a,t.apply(r,n)):i=setTimeout(function(){o=a,i=null,t.apply(r,n)},s)}}}var j=function(){function e(){o()(this,e),this.mq=this.constructor.mq,this.breakPoints=this.constructor.breakPoints}return a()(e,null,[{key:"breakPoints",get:function(){return{xs:320,sm:600,md:768,lg:1024,hk:1280,xl:1440}}},{key:"mediaQueries",get:function(){var e=this.breakPoints;return{"mq-viewport-xs":"only screen and (min-width: ".concat(e.xs,"px)"),"mq-viewport-sm":"only screen and (min-width: ".concat(e.sm,"px)"),"mq-viewport-md":"only screen and (min-width: ".concat(e.md,"px)"),"mq-viewport-lg":"only screen and (min-width: ".concat(e.lg,"px)"),"mq-viewport-hk":"only screen and (min-width: ".concat(e.hk,"px)"),"mq-viewport-xl":"only screen and (min-width: ".concat(e.xl,"px)")}}},{key:"mq",get:function(){var e=this.mediaQueries,t=window,i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=t.matchMedia(e[n]));return i}}]),e}(),Y=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this,t=(new j).mq;if(this.carousel=this.querySelector("[data-carousel-slides]"),"complete"===document.readyState){if(t["mq-viewport-hk"].matches||t["mq-viewport-xl"].matches)return;t["mq-viewport-lg"].matches?this.setCarousel("large"):(t["mq-viewport-xs"].matches||t["mq-viewport-sm"].matches||t["mq-viewport-sm"].matches)&&this.setCarousel()}else window.addEventListener("load",function(){t["mq-viewport-hk"].matches||t["mq-viewport-xl"].matches||(t["mq-viewport-lg"].matches?e.setCarousel("large"):(t["mq-viewport-xs"].matches||t["mq-viewport-sm"].matches||t["mq-viewport-sm"].matches)&&e.setCarousel())});window.addEventListener("resize",W(250,function(){void 0!==e.flickity&&(e.flickity.destroy(),e.carousel.querySelector(".flickity-counter")&&e.carousel.querySelector(".flickity-counter").remove()),t["mq-viewport-hk"].matches||t["mq-viewport-xl"].matches||(t["mq-viewport-lg"].matches?e.setCarousel("large"):(t["mq-viewport-xs"].matches||t["mq-viewport-sm"].matches||t["mq-viewport-sm"].matches)&&e.setCarousel())}))}},{key:"setCarousel",value:function(e){var t=this,i={cellAlign:"left",prevNextButtons:!1,imagesLoaded:!0,pageDots:!1,lazyLoad:2,contain:!0};e&&"large"===e&&(i={cellAlign:"left",prevNextButtons:!0,imagesLoaded:!0,pageDots:!1,lazyLoad:2,contain:!1,groupCells:4,percentPosition:!1}),this.flickity=new U.a(this.carousel,i),this.counter=document.createElement("div"),this.counter.classList.add("flickity-counter"),this.counter.innerHTML="0".concat(this.flickity.selectedIndex+1," / 0").concat(this.flickity.slides.length),this.carousel.appendChild(this.counter),this.flickity.on("change",function(){t.counter.innerHTML="0".concat(t.flickity.selectedIndex+1," / 0").concat(t.flickity.slides.length)})}}]),t}(R()(HTMLElement)),V=i(7),G=i.n(V);function X(e){return parseInt(e,10)}function $(e){return(e+"").replace(/[^\d.]/g,"")-0}function Q(e){return Math.round(100*e)/100}function Z(e,t){return"textContent"in e?e.textContent=t:e.innerText=t}function J(e,t){return window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.currentStyle.getAttribute(t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}))}function K(e){var t=J(e,"height");return t.indexOf("px")>-1?$(t):Q($(e.clientHeight)-$(J(e,"padding-top"))-$(J(e,"padding-bottom")))}var ee=function(e,t){e&&(this.element=e.length?e[0]:e,this.originalOption=t||{},this.originalElement=this.element.cloneNode(!0),this.preInit(this.originalOption),this.init())};ee.prototype={constructor:ee,reload:function(e){if(e){if(e.useOriginalText&&(this.element.innerHTML=this.originalElement.innerHTML),"-webkit-box"===this.element.style.display)for(var t=["display","overflow","WebkitLineClamp","WebkitBoxOrient"],i=0;i<t.length;i++)this.element.style[t[i]]=this.originalElement.style[t[i]];var n={};for(var o in this.originalOption)n[o]=this.originalOption[o];for(var r in e)n[r]=e[r];this.preInit(n)}this.init()},preInit:function(e){if(this.option={ellipsis:"ellipsis"in e?e.ellipsis:"...",clamp:"clamp"in e?e.clamp:3,reverse:"reverse"in e&&!!e.reverse,splitByWords:"splitByWords"in e&&!!e.splitByWords,disableCssClamp:"disableCssClamp"in e&&!!e.disableCssClamp,onClampStart:"onClampStart"in e&&"function"==typeof e.onClampStart?e.onClampStart:function(){},onClampEnd:"onClampEnd"in e&&"function"==typeof e.onClampEnd?e.onClampEnd:function(){}},"lineTextLen"in e&&(this.option.lineTextLen=e.lineTextLen),"auto"===this.option.clamp)this.autoClamp=!0;else{if(this.option.clamp=X(this.option.clamp),isNaN(this.option.clamp)||this.option.clamp<1)throw new Error("Invaild clamp number!");this.autoClamp=!1}this.useCssClamp=!(this.option.disableCssClamp||this.autoClamp||this.option.reverse||this.option.splitByWords||"..."!==this.option.ellipsis||void 0===document.body.style.webkitLineClamp)},init:function(){if(this.useCssClamp){var e={display:"-webkit-box",overflow:"hidden",WebkitLineClamp:this.option.clamp,WebkitBoxOrient:"vertical"};for(var t in e)this.element.style[t]=e[t]}else this.contentText="textContent"in(i=this.element)?i.textContent:i.innerText,this.ellipsis=function(e){if(/^<[\w\W]+>$/.test(e)){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild||t.firstChild}return e}(this.option.ellipsis),this.clamp();var i},getSingleLineHeight:function(){var e=J(this.element,"line-height"),t=this;if(e.indexOf("px")>-1)return $(e);if(isNaN(e))return n();var i=J(this.element,"font-size");return i.indexOf("px")>-1?Q($(i)*e):i.indexOf("pt")>-1?Q(4*$(i)/3*e):n();function n(){var e=t.element.innerHTML;t.element.innerHTML=".";var i=K(t.element);return t.element.innerHTML=e,i}},clamp:function(){var e,t,i,n,o=this;if(e=this.getSingleLineHeight(),""!==this.contentText&&e){if(this.autoClamp?(i=K(this.element),this.option.clamp=X(i/e),n=this.element.style.height,this.element.style.height="auto"):i=Q(e*this.option.clamp),!(t=K(this.element))||!i||t<=i)return this.autoClamp&&(this.element.style.height=n),void l();var r=this.option.onClampStart.call(this,{needClamp:!0});if(void 0===r||r){var a=this.option.splitByWords?this.contentText.match(/\w+|\W+?/g):this.contentText,s=X(this.option.lineTextLen||Math.min(20,this.contentText.length/this.option.clamp))*this.option.clamp;this.trunkSlice(a,i,s,s,!1),this.autoClamp&&(this.element.style.height=n),this.option.onClampEnd.call(this,{didClamp:!0})}else this.autoClamp&&(this.element.style.height=n),l(!0)}else l();function l(e){e||o.option.onClampStart.call(o,{needClamp:!1}),o.option.onClampEnd.call(o,{didClamp:!1})}},trunkSlice:function(e,t,i,n,o){var r,a=this,s=this.option.reverse?e.slice(e.length-n):e.slice(0,n);if(l(this.option.splitByWords?s.join(""):s),K(this.element)>t)r=o?i:X(i/2)||1,this.trunkSlice(e,t,r,n-r,!0);else{if(1===i&&o)return void(this.option.splitByWords&&/\s/.test(s[this.option.reverse?0:s.length-1])?l((this.option.reverse?s.slice(1):s.slice(0,s.length-1)).join(""),!0):l(this.option.splitByWords?s.join(""):s,!0));r=o?X(i/2)||1:i,this.trunkSlice(e,t,r,n+r,!1)}function l(e,t){"object"===G()(a.ellipsis)?(Z(a.element,e),a.option.reverse?a.element.insertBefore(t?a.ellipsis:a.ellipsis.cloneNode(!0),a.element.firstChild):a.element.appendChild(t?a.ellipsis:a.ellipsis.cloneNode(!0))):a.option.reverse?Z(a.element,a.ellipsis+e):Z(a.element,e+a.ellipsis)}}};var te=ee,ie=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this,t=this.querySelector(".HubLiveBlogModule-keyUpdate");t&&(this.renderDateTimestamp(t),t.querySelector("[data-truncate]")&&(this.elKeyUpdateBody=new te(t.querySelector(".LiveBlogPost-body p"),{clamp:5,ellipsis:"...",splitByWords:!0})));this.querySelectorAll(".HubLiveBlogModule-latestUpdates-items-item").forEach(function(t){e.renderDateTimestamp(t),e.elPostHeadline=new te(t.querySelector(".HubLiveBlogModule-latestUpdates-headline .Link"),{clamp:3,ellipsis:"...",splitByWords:!0})})}},{key:"renderDateTimestamp",value:function(e){var t=parseInt(e.querySelector(".post-date").getAttribute("data-timestamp")),i=new window.Date(t);e.querySelector(".post-date-time").innerHTML=i.toLocaleString(this.locale,{hour:"numeric",minute:"numeric",hour12:!0}),e.querySelector(".post-date-date").innerHTML=i.toLocaleString(this.locale,{month:"long",day:"numeric",year:"numeric"})}}]),t}(R()(HTMLElement)),ne=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;this.carousel=this.querySelector('[class$="-slides"]'),this.slides=this.querySelectorAll('[class$="-slides-slide"]'),U.a.prototype.pointerDownFocus=function(e){return!0},this.slides.length>1&&window.addEventListener("load",function(){var t=window.matchMedia("(max-width: 1024px)");e.checkMobile(t),t.addListener(function(){return e.checkMobile(t)})})}},{key:"buildCarousel",value:function(){var e=this.carousel;this.flickity=new U.a(e,{adaptiveHeight:!1,imagesLoaded:!0,pageDots:!1,cellAlign:"left",wrapAround:!0}),e.classList.add("flickity-resize"),U.a.prototype._createResizeClass=function(){this.element.classList.add("flickity-resize")},U.a.createMethods.push("_createResizeClass");var t=U.a.prototype.resize;U.a.prototype.resize=function(){this.element.classList.remove("flickity-resize"),t.call(this),this.element.classList.add("flickity-resize")}}},{key:"checkMobile",value:function(e){e.matches?this.buildCarousel():this.flickity&&this.flickity.destroy()}}]),t}(R()(HTMLElement)),oe=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.el=this,this.header=document.querySelector('header[class$="-header"]'),this.footer=document.querySelector(".Page-gateway.footer"),this.className=this.el.className,this.elsClassMatches=t.findClassNameMatches(document,this.className),this.elIndex=Array.from(this.elsClassMatches).indexOf(this.el),this.showGateway(),this.handleDropdown(),this.handleOffClicks()}},{key:"showGateway",value:function(){t.getParameterByName("token")&&(this.elsClassMatches[this.elIndex].setAttribute("data-with-gateway",!0),document.body.setAttribute("data-gateway-showing",!0),this.trackGateway())}},{key:"trackGateway",value:function(){}},{key:"handleDropdown",value:function(){var e=this;if(this.elsClassMatches[this.elIndex].querySelector('[class$="dropdown-first"]')){var t=this.elsClassMatches[this.elIndex].querySelector('[class$="dropdown"]');t.addEventListener("click",function(){e.toggleDropdown(t)})}}},{key:"toggleDropdown",value:function(e){e.getAttribute("data-show-gateway-dropdown")?this.removeDropdowns(e):(this.removeDropdowns(e),e.setAttribute("data-show-gateway-dropdown",!0))}},{key:"removeDropdowns",value:function(e){e&&e.removeAttribute("data-show-gateway-dropdown")}},{key:"handleOffClicks",value:function(){var e=this;document.querySelectorAll(".LinkGateway").forEach(function(t){t.addEventListener("click",function(){e.removeDropdowns()})})}}],[{key:"findClassNameMatches",value:function(e,t){return e.querySelectorAll("[class=".concat(t,"]"))}},{key:"getParameterByName",value:function(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}}]),t}(R()(HTMLElement)),re=function(e){function t(){var e;return o()(this,t),(e=T()(this,_()(t).call(this))).content=e.innerHTML,e.innerHTML="",e.addOuterIframe(),e}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;this.adjustOuterIframeSize(),this.observeOuterIframeContentHeight(),window.addEventListener("resize",W(250,function(){e.adjustOuterIframeSize()}))}},{key:"addOuterIframe",value:function(){this.outerIframe=document.createElement("iframe"),this.outerIframe.setAttribute("width","100%"),this.outerIframe.setAttribute("frameborder","0"),this.outerIframe.setAttribute("scrolling","no"),this.outerIframe.classList.add("InstagramEmbed-outerIframe"),this.outerIframe.style.border="none",this.appendChild(this.outerIframe),this.setContent()}},{key:"setContent",value:function(){this.outerIframeDocument=this.outerIframe.contentDocument||this.outerIframe.contentWindow.document,this.outerIframeDocument.open(),this.outerIframeDocument.write(this.content),this.outerIframeDocument.write("<style>iframe { margin-inline: auto !important; }</style>"),this.outerIframeDocument.close(),this.outerIframeDocument.body.style.margin="0",this.outerIframeDocument.body.style.padding="0",this.outerIframeDocument.body.style.height="fit-content",this.outerIframeDocument.body.style.textAlign="center"}},{key:"adjustOuterIframeSize",value:function(){var e=this.outerIframeDocument.body.getBoundingClientRect();this.outerIframe.style.height=Math.ceil(e.height)+"px"}},{key:"observeOuterIframeContentHeight",value:function(){var e=this;new window.MutationObserver(function(){e.adjustOuterIframeSize()}).observe(this.outerIframeDocument.body,{attributes:!0,childList:!0,subtree:!0})}}]),t}(window.HTMLElement),ae=Symbol("fireEvent"),se=new(function(){function e(){o()(this,e),this.parselyPreload={eventQueue:[],loaded:!1}}return a()(e,[{key:"trackPageViewOrPushToQueue",value:function(e){"object"===G()(window.PARSELY)&&"object"===G()(window.PARSELY.beacon)?window.PARSELY.beacon.trackPageView(e):this.parselyPreload.eventQueue.push(e)}},{key:"fireParselyEvent",value:function(){this[ae]("pageview")}},{key:"fireCustomEvent",value:function(e){this[ae](e)}},{key:ae,value:function(e){var t={url:window.location.href,urlref:document.referrer,action:e,js:1};this.trackPageViewOrPushToQueue(t)}},{key:"profileAPI",value:function(){"object"===G()(window.PARSELY)?this.parselyObjectInitialLoad():window.PARSELY={onload:se.parselyObjectInitialLoad}}},{key:"parselyObjectInitialLoad",value:function(){se.trainProfile()}},{key:"trainProfile",value:function(){if(window.PARSELY&&window.PARSELY.config&&window.PARSELY.config.parsely_site_uuid&&window.PARSELY.config.apikey){var e={uuid:window.PARSELY.config.parsely_site_uuid,url:window.location.href,apikey:window.PARSELY.config.apikey},t=se.makeParselyEndpointUrl("/profile",e);t&&""!==t&&se.sendToParselyEndpoint(t)}}},{key:"makeParselyEndpointUrl",value:function(e,t){var i="https://api.parsely.com/v2"+e;if("object"===G()(t)&&null!==t){var n=[];for(var o in t){var r=t[o];if(!r||""===r)return"";n.push(o+"="+encodeURIComponent(r))}return i+"?"+n.join("&")}return""}},{key:"sendToParselyEndpoint",value:function(e){return window.fetch(e).then(function(e){return e.json()})}}]),e}());window.parselyPreload=se.parselyPreload;var le=function(){function e(t,i){var n=this;o()(this,e),this.container=t,this.settings=i;var r=document.querySelector("".concat(this.settings.loadMoreSelector));if(r)if(r.innerHTML.indexOf("Previous")>-1){r.parentNode.removeChild(r)}else{if(!("IntersectionObserver"in window))return r.classList.add("visible"),void r.addEventListener("click",function(e){e.preventDefault(),n.getNext(r).then(function(e){e&&e.classList.add("visible")})});var a=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(a.unobserve(e.target),n.getNext(e.target).then(function(e){e&&a.observe(e)}))})},{threshold:1});a.observe(r)}}return a()(e,[{key:"getNext",value:function(e){var t=this,i=this.settings.insert||"beforeend";return se.fireParselyEvent(),this.request(this.url(e)).then(function(n){var o=document.createRange().createContextualFragment(n),r=o.querySelectorAll(t.settings.itemSelector),a=o.querySelector(t.settings.loadMoreSelector);if(e.remove(),r.forEach(function(e){t.container.insertAdjacentElement("".concat(i),e)}),a){if(a.innerHTML.indexOf("Previous")>-1)return!1;t.container.appendChild(a)}return document.dispatchEvent(new Event("lazy-load-complete")),t.container.querySelector("".concat(t.settings.loadMoreSelector))})}},{key:"request",value:function(e){return window.fetch(e,{credentials:"same-origin"}).then(function(e){return e.text()})}},{key:"url",value:function(e){return e.getAttribute("href")}}]),e}(),ce=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;if(this.carousel=this.querySelector('[class$="-items"]'),this.slides=this.querySelectorAll('[class$="-items-item"]'),U.a.prototype.pointerDownFocus=function(e){return!0},console.log("hasAttribute",this.mobileVerticalScrolling),!this.slides.length||this.mobileVerticalScrolling)return!1;window.addEventListener("load",function(){if(e.classList.contains("ListArticleRouting")||e.classList.contains("ListThumbnail")){e.buildOnMobile(),window.addEventListener("resize",W(250,function(){e.buildOnMobile(),e.resizeSlides()}));var t=e.closest(".Tabs");t&&t.addEventListener("Tab:onChange",function(){return setTimeout(function(){return e.resizeSlides()},1)})}})}},{key:"buildCarousel",value:function(){var e=this.carousel;this.flickity=new U.a(e,{adaptiveHeight:!1,imagesLoaded:!0,pageDots:!1,cellAlign:"left"}),e.classList.add("flickity-resize"),this.querySelectorAll(".ListArticleRouting-items-item").forEach(function(e){e.style.height="100%"})}},{key:"buildOnMobile",value:function(){if(window.matchMedia("(max-width: 767px)").matches)this.buildCarousel();else if(this.flickity){this.flickity.destroy(),this.querySelectorAll(".ListArticleRouting-items-item").forEach(function(e){e.style.height="auto"})}}},{key:"resizeSlides",value:function(){this.flickity&&(this.slides.forEach(function(e){e.style.height="auto"}),this.flickity.resize(),this.slides.forEach(function(e){e.style.height="100%"}))}},{key:"mobileVerticalScrolling",get:function(){return this.hasAttribute("data-mobile-vertical-scrolling")}}]),t}(R()(HTMLElement)),ue=i(24),he=i.n(ue),de=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;this.carousel=this.querySelector('[class$="-items"]'),this.slides=this.querySelectorAll('[class$="-items-item"]'),this.controls=this.querySelector('[class$="-controls"]'),this.progress=this.querySelector('[class$="-progress"]'),this.autoplay=this.carousel.parentElement.dataset.autoplay,this.autoplaySpeed=this.carousel.parentElement.dataset.autoplaySpeed,he.a.prototype.pointerDownFocus=function(e){return!0},this.slides.length>1&&window.addEventListener("load",function(){if(e.buildCarousel(),e.classList.contains("ListFastFacts-wrapper")){e.counter=document.createElement("div"),e.counter.classList.add("flickity-counter"),e.counter.innerHTML="".concat(e.flickity.selectedIndex+1," / ").concat(e.flickity.slides.length);var t=e.querySelector("button.previous"),i=e.querySelector("button.next");e.classList.contains("ListFastFacts-wrapper")?(e.controls.appendChild(t),e.controls.appendChild(e.counter),e.controls.appendChild(i)):e.carousel.appendChild(e.counter),e.counter.innerHTML="".concat(e.flickity.selectedIndex+1," / ").concat(e.flickity.slides.length),e.flickity.on("change",function(){e.counter.innerHTML="".concat(e.flickity.selectedIndex+1," / ").concat(e.flickity.slides.length)})}})}},{key:"buildCarousel",value:function(){var e=this.carousel,t=this.autoplaySpeed,i=JSON.parse(this.autoplay)?parseInt(t):JSON.parse(this.autoplay);this.flickity=new he.a(e,{adaptiveHeight:!1,imagesLoaded:!0,pageDots:!1,cellAlign:"left",arrowShape:"M92.5,42.5H25.6L37.8,30.3A7.5,7.5,0,1,0,27.2,19.7l-25,25a7.5,7.5,0,0,0,0,10.6l25,25a7.5,7.5,0,0,0,10.6,0,7.5,7.5,0,0,0,0-10.6L25.6,57.5H92.5a7.5,7.5,0,0,0,0-15Z",fade:!0,pauseAutoPlayOnHover:!0,autoPlay:i}),e.classList.add("flickity-resize")}},{key:"resetCounterAndArrows",value:function(){this.flickity.select(0,!1,!0),this.counter.innerHTML="".concat(this.flickity.selectedIndex+1," / ").concat(this.flickity.slides.length);var e=this.querySelector("button.previous"),t=this.querySelector("button.next");this.counter.setAttribute("data-showing",!0),e.setAttribute("data-showing",!0),t.setAttribute("data-showing",!0)}}]),t}(R()(HTMLElement)),fe=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;this.carousel=this.querySelector('[class$="-items"]'),this.slides=this.querySelectorAll('[class$="-items-item"]'),this.controls=this.querySelector('[class$="-controls"]'),this.progress=this.querySelector('[class$="-progress"]'),U.a.prototype.pointerDownFocus=function(e){return!0},this.slides.length>1&&window.addEventListener("load",function(){if(e.checkState(),e.classList.contains("ListRelatedArticles-wrapper")){e.counter=document.createElement("div"),e.counter.classList.add("flickity-counter"),e.counter.innerHTML="".concat(e.flickity.selectedIndex+1," / ").concat(e.flickity.slides.length);var t=e.querySelector("button.previous"),i=e.querySelector("button.next"),n=e.controls.getAttribute("data-aria-label-previous"),o=e.controls.getAttribute("data-aria-label-next");t.setAttribute("aria-label",n),i.setAttribute("aria-label",o),e.classList.contains("ListRelatedArticles-wrapper")?(e.controls.appendChild(t),e.controls.appendChild(e.counter),e.controls.appendChild(i)):e.carousel.appendChild(e.counter),e.counter.innerHTML="".concat(e.flickity.selectedIndex+1," / ").concat(e.flickity.slides.length),e.flickity.on("change",function(){e.counter.innerHTML="".concat(e.flickity.selectedIndex+1," / ").concat(e.flickity.slides.length)})}window.addEventListener("resize",W(250,function(){e.classList.contains("ListRelatedArticles-wrapper")?(e.slides.forEach(function(e){e.style.minHeight="0"}),e.flickity.resize(),e.resetCounterAndArrows(),e.checkState(),e.slides.forEach(function(e){e.style.removeProperty("min-height")})):(e.resetCounterAndArrows(),e.checkState())}))})}},{key:"buildCarousel",value:function(e){var t=this.carousel,i="mobile"===e?1:3;this.flickity=new U.a(t,{adaptiveHeight:!1,imagesLoaded:!0,pageDots:!1,cellAlign:"left",groupCells:i}),t.classList.add("flickity-resize")}},{key:"resetCounterAndArrows",value:function(){this.flickity&&(this.flickity.select(0,!1,!0),this.counter.innerHTML="".concat(this.flickity.selectedIndex+1," / ").concat(this.flickity.slides.length));var e=this.querySelector("button.previous"),t=this.querySelector("button.next");this.counter.setAttribute("data-showing",!0),e.setAttribute("data-showing",!0),t.setAttribute("data-showing",!0)}},{key:"checkState",value:function(){var e=window.matchMedia("(max-width: 767px)").matches?"mobile":"tablet";this.carousel.classList.remove("flickity-resize"),this.buildCarousel(e)}}]),t}(R()(HTMLElement)),pe=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.showButton();var e=this.querySelector(".Page-scrollToTop");e&&e.addEventListener("click",function(e){window.scrollTo({top:0,behavior:"smooth"})})}},{key:"showButton",value:function(){var e=this.querySelector(".Page-scrollToTop");e&&(document.body.scrollTop>100||document.documentElement.scrollTop>100?e.style.display="flex":e.style.display="none",window.addEventListener("scroll",function(t){document.body.scrollTop>100||document.documentElement.scrollTop>100?e.style.display="flex":e.style.display="none"}))}}]),t}(window.HTMLElement),me=function(){function e(t){o()(this,e),this.el=t,this.userId=window.localStorage.getItem("userId")||void 0,this.contentId=this.el.getAttribute("data-content-id");var i=this.el.getAttribute("data-endpoint");this.ajaxUrl=i+(i.endsWith("/")?"":"/")+"/?c=".concat(this.contentId),this.hitRatingEndpoint(),this.setupStarClicks()}return a()(e,[{key:"hitRatingEndpoint",value:function(){var e=this,t=this.ajaxUrl;this.userId&&(t+="&u=".concat(this.userId)),window.fetch(t,{credentials:"include"}).then(function(e){return e.json()}).then(function(t){t.rating&&(e.setUser(t.user||null),e.setRating(t))})}},{key:"setUser",value:function(e){this.userId=e,window.localStorage.setItem("userId",this.userId)}},{key:"setRating",value:function(e){this.el.querySelector(".Ratings-stars").setAttribute("data-stars",e.rating),e.count&&(this.el.querySelector(".Ratings-ratingsCount").innerHTML=e.count),e.voted&&this.el.setAttribute("data-rating-disabled",!0)}},{key:"setupStarClicks",value:function(){var e=this;this.el.querySelectorAll(".Ratings-star").forEach(function(t){return t.addEventListener("click",function(t){e.registerRating(t)},!0)})}},{key:"registerRating",value:function(e){var t=this,i=e.target.getAttribute("data-star");window.fetch(this.ajaxUrl,{credentials:"include",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"user=".concat(this.userId,"&rating=").concat(i)}).then(function(e){return e.json()}).then(function(e){e.rating=i,t.setUser(e.user||!1),t.setRating(e),t.el.setAttribute("data-feedback",!0)})}}]),e}(),ve=function(){function e(){o()(this,e),this.tableWrapper(),this.scrollWrapper(),window.onload=this.scrollable,window.addEventListener("resize",this.scrollable),this.scrollEnd()}return a()(e,[{key:"tableWrapper",value:function(){document.querySelectorAll("table").forEach(function(e){var t=document.createElement("div");e.parentNode.insertBefore(t,e),t.appendChild(e),e.parentElement.setAttribute("scroll","true")})}},{key:"scrollWrapper",value:function(){document.querySelectorAll('[scroll="true"]').forEach(function(e){var t=document.createElement("div");e.parentNode.insertBefore(t,e),t.appendChild(e),t.classList.add("table-scroll-wrapper")})}},{key:"scrollable",value:function(){document.querySelectorAll('[scroll="true"]').forEach(function(e){e.scrollWidth>e.clientWidth?e.parentElement.setAttribute("overflow","true"):e.parentElement.setAttribute("overflow","false")})}},{key:"scrollEnd",value:function(){document.querySelectorAll('[scroll="true"]').forEach(function(e){var t=e.querySelector("table tr:first-of-type td:last-of-type");e.addEventListener("scroll",function(){e.getBoundingClientRect().right>=t.getBoundingClientRect().right?e.parentElement.setAttribute("scrollEnd","true"):e.parentElement.setAttribute("scrollEnd","false")})})}}]),e}(),ge=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;this.carousel=this.querySelector('[class$="-slides"]'),this.slides=this.querySelectorAll('[class$="-slides-slide"]'),this.controls=this.querySelector('[class$="-controls"]'),U.a.prototype.pointerDownFocus=function(e){return!0},this.slides.length>1&&window.addEventListener("load",function(){e.flickity=new U.a(e.carousel,{adaptiveHeight:!1,imagesLoaded:!0,pageDots:!1}),e.counter=document.createElement("div"),e.counter.classList.add("flickity-counter"),e.counter.innerHTML="".concat(e.flickity.selectedIndex+1,"/").concat(e.flickity.slides.length);var t=e.querySelector("button.previous"),i=e.querySelector("button.next");e.controls.appendChild(t),e.controls.appendChild(e.counter),e.controls.appendChild(i),e.counter.innerHTML="".concat(e.flickity.selectedIndex+1," / ").concat(e.flickity.slides.length),e.resetCounterAndArrows(),e.flickity.on("change",function(){e.counter.innerHTML="".concat(e.flickity.selectedIndex+1," / ").concat(e.flickity.slides.length),e.resetCounterAndArrows()})}),window.addEventListener("resize",W(250,function(){e.resetCounterAndArrows()}))}},{key:"resetCounterAndArrows",value:function(){var e=this.querySelector("button.previous"),t=this.querySelector("button.next");this.counter.setAttribute("data-showing",!0),e.setAttribute("data-showing",!0),t.setAttribute("data-showing",!0)}}]),t}(R()(HTMLElement)),ye=function(){function e(t){var i=this;o()(this,e),this.el=t,this.lastScrollTop=window.scrollY||window.pageYOffset,window.addEventListener("scroll",W(75,function(){i.checkScrolling()})),window.addEventListener("resize",W(250,function(){i.checkScrolling()}))}return a()(e,[{key:"checkScrolling",value:function(){(window.scrollY||window.pageYOffset)>60?this.setScrollState():this.removeScrollState();var e=window.pageYOffset||document.documentElement.scrollTop;e>this.lastScrollTop?this.setScrollDir("down"):this.setScrollDir("up"),this.lastScrollTop=e<=0?0:e}},{key:"setScrollState",value:function(){document.body.setAttribute("data-scrolling-header",!0)}},{key:"setScrollDir",value:function(e){document.body.setAttribute("data-scrolling-dir",e)}},{key:"removeScrollState",value:function(){document.body.removeAttribute("data-scrolling-header")}}]),e}();function be(e){return window.i18n&&window.i18n.days?window.i18n.days[e]:e}var we=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){console.log("TIMESTAMPJS");var e=this.querySelector("[data-date-template]").innerHTML,t=this.getAttribute("data-timestamp");if(t=t?parseInt(t):this.getAttribute("data-timestamp-iso")){var i=new Date(t),n=window.i18n.months[i.getMonth()],o=window.i18n.monthsFull[i.getMonth()],r=be(i.getDay()),a=i.getDate(),s=i.getDate().toString().padStart(2,"0"),l=(i.getMonth()+1).toString().padStart(2,"0"),c=i.getFullYear();e=(e=(e=(e=(e=(e=(e=(e=e.replace("[monthFull]",o)).replace("[monthNumber]",i.getMonth()+1)).replace("[monthWithLeadingZero]",l)).replace("[month]",n)).replace("[day]",a)).replace("[dayWithLeadingZero]",s)).replace("[dayOfWeek]",r)).replace("[year]",c),this.querySelector("[data-date]").innerHTML=e}}}]),t}(window.HTMLElement),Ee=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.postTimestamp=this.getAttribute("data-timestamp"),this.postTimeLabel=this.querySelector("[data-fuzzytimestamp]"),this.getFuzzyTime(this.postTimestamp)}},{key:"getFuzzyTime",value:function(e){e=parseInt(e);var t="",i=Math.floor(262656e4),n=12*i,o=Math.floor(Date.now())-e,r=function(e,i){var n=Math.floor(o/e);t+=n+" "+i,1!==n&&(t+="s"),t+=" ago"};if(o>=n?r(n,"year"):o>=i?r(i,"month"):o>=6048e5?r(6048e5,"week"):o>=864e5?r(864e5,"day"):o>=36e5?r(36e5,"hour"):o>=6e4?r(6e4,"minute"):o>=1e3?r(1e3,"second"):t="now",o>=n||o>=i||o>=6048e5||o>=864e5){this.style.display="none";var a=this.closest(".LiveBlogPost-heading");if(a)a.querySelector(".LiveBlogPost-date").style.display="block";var s=this.closest(".HubLiveBlogModule-latestUpdates-items-item");if(s)s.querySelector(".LiveBlogPost-date").style.display="block"}if("1 day ago"===this.querySelector("[data-fuzzytimestamp").innerHTML||"2 days ago"===this.querySelector("[data-fuzzytimestamp").innerHTML){this.style.display="block";var l=this.closest(".LiveBlogPost-heading");if(l)l.querySelector(".LiveBlogPost-date").style.display="none";var c=this.closest(".HubLiveBlogModule-latestUpdates-items-item");if(c)c.querySelector(".LiveBlogPost-date").style.display="none"}this.postTimeLabel.innerHTML=t}}]),t}(window.HTMLElement),Se=i(27),ke=(i(49),function(){function e(t){o()(this,e),this.element=t,this.input=this.element.querySelector("."+this.element.classList[0]+"-input"),this.bindEvents()}return a()(e,[{key:"bindEvents",value:function(){var e=this;this.requiresValidation()&&this.input.addEventListener("blur",function(t){setTimeout(function(){return e.validate()},10)})}},{key:"validate",value:function(){var e=this.element,t=this.input.validity;if(t.valid)return e.removeAttribute("data-error"),e.removeAttribute("data-error-message"),void e.setAttribute("data-valid","true");var i="error",n="Field contains an invalid value.";t.badInput?(i="badInput",console.log("bad input")):t.patternMismatch?(i="patternMismatch",console.log("pattern mismatch")):t.rangeOverflow?(i="rangeOverflow",console.log("range overflow")):t.rangeUnderflow?(i="rangeUnderflow",console.log("range underflow")):t.stepMismatch?(i="stepMismatch",console.log("step mistamtch")):t.tooLong?(i="tooLong",n="Field is too long."):t.tooShort?(i="tooShort",n="Field is too short."):t.typeMismatch?(i="typeMismatch",n="Field does not match correct type."):t.valueMissing&&(i="valueMissing",n="Field is required."),e.removeAttribute("data-valid"),e.setAttribute("data-error",i),e.setAttribute("data-error-message",n)}},{key:"requiresValidation",value:function(){return this.input.hasAttribute("required")}}]),e}()),xe=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),t}(ke),Le=i(12),Ce=i.n(Le),Ae=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"requiresValidation",value:function(){var e=this.input;return Ce()(_()(t.prototype),"requiresValidation",this).call(this)||e.getAttribute("maxlength")||e.getAttribute("minlength")||e.getAttribute("pattern")}}]),t}(ke),Pe=function(){function e(){o()(this,e)}return a()(e,null,[{key:"getCookie",value:function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}},{key:"setCookieWithMaxAgeAtDomain",value:function(e,t,i,n){if(e&&""!==e&&t){var o=e+"="+t+";path=/";if(i)o+=";max-age="+60*i*60*24;n&&""!==n&&(o+=";domain="+n),document.cookie=o}}},{key:"getQueryParametersAsMap",value:function(){var e={},t=window.location.search.substring(1);if(!t||0===t.length)return null;for(var i=t.split("&"),n=0;n<i.length;n++){var o=i[n].split("="),r=decodeURIComponent(o[0]),a=decodeURIComponent(o[1]),s=a;try{s=decodeURIComponent(a)}catch(e){return null}void 0===e[r]?e[r]=[s]:e[r].push(s)}return e}},{key:"getRootDomain",value:function(){var e=window.location.hostname.split(".");return 2===e.length?window.location.hostname:e.length>2?(e=e.slice(1)).join("."):null}}]),e}(),Me=function(){function e(t,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";o()(this,e),this.grecaptcha=t,this.grecaptchaWidgetId=i,this.token=n,this.parentClass=r,this.submissionFailure=!1,this.callbackInvoked=!1}return a()(e,[{key:"recaptchaCallback",value:function(){this.addSubmittedClass();var e=document.querySelector(this.parentClass+" .ofd-button").dataset.sitekey;if(this.token&&e){var t="/recaptcha/validate?g-recaptcha-response="+this.token+"&siteKey="+e,i=this.recaptchaValidationCallback.bind(this);window.fetch(t).then(i)}else this.addErrorClass()}},{key:"formHandlerJsonpRequestCallback",value:function(t){this.callbackInvoked=!0,"success"===t.result?(this.addSuccessClass(),e.createOfdSuppressionCookie()):(this.addErrorClass(),this.submissionFailure=!0)}},{key:"recaptchaValidationCallback",value:function(e){if(e.ok)if(this.sendFormHandlerJsonpRequest(this.formHandlerJsonpRequestCallback.bind(this))){if(!this.submissionFailure){setTimeout(function(){this.callbackInvoked||this.addErrorClass()}.bind(this),1e4)}}else this.addErrorClass();else this.addErrorClass()}},{key:"sendFormHandlerJsonpRequest",value:function(e){var t="",i=this.getFieldValueFromQuery(this.parentClass+' input[name="email"]');if(!i)return!1;t="&email="+encodeURIComponent(i);var n=this.getFieldValueFromQuery(this.parentClass+' input[name="trafficSource"]');n&&(t+="&trafficSource="+encodeURIComponent(n));var o=this.getFieldValueFromQuery(this.parentClass+' input[name="moduleType"]');o&&(t+="&moduleType="+encodeURIComponent(o));var r=document.querySelector(this.parentClass+" .ofd-form").dataset.endpoint;if(!r)return!1;r+="?callback=jsonpCallback"+t;var a=document.createElement("script");return a.src=r,window.jsonpCallback=function(t){delete window.jsonpCallback,document.body.removeChild(a),e(t)},document.body.appendChild(a),!0}},{key:"addSubmittedClass",value:function(){var e=document.querySelector(this.parentClass+" .ofd-form");e&&e.classList.add("ofd-submission-submitted")}},{key:"addErrorClass",value:function(){var e=document.querySelector(this.parentClass+" .ofd-form");e&&e.classList.add("ofd-submission-failure"),this.grecaptcha&&this.grecaptcha.reset(this.grecaptchaWidgetId)}},{key:"addSuccessClass",value:function(){var e=document.querySelector(this.parentClass+" .ofd-form");e&&e.classList.add("ofd-submission-success")}},{key:"getFieldValueFromQuery",value:function(e){var t=document.querySelector(e);return t?t.value:null}}],[{key:"getUtmMediumFromWindowUrl",value:function(){var e=new window.URLSearchParams(window.location.search.substring(1)).get("utm_medium");if(!e){var t=Pe.getQueryParametersAsMap();if(!t)return null;var i=t.utm_medium;i&&(e=i[0])}return e}},{key:"utmMediumIsFromOfdNewsletter",value:function(){var t=e.getUtmMediumFromWindowUrl();return!!t&&"OFD"===t.toUpperCase()}},{key:"shouldSuppressOfdModule",value:function(){return!!Pe.getCookie("eclipse_ofd_suppression")||!!e.utmMediumIsFromOfdNewsletter()&&(e.createOfdSuppressionCookie(),!0)}},{key:"createOfdSuppressionCookie",value:function(){var e=Pe.getRootDomain();Pe.setCookieWithMaxAgeAtDomain("eclipse_ofd_suppression",!0,365,e)}}]),e}(),Te=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;this.allToggles=this.querySelectorAll(".AccordionItem-question"),this.allToggles.forEach(function(t){t.addEventListener("click",function(i){e.handleToggle(i,t)},!0)})}},{key:"handleToggle",value:function(e,t){e.preventDefault(),"true"===t.parentNode.getAttribute("data-opened")?t.parentNode.removeAttribute("data-opened"):(this.allToggles.forEach(function(e){return e.parentNode.removeAttribute("data-opened")}),t.parentNode.setAttribute("data-opened",!0))}}]),t}(window.HTMLElement),Ie=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;this.carousel=this.querySelector('[class$="-slides"]'),this.slides=this.querySelectorAll('[class$="-slides-slide"]'),this.controls=this.querySelector('[class$="-controls"]'),this.progress=this.querySelector('[class$="-progress"]'),U.a.prototype.pointerDownFocus=function(e){return!0},this.alreadyLoaded=!1;var t=this,i=function(){if(!t.alreadyLoaded){t.carouselSettings={adaptiveHeight:!0,imagesLoaded:!0,pageDots:!1},t.classList.contains("CarouselModule")&&(t.carouselSettings={adaptiveHeight:!1,imagesLoaded:!0,pageDots:!0}),t.classList.contains("CarouselInline")&&(t.carouselSettings={adaptiveHeight:!1,imagesLoaded:!0,pageDots:!0}),t.classList.contains("CarouselInlineModule")&&(t.carouselSettings={adaptiveHeight:!1,imagesLoaded:!0,pageDots:!0}),t.flickity=new U.a(t.carousel,t.carouselSettings),t.counter=document.createElement("div"),t.counter.classList.add("flickity-counter");var e=t.flickity.selectedIndex+1,i=t.flickity.slides.length;e<10&&(e="0"+e),i<10&&(i="0"+i);var n=t.querySelector("button.previous"),o=t.querySelector("button.next"),r=t.querySelector(".flickity-page-dots"),a=t.controls.getAttribute("data-aria-label-previous"),s=t.controls.getAttribute("data-aria-label-next");n.setAttribute("aria-label",a),o.setAttribute("aria-label",s),t.classList.contains("CarouselInline")||t.classList.contains("CarouselModule")||t.classList.contains("CarouselInlineModule")?(t.controls.appendChild(n),t.controls.appendChild(t.counter),t.controls.appendChild(o),t.progress.appendChild(r)):t.carousel.appendChild(t.counter),t.counter.innerHTML="".concat(e," / ").concat(i),t.resetCounterAndArrows(),t.flickity.on("change",function(){var e=t.flickity.selectedIndex+1,i=t.flickity.slides.length;e<10&&(e="0"+e),i<10&&(i="0"+i),t.counter.innerHTML="".concat(e," / ").concat(i),t.resetCounterAndArrows()}),t.alreadyLoaded=!0}};this.slides.length>1&&(window.addEventListener("load",i,!1),window.addEventListener("ajaxdone",i,!1)),window.addEventListener("resize",W(250,function(){e.resetCounterAndArrows()}))}},{key:"resetCounterAndArrows",value:function(){var e=this.querySelector("button.previous"),t=this.querySelector("button.next");this.counter.setAttribute("data-showing",!0),e.setAttribute("data-showing",!0),t.setAttribute("data-showing",!0)}}]),t}(R()(HTMLElement)),_e=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.addEvents()}},{key:"addEvents",value:function(){var e=this;this.addEventListener("click",function(){e.copyLink()})}},{key:"copyLink",value:function(){var e=this,t=this.getAttribute("data-link");navigator.clipboard.writeText(t).then(function(){e.setAttribute("data-success",!0),setTimeout(function(){e.removeAttribute("data-success")},2e3)},function(){console.error("Unable to write to clipboard")})}}]),t}(window.HTMLElement),Oe=function e(t){o()(this,e),this.el=t;var i=new Date,n=be(i.getDay()),r=i.toLocaleDateString([],{month:"long",day:"numeric",year:"numeric"}),a=i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});this.el.querySelectorAll("[data-i18n-date]").forEach(function(e){e.innerHTML="".concat(r)}),this.el.querySelectorAll("[data-i18n-day]").forEach(function(e){e.innerHTML="".concat(n)}),this.el.querySelectorAll("[data-i18n-time]").forEach(function(e){e.innerHTML="".concat(a)})},qe=i(25),De=i.n(qe),Re=function(){function e(t){o()(this,e),this.mapEl=t.querySelector("[data-mapbox]")}return a()(e,[{key:"initialize",value:function(e,t){return this.accessToken=this.mapEl.dataset.mbAccessToken,this.userName=this.mapEl.dataset.mbUsername,this.styleId=this.mapEl.dataset.mbStyleId,this.mapConfig=C()({container:this.mapEl.id,style:"mapbox://styles/".concat(this.userName,"/").concat(this.styleId).concat(t?"?optimize=true":"")},e),this.initializeDataSets(),this.loadMapbox()}},{key:"initializeDataSets",value:function(){var e=this;this.dataSets={};var t=this.mapEl.querySelectorAll(".MapboxDataSet");Array.from(t).forEach(function(t){var i=t.dataset.mbDatasetName,n=t.dataset.mbDatasetId,o=t.dataset.mbTilesetId;n?e.dataSets[i]={dataSetId:n,url:"https://api.mapbox.com/datasets/v1/".concat(e.userName,"/").concat(n,"/features?access_token=").concat(e.accessToken)}:o&&(e.dataSets[i]={tileSetId:o,url:"mapbox://".concat(o)})}),this.mapEl.innerHTML=""}},{key:"initializePopup",value:function(e){this.popup=new mapboxgl.Popup(e)}},{key:"loadMapbox",value:function(){var e=this;return new Promise(function(t){mapboxgl.accessToken=e.accessToken,e.map=new mapboxgl.Map(e.mapConfig),e.map.addControl(new mapboxgl.NavigationControl),e.mapEl.style.visibility="hidden",e.map.on("load",function(){e.map.resize(),e.mapEl.style.removeProperty("visibility"),t()})})}},{key:"featuresToFeatureCollection",value:function(e){return{type:"FeatureCollection",features:e}}},{key:"getFirstSymbolLayerId",value:function(){for(var e=this.map.getStyle().layers,t=0;t<e.length;t++)if("symbol"===e[t].type)return e[t].id}},{key:"getFeatureBounds",value:function(e){return Array.isArray(e)?De()(this.featuresToFeatureCollection(e)):De()(e)}}]),e}(),Ne=function(){function e(t){o()(this,e),this.mapEl=t,this.paneEl=t.querySelector("[data-map-pane]"),this.initializeRegions(),this.initializeEvents()}return a()(e,[{key:"initializeRegions",value:function(){this.regionsWrapperEl=this.paneEl.querySelector("[data-map-pane-regions]"),this.regionDetailsTemplate=this.regionsWrapperEl.querySelector("[data-map-region-details-template]").innerHTML,this.buildRegionFragments()}},{key:"initializeEvents",value:function(){var e=this,t=this.paneEl.querySelector("[data-map-pane-definitions-button]"),i=this.paneEl.querySelector("[data-map-pane-back-button]");t.addEventListener("click",function(t){e.paneEl.setAttribute("data-definitions-active","true")}),i.addEventListener("click",function(t){e.paneEl.removeAttribute("data-definitions-active")})}},{key:"buildRegionFragments",value:function(){var e=this,t=this.regionsWrapperEl.querySelectorAll("[data-region-id]"),i={};for(var n in Array.from(t).forEach(function(t){var n=t.dataset.regionId,o=e.parseParentRegionId(n);i[o]||(i[o]={subRegionEls:[]}),e.isSubRegion(n)?i[o].subRegionEls.push(t):i[o].el=t,t.remove()}),this._regionFragments={},i)i[n].subRegionEls.sort(function(e,t){return e.dataset.regionId>t.dataset.regionId?1:e.dataset.regionId<t.dataset.regionId?-1:0}),this._regionFragments[n]=this.constructRegionFragmentFromTemplate(i[n])}},{key:"constructRegionFragmentFromTemplate",value:function(e){var t=document.createElement("template");t.innerHTML=this.regionDetailsTemplate;var i=t.content;return i.querySelector("[data-map-region-details-region]").appendChild(e.el),i.querySelector("[data-map-region-details-name]").innerHTML=e.el.querySelector("[data-region-title]").innerHTML,i.querySelector("[data-map-region-details-count]").innerHTML=e.subRegionEls.length,Array.from(e.subRegionEls).forEach(function(e){i.querySelector("[data-map-region-details-sub-regions]").appendChild(e)}),i}},{key:"getRegionFragment",value:function(e){if(this._regionFragments[e])return this._regionFragments[e].cloneNode(!0)}},{key:"openRegionDetails",value:function(e){this.regionsWrapperEl.innerHTML="";var t=this.getRegionFragment(e);t?this.regionsWrapperEl.appendChild(t):console.warn("No details found for region "+e)}},{key:"openSubRegionDetails",value:function(e){this.scrollPaneToRegion(e)}},{key:"isSubRegion",value:function(e){return e.length>3}},{key:"parseParentRegionId",value:function(e){return e.substring(0,3)}},{key:"scrollPaneToRegion",value:function(e){var t=this.regionsWrapperEl.querySelector('[data-region-id="'.concat(e,'"]'));t&&this.paneEl.scrollTo({top:t.offsetTop,left:0,behavior:"smooth"})}}]),e}(),Fe="NUTS1_3M_2021_4326",He="NUTS2_3M_2021_4326",Be=function(e){function t(e){var i;return o()(this,t),(i=T()(this,_()(t).call(this,e))).el=e,i.initializeMap(),i}return q()(t,e),a()(t,[{key:"initializeMap",value:function(){var e=this;this.initialize({center:[-4.5,54.5],maxBounds:[[-26,40],[15,64]],maxZoom:10,minZoom:4.25,zoom:4.25}).then(function(){return e.initializeLayers()}).then(function(){e.buildRegionCache(),e.initializePane(),e.initializePolygonEvents(),e.initializePopup()})}},{key:"initializeLayers",value:function(){var e=this;return this.map.addSource(Fe,{type:"geojson",data:this.dataSets.NUTS1.url,generateId:!0}),this.map.addSource(He,{type:"geojson",data:this.dataSets.NUTS2.url,generateId:!0}),this.map.addSource("NUTS_labels",{type:"geojson",data:this.dataSets.NUTS_labels.url}),this.map.addSource("facilities",{type:"geojson",data:this.dataSets.facilities.url}),this.map.addLayer({id:"nuts2-outlines",type:"line",source:He,paint:{"line-color":"#2ec0ff","line-opacity":["interpolate",["linear"],["zoom"],0,0,8,.5,11,.75,16,1],"line-width":["interpolate",["linear"],["zoom"],0,0,5,3]},filter:["==","NUTS_ID",""]},this.getFirstSymbolLayerId()),this.map.addLayer({id:"nuts1-outlines",type:"line",source:Fe,paint:{"line-color":"#2ec0ff","line-opacity":1,"line-width":["interpolate",["linear"],["zoom"],2,0,22,3]},filter:["==","CNTR_CODE","UK"]},"nuts2-outlines"),this.map.addLayer({id:"nuts2",type:"fill",source:He,paint:{"fill-color":"#2ec0ff","fill-opacity":["case",["boolean",["feature-state","hover"],!1],1,.35]},filter:["==","NUTS_ID",""]},"waterway-shadow"),this.map.addLayer({id:"nuts1",type:"fill",source:Fe,paint:{"fill-color":["case",["boolean",["feature-state","hover"],!1],"#2ec0ff","#232f3e"],"fill-opacity":["case",["boolean",["feature-state","hover"],!1],.5,1]}},"nuts2"),this.map.addLayer({id:"nuts-labels",type:"symbol",source:"NUTS_labels",layout:{"text-field":["get","NUTS_NAME"],"text-size":["interpolate",["cubic-bezier",.85,.7,.65,1],["zoom"],4,8,9,12],"text-transform":"uppercase","text-font":["Amazon Ember Bold","Arial Unicode MS Bold"],"text-letter-spacing":.15,"text-max-width":9},paint:{"text-color":"#e8e8e8","text-halo-color":"#0d0f11","text-halo-width":1},filter:["==","LEVL_CODE",1]}),this.map.addLayer({id:"facilities",type:"circle",source:"facilities",paint:{"circle-color":["match",["get","category"],"OF","#e3661b","DC","#609400","CO","#c8a6ff","AS","#a90067","#ffffff"],"circle-radius":6,"circle-stroke-color":"#ffffff","circle-stroke-width":1},filter:["==","NUTS_ID",""]},"nuts-labels"),new Promise(function(t){e.map.on("idle",function i(){e.map.isSourceLoaded(Fe)&&e.map.isSourceLoaded(He)&&(e.map.off("idle",i),t())})})}},{key:"buildRegionCache",value:function(){var e={};this.map.querySourceFeatures(Fe).forEach(function(t){if("UK"===t.properties.CNTR_CODE){var i=t.properties.NUTS_ID;e[i]||(e[i]={features:[],subRegions:[]}),e[i].features.push(t)}});var t=this.map.querySourceFeatures(He);for(var i in t.forEach(function(t){if("UK"===t.properties.CNTR_CODE){var i=t.properties.NUTS_ID,n=i.substring(0,3);e[n]&&e[n].subRegions.push(i)}}),e)e[i].bounds=this.getFeatureBounds(e[i].features),delete e[i].features,e[i].subRegions=Array.from(new Set(e[i].subRegions));this.regionCache=e}},{key:"initializePane",value:function(){var e=this;this.pane=new Ne(this.el),this.pane.paneEl.querySelector("[data-map-pane-close-button]").addEventListener("click",function(){e.closePane()}),this.originalBounds=this.map.getBounds()}},{key:"openPane",value:function(e){this.pane.openRegionDetails(e),this.pane.paneEl.parentNode.setAttribute("data-open","true"),this.map.resize()}},{key:"closePane",value:function(){this.pane.paneEl.parentNode.removeAttribute("data-open"),this.map.resize(),this.resetRegions(),this.map.fitBounds(this.originalBounds,{animate:!0,duration:360,padding:60})}},{key:"initializePolygonEvents",value:function(){var e=this,t=function(t,n){i(t),e.map.setFeatureState({source:t,id:n},{hover:!0})},i=function(t){e.map.removeFeatureState({source:t})};this.map.on("click","nuts1",function(t){if(t.features&&t.features[0]){var n=t.features[0],o=n.properties.NUTS_ID;"IE"!==n.properties.CNTR_CODE&&"IM"!==n.properties.CNTR_CODE&&e.focusedRegionId!==o&&(e.focusedRegionId=o,e.focusOnRegion(o),i(Fe))}}),this.map.on("click","nuts2",function(t){if("facilities"!==e.map.queryRenderedFeatures(t.point)[0].layer.id&&t.features&&t.features[0]){var i=t.features[0],n=i.properties.NUTS_ID;"IE"!==i.properties.CNTR_CODE&&"IM"!==i.properties.CNTR_CODE&&e.pane.openSubRegionDetails(n)}}),this.map.on("mousemove","nuts1",function(n){if(n.features&&n.features[0]){var o=n.features[0],r=o.properties.NUTS_ID;"IE"!==o.properties.CNTR_CODE&&"IM"!==o.properties.CNTR_CODE&&(e.map.getCanvas().style.cursor="pointer",e.focusedRegionId===r?i(Fe):t(Fe,o.id))}}),this.map.on("mouseleave","nuts1",function(){e.map.getCanvas().style.cursor="",i(Fe)}),this.map.on("mousemove","nuts2",function(e){if(e.features&&e.features[0]){var i=e.features[0];"IE"!==i.properties.CNTR_CODE&&"IM"!==i.properties.CNTR_CODE&&t(He,i.id)}}),this.map.on("mouseleave","nuts2",function(){i(He)})}},{key:"initializePopup",value:function(){var e=this;Ce()(_()(t.prototype),"initializePopup",this).call(this,{closeOnClick:!1,closeOnMove:!0});var i=this.el.querySelector("[data-popup-template]"),n=(i=i.parentElement.removeChild(i)).content;this.map.on("click","facilities",function(t){t.features&&t.features[0]&&function(t){var o=t.properties;n.querySelector(".popup-title").innerHTML=o.title||"",n.querySelector(".popup-location").innerHTML=o.location||"",n.querySelector(".popup-description").innerHTML=o.description||"",e.popup.remove(),e.popup.setLngLat(t.geometry.coordinates),e.popup.setHTML(i.innerHTML).addTo(e.map)}(t.features[0])})}},{key:"focusOnRegion",value:function(e){this.openPane(e),window.innerWidth>480&&(this.showRegion("nuts2",this.regionCache[e].subRegions),this.showRegion("nuts2-outlines",this.regionCache[e].subRegions),this.showPoints(e),this.showLabels(e),this.map.fitBounds(this.regionCache[e].bounds,{animate:!0,duration:360,padding:60}))}},{key:"showRegion",value:function(e,t){this.map.setFilter(e,["match",["get","NUTS_ID"],t,!0,!1])}},{key:"hideRegion",value:function(e){this.map.setFilter(e,["==","NUTS_ID",""])}},{key:"showPoints",value:function(e){this.map.setFilter("facilities",["==","NUTS_ID",e])}},{key:"hidePoints",value:function(){this.map.setFilter("facilities",["==","NUTS_ID",""])}},{key:"showLabels",value:function(e){var t=[].concat(P()(this.regionCache[e].subRegions),P()(Object.keys(this.regionCache)));t.splice(t.indexOf(e),1),this.map.setFilter("nuts-labels",["match",["get","NUTS_ID"],t,!0,!1])}},{key:"resetLabels",value:function(){this.map.setFilter("nuts-labels",["==","LEVL_CODE",1])}},{key:"resetRegions",value:function(){this.focusedRegionId=null,this.hideRegion("nuts2"),this.hideRegion("nuts2-outlines"),this.hidePoints(),this.resetLabels()}}]),t}(Re),ze=function(){function e(t){if(o()(this,e),Me.shouldSuppressOfdModule())console.log("Suppressing interrupter");else{this.el=t;var i=document.querySelector("[data-interrupter-module]"),n=document.querySelector(".ListiclePage");if(i)if(n)i.style.display="block";else{for(var r=this.el.querySelectorAll("p"),a=[],s=0;s<r.length;s++){var l=r[s];""!==l.innerHTML&&a.push(l)}var c=a.length,u=null==this.el.dataset.interrupterPlacementOffset?0:+this.el.dataset.interrupterPlacementOffset;if(c>3){var h=a[c-2+u],d=this.findNodeToPlaceBefore(h);if(!d)return;i.style.display="block",d.parentNode.insertBefore(i,d)}}}}return a()(e,[{key:"findNodeToPlaceBefore",value:function(e){if(!e)return null;var t=e.previousSibling;return t?"H2"===t.nodeName||"H3"===t.nodeName?this.findNodeToPlaceBefore(t):e:null}}]),e}(),Ue=i(20),We=i.n(Ue),je=function(){function e(t){if(o()(this,e),!Me.shouldSuppressOfdModule()){this.el=t,this.settings={pageviews:0,timeouthours:24},Object.assign(this.settings,t.dataset);var i=this,n=t.querySelector("[data-modal-data]"),r=this.readCookie("interstitial-closed")||!1,a=this.el.parentNode.getAttribute("data-interstitial-force")||!1;if(this.recordPageview(),(!r||this.el.hasAttribute("data-is-preview"))&&(a||this.passedNumberOfPageviews())){this.vexInstance=We.a.open({unsafeContent:n.innerHTML,showCloseButton:!1,className:"interstitial",afterOpen:function(){i.handleCloseButtons()},afterClose:function(){i.setCookie()}});var s=document.querySelector(".vex .ofd-form");s&&(s.addEventListener("submit",this.convertFormSubmissionToOfdButtonClick),this.observeOfdEvents(s),this.attachCloseButtonListener())}}}return a()(e,[{key:"attachCloseButtonListener",value:function(){var e=document.querySelector(".vex .Interstitial-secondary-button");e&&e.addEventListener("click",function(){We.a.closeAll()})}},{key:"observeOfdEvents",value:function(e){new window.MutationObserver(function(e){e.forEach(function(e){"class"===e.attributeName&&(e.target.classList.contains("ofd-submission-submitted")?(e.target.classList.remove("ofd-submission-submitted"),this.fadeOut(".vex .ofd-form")):e.target.classList.contains("ofd-submission-success")?this.showSuccessMessagesAndCloseAfterTimeout():e.target.classList.contains("ofd-submission-failure")&&(e.target.classList.remove("ofd-submission-failure"),this.showErrorMessages()))}.bind(this))}.bind(this)).observe(e,{attributes:!0})}},{key:"convertFormSubmissionToOfdButtonClick",value:function(e){e.preventDefault();var t=document.querySelector(".vex .ofd-button");t&&t.click()}},{key:"showSuccessMessagesAndCloseAfterTimeout",value:function(){this.fadeOut(".vex .Interstitial-text"),this.hideDomElements(".vex .Interstitial-text"),this.hideDomElements(".vex .Interstitial-emailInput"),this.hideDomElements(".vex .Interstitial-captchaTerms"),this.showDomElements(".vex .Interstitial-success-title"),this.showDomElements(".vex .Interstitial-success-description"),this.showDomElements(".vex .Interstitial-success-message"),this.fadeIn(".vex .Interstitial-success-title"),this.fadeIn(".vex .Interstitial-success-description"),this.fadeIn(".vex .Interstitial-success-message"),setTimeout(function(){We.a.closeAll()},5e3)}},{key:"showErrorMessages",value:function(){this.fadeIn(".vex .ofd-form"),this.fadeOut(".vex .Interstitial-title"),this.fadeOut(".vex .Interstitial-main-description"),this.hideDomElements(".vex .Interstitial-title"),this.hideDomElements(".vex .Interstitial-main-description"),this.showDomElements(".vex .Interstitial-error-title"),this.showDomElements(".vex .Interstitial-error-description"),this.fadeIn(".vex .Interstitial-error-title"),this.fadeIn(".vex .Interstitial-error-description")}},{key:"fadeIn",value:function(e){var t=document.querySelector(e);t&&(t.classList.remove("fade-out"),t.classList.add("fade-in"))}},{key:"fadeOut",value:function(e){var t=document.querySelector(e);t&&(t.classList.remove("fade-in"),t.classList.add("fade-out"))}},{key:"showDomElements",value:function(e){var t=document.querySelectorAll(e);t&&t.forEach(function(e){e.style.position="",e.style.visibility=""})}},{key:"hideDomElements",value:function(e){var t=document.querySelectorAll(e);t&&t.forEach(function(e){e.style.position="absolute",e.style.visibility="hidden"})}},{key:"recordPageview",value:function(){this.pageviewCount=parseInt(this.readCookie("interstitial-pageviews"))||0,this.pageviewCount++,this.createCookie("interstitial-pageviews",this.pageviewCount)}},{key:"passedNumberOfPageviews",value:function(){return this.pageviewCount>parseInt(this.settings.pageviews)}},{key:"handleCloseButtons",value:function(){var e=this,t=document.querySelector(".vex-content");t.querySelectorAll("a.Link").forEach(function(t){t.addEventListener("click",function(t){e.setCookie()},!0)}),t.querySelector('[class*="-close-link"]').addEventListener("click",function(t){e.vexInstance.close()},!0)}},{key:"setCookie",value:function(){this.createCookie("interstitial-closed","true",1)}},{key:"createCookie",value:function(e,t,i){var n="";if(i){var o=new Date;o.setTime(o.getTime()+i*this.settings.timeouthours*60*60*1e3),n="; expires="+o.toUTCString()}else n="";document.cookie=e+"="+t+n+"; path=/"}},{key:"readCookie",value:function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return!1}}]),e}(),Ye=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;this.allToggles=this.querySelectorAll(".FaqItem-question"),this.allToggles.forEach(function(t){t.addEventListener("click",function(i){e.handleToggle(i,t)},!0)})}},{key:"handleToggle",value:function(e,t){e.preventDefault(),"true"===t.parentNode.getAttribute("data-opened")?t.parentNode.removeAttribute("data-opened"):(this.allToggles.forEach(function(e){return e.parentNode.removeAttribute("data-opened")}),t.parentNode.setAttribute("data-opened",!0))}}]),t}(window.HTMLElement),Ve=i(8),Ge=i.n(Ve);var Xe=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;Object(Ve.polyfill)(),this.locale=window.document.querySelector("html").getAttribute("lang")||"en",this.endpoint=this.getAttribute("data-posts-endpoint"),this.liveEvent=this.getAttribute("data-live-event");var t=function(){try{for(var e=window.location.search.split(/\?/)[1].split("&"),t={},i=0;i<e.length;i++){var n=e[i].split("=");t[n[0]]=n[1]}return t}catch(e){return null}}()||[];this.deepLink=window.location.hash.split("#")[1]||t.p||!1,this.cacheElements(),this.renderPinnedTimestamps(),this.handleInitialPosts(),this.liveEvent&&this.endpoint&&this.setupLiveEvent(),this.readMoreClickListener(),this.keyUpdate(),this.deepLink&&document.querySelectorAll(".TweetUrl")&&window.addEventListener("load",function(){e.doScroll()})}},{key:"readMoreClickListener",value:function(){this.querySelector(".LiveBlogPage-pinned-posts-expand")&&this.querySelector(".LiveBlogPage-pinned-posts-expand").addEventListener("click",function(){this.parentElement.classList.add("expanded")},!0)}},{key:"cacheElements",value:function(){this.postsContainer=this.querySelector(".LiveBlogPage-posts"),this.pinnedPosts=this.querySelector(".LiveBlogPage-pinned-posts")}},{key:"renderPinnedTimestamps",value:function(){var e=this;this.pinnedPosts&&this.pinnedPosts.querySelectorAll(".live-blog-post").forEach(function(t){e.renderDateTimestamp(t)})}},{key:"doScroll",value:function(){this.scrollToElement(this.deepLink)}},{key:"checkForDeeplink",value:function(){this.deepLink&&window.setTimeout(this.doScroll.bind(this),1e3)}},{key:"scrollToElement",value:function(e){var t=document.getElementById(e);if(t){var i=-document.querySelector("header").offsetHeight,n=t.getBoundingClientRect().top+window.pageYOffset+i;window.scrollTo({top:n,behavior:"smooth"})}}},{key:"setupLiveEvent",value:function(){var e=this;this.liveEventInterval=setInterval(function(){e.getNewPosts()},15e3)}},{key:"getNewPosts",value:function(){var e,t=this,i=this.endpoint.indexOf("?")>-1?"&":"?",n=(e=(new window.Date).getTime())-e%15e3,o=function(){var e=document.querySelector(".LiveBlogPage-posts"),t=e?e.querySelector(".live-blog-post"):null;if(t){var i=t.querySelector(".post-date"),n=i?i.getAttribute("data-timestamp"):null;return n?parseFloat(n):null}return null}()||n-15e3;this.getPosts(this.endpoint+i+"since="+o+"&_="+n).then(function(e){e.querySelectorAll(".live-blog-post").length>0&&t.renderPosts(e)})}},{key:"handleInitialPosts",value:function(){var e=this.postsContainer.cloneNode(!0),t=this.postsContainer.querySelectorAll(".live-blog-post");t.length>0&&(t.forEach(function(e){return e.remove()}),this.renderPosts(e),this.checkForDeeplink())}},{key:"renderPosts",value:function(e){var t=this;e.querySelectorAll(".live-blog-post").forEach(function(e){t.renderDateTimestamp(e);var i=document.createRange().createContextualFragment('<div class="LiveBlogPost live-blog-post">'+e.innerHTML+"</div>");t.postsContainer.prepend(i);var n=new window.Event("ajaxdone");window.dispatchEvent(n)})}},{key:"renderDateTimestamp",value:function(e){if(e.querySelector(".post-date")){var t=parseInt(e.querySelector(".post-date").getAttribute("data-timestamp")),i=new window.Date(t);e.querySelector(".post-date-time").innerHTML=i.toLocaleString(this.locale,{hour:"numeric",minute:"numeric",hour12:!0}),e.querySelector(".post-date-date").innerHTML=i.toLocaleString(this.locale,{month:"long",day:"numeric",year:"numeric"})}}},{key:"getPosts",value:function(e){return new Promise(function(t,i){window.fetch(e,{credentials:"include"}).then(function(e){return e.text()}).then(function(e){var i=document.createElement("div");i.innerHTML=e;var n=i.querySelector(".live-blog-posts");t(n)}).catch(function(){i()})})}},{key:"setLoadingState",value:function(){var e=document.createElement("div");e.classList.add("loading-icon"),this.postsContainer.appendChild(e),this.setAttribute("data-loading",!0)}},{key:"removeLoadingState",value:function(){var e=this.postsContainer.querySelector(".loading-icon");e.parentNode.removeChild(e),this.removeAttribute("data-loading")}},{key:"keyUpdate",value:function(){var e=this.querySelector(".LiveBlogPage-keyUpdate");if(e){var t=e.querySelector(".LiveBlogPost-anchor"),i=e.querySelector(".LiveBlogPage-keyUpdate-jumplink"),n=t.getAttribute("id");t.removeAttribute("id"),i.setAttribute("href","#"+n),this.renderDateTimestamp(e),this.elKeyUpdateBody=new te(e.querySelector(".LiveBlogPost-body p"),{clamp:8,ellipsis:"...",splitByWords:!0})}}}]),t}(window.HTMLElement),$e=function(){function e(t){var i=this;o()(this,e),this.container=t,this.panel=this.container.querySelector(".MapPage-locationPromosPanel"),this.intro=this.container.querySelector(".MapPage-introPanel"),this.map=this.container.querySelector(".MapPage-map"),this.locPanel=this.container.querySelector(".MapPage-locationsPanel"),this.actionMatchMedia=window.matchMedia("(min-width: 1199px)"),this.checkAction(this.actionMatchMedia),this.actionMatchMedia.addListener(this.checkAction.bind(this));var n=this.container.getAttribute("data-map-open-intro-panel")||!1,r=this.container.getAttribute("data-map-hide-legend")||!1,a=this.container.getAttribute("data-hide-tooltip")||!1;r||this.generateLegend(),document.body.addEventListener("onShowLocation",function(e){var n=t.querySelector(".panelControl-locationDetail"),o=t.querySelector(n.dataset.toggleSelector);i.showPanel(o),i.showLocation(e.detail)},!1),t.querySelector(".panelControl-locationDetail").onclick=function(e){e.preventDefault();var t=e.currentTarget,n=i.container.querySelector(t.dataset.toggleSelector);i.toggleOnOffButton(t);if(i.hidePanel(n),window.innerWidth<1200){i.map.scrollIntoView();var o=window.innerWidth<768?60:80;window.scrollBy(0,-o-30)}},t.querySelectorAll(".MapPage-mainContent > button").forEach(function(e){e.onclick=function(e){e.preventDefault();var t=e.currentTarget,n=i.container.querySelector(t.dataset.toggleSelector);"on"===i.toggleOnOffButton(t)?(i.showPanel(n),i.toggleOffAllExcept(t)):i.hidePanel(n)}}),t.querySelectorAll(".PromoLocation").forEach(function(e){e.onclick=function(e){e.preventDefault();var t=e.currentTarget,n=i.container.querySelector(t.dataset.toggleSelector);i.showPanel(n),i.showLocation(t.dataset.contentId),window.scrollTo(0,0)}}),a&&t.querySelectorAll(".MapPin").forEach(function(e){e.onclick=function(e){e.preventDefault();var t=e.currentTarget;if(t.getAttribute("data-open-location")){var n=i.container.querySelector(t.dataset.toggleSelector);i.showPanel(n),i.showLocation(t.dataset.contentId),window.scrollTo(0,0)}}}),(window.showMapIntroPanel||n)&&this.actionMatchMedia.matches&&(this.showPanel(this.intro),this.toggleOnOffButton(this.container.querySelector("button.panelControl-intro"))),r&&document.querySelectorAll(".PromoLocation-type").forEach(function(e){e.parentNode.removeChild(e)})}return a()(e,[{key:"getUniqueLocationTypes",value:function(){var e,t;return(e=P()(this.container.querySelectorAll(".MapPage-locationPromos .PromoLocation")),t="type",e.filter(function(i,n){return e.findIndex(function(e){return e.dataset[t]===i.dataset[t]})===n})).map(function(e){return{type:e.dataset.type,color:e.dataset.typeColor}})}},{key:"generateLegend",value:function(){var e=this;this.container.querySelectorAll(".MapPage-map-legend").forEach(function(t){e.getUniqueLocationTypes().forEach(function(e){var i=document.createRange().createContextualFragment('<li><div class="dot" style="background-color:'.concat(e.color,';"></div><div class="label">').concat(e.type,"</div></li>"));t.appendChild(i)})});var t=this.container.querySelector(".MapPage-map-legend-wrapper");this.container.querySelector(".MapPage-map-legend-wrapper").onclick=function(e){e.preventDefault(),t.getAttribute("data-showing-legend")?t.removeAttribute("data-showing-legend"):t.setAttribute("data-showing-legend",!0)}}},{key:"toggleOffAllExcept",value:function(e){var t=this;this.container.querySelectorAll(".MapPage-mainContent > button:not(.".concat(e.className,")")).forEach(function(e){e.dataset.stateToggle="off",t.hidePanel(t.container.querySelector(e.dataset.toggleSelector))})}},{key:"toggleOnOffButton",value:function(e){return"on"===e.dataset.stateToggle?e.dataset.stateToggle="off":e.dataset.stateToggle="on",e.dataset.stateToggle}},{key:"hidePanel",value:function(e){e.dataset.stateVisible="false",this.map.style.display="block",this.panel.style.display="block",this.intro.style.display="block"}},{key:"showPanel",value:function(e){e.scrollTop=0,e.dataset.stateVisible="true",window.innerWidth<1200&&(this.map.style.display="none",this.panel.style.display="none",this.intro.style.display="none")}},{key:"checkAction",value:function(e){e.matches?(this.map.style.display="block",this.panel.style.display="block",this.intro.style.display="block"):"true"===this.locPanel.getAttribute("data-state-visible")&&(this.map.style.display="none",this.panel.style.display="none",this.intro.style.display="none")}},{key:"showLocation",value:function(e){this.container.querySelectorAll(".MapLocation[data-visible='true']").forEach(function(e){e.style.display="none",e.setAttribute("data-visible","false")});var t=this.container.querySelector(".MapLocation[data-content-id='".concat(e,"']"));t.style.display="block",t.setAttribute("data-visible","true")}}]),e}(),Qe=i(28),Ze=i.n(Qe),Je=function(){function e(t){var i=this;o()(this,e);var n=this.parseLocations(t),r=this.parseTitle(t);this.render(t,n,r),window.addEventListener("resize",W(250,function(){i.render(t,n)}));t.style.setProperty("--delay",Math.floor(800*Math.random()*2)+33),setTimeout(function(){t.style.setProperty("opacity","1"),t.style.setProperty("transform","scale(1)")},1)}return a()(e,[{key:"render",value:function(e,t,i){this.renderLocationCount(t,e),this.renderRings(t,e),document.querySelector(".MapPage-mainContent").getAttribute("data-hide-tooltip")||!1?!this.hasPopper&&t.length>1?this.generatePopper(t,e,i):e.setAttribute("data-open-location",!0):this.hasPopper||this.generatePopper(t,e,i),this.renderColor(this.getDefaultLocationColor(t),e)}},{key:"renderColor",value:function(e,t){this.isMobile?t.style.backgroundColor=e:(t.style.backgroundColor="transparent",t.querySelector("#center")&&(t.querySelector("#center").style.fill=e))}},{key:"renderRings",value:function(e,t){if(t.querySelector("#center"))if(e.length>=3)t.querySelectorAll("#ring-2, #ring-3").forEach(function(e){e.style.stroke="white"});else{if(2!==e.length)return;t.querySelector("#ring-2").style.stroke="white"}}},{key:"renderLocationCount",value:function(e,t){t.setAttribute("data-location-count",e.length)}},{key:"parseLocations",value:function(e){return e.dataset.locations.split(",")}},{key:"parseTitle",value:function(e){return e.dataset.title}},{key:"getDefaultLocationColor",value:function(e){var t=document.querySelector(".MapPage-locationPromosPanel [data-content-id='".concat(e[0],"']"));return t?t.dataset.typeColor:"black"}},{key:"generatePopper",value:function(e,t,i){this.hasPopper=!0;var n=document.createElement("div");if(n.className="PinPopperTemplate",i){var o=document.createElement("div");o.setAttribute("class","pin-title"),o.appendChild(document.createTextNode(i)),n.appendChild(o)}e.forEach(function(e){document.querySelectorAll(".MapPage-locationPromosPanel [data-content-id='".concat(e,"']")).forEach(function(i){var o=i.cloneNode(!0);o.setAttribute("data-id",e),o.setAttribute("id","");var a=n.appendChild(o),s=new CustomEvent("onShowLocation",{detail:e});a.onclick=function(e){e.preventDefault(),r.hide(r.getPopperElement(t)),document.body.dispatchEvent(s)}})});var r=Ze()(t,{html:n,interactive:!0,position:"right",trigger:"click"})}},{key:"isMobile",get:function(){return!window.matchMedia("(min-width: 1200px)").matches}}]),e}(),Ke=i(29),et=i.n(Ke),tt=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.cacheElements(),this.handleEventListeners(),this.dealWithMenuHover(),this.closeLanguageMenuOnClick(),"mq-hk"!==this.getMediaQuery()&&"mq-xl"!==this.getMediaQuery()||this.checkClickTarget(),this.closeLanguageVariationMenuOnClick(),this.closeLanguageMenuOnOutsideClick(),this.checkForHeaderSticky(),this.showAllInternationalSites(),this.showAllInternationalSitesHamburgerMenu()}},{key:"cacheElements",value:function(){this.nav=this.querySelector(".Page-header-main-navigation"),this.navContainer=this.querySelector(".Page-header-end"),this.languageMenu=this.querySelector(".LanguagesMenu"),this.multiLanguagesMenu=this.querySelector(".MultiLanguagesMenu"),this.languageMenuCloseButton=this.querySelector(".LanguagesMenu-dropdown-close"),this.languageVariationHamburgerMenu=this.querySelector(".MultiLanguageHamburgerMenu"),this.languageVariationHamburgerButton=this.querySelector(".MultiLanguageHamburgerMenu-text"),this.internationalSitesButton=this.querySelector(".MultiLanguagesMenu-InternationalSites-Label"),this.menuButton=this.querySelector(".Page-header-menu-trigger"),this.searchButton=this.querySelector(".Page-header-search-button"),this.searchInput=this.querySelector(".Page-header-search-input"),this.hamburgerMenu=this.querySelector(".Page-header-hamburger-menu"),this.navigationItems=this.hamburgerMenu.querySelectorAll(".NavigationItem"),this.subNavTitles=this.hamburgerMenu.querySelectorAll(".NavigationSubnav-icon"),this.headerBar=document.querySelector(".Page-header-bar"),this.navigationItemsItem=this.headerBar.querySelectorAll(".Navigation-items-item"),this.subnavigationItems=this.headerBar.querySelectorAll(".NavigationSubnavItem"),this.menuWrapper=this.querySelector(".Page-header-hamburger-menu-wrapper"),this.event=this.setClickTarget.bind(this),this.cancelClose=!1}},{key:"checkForHeaderSticky",value:function(){var e=0,t=this;function i(){var i=t.headerBar.offsetTop;0!==i&&(e=i),window.scrollY>e?document.body.setAttribute("data-header-sticky",""):""===document.body.getAttribute("data-header-sticky")&&document.body.removeAttribute("data-header-sticky")}window.addEventListener("scroll",W(50,function(){i()})),i()}},{key:"dealWithMenuHover",value:function(){var e=this;this.navigationItemsItem.forEach(function(t){t.querySelector(".NavigationItem-more")&&(e.hoverListener=et()(t,function(){e.openNavItem(t,"hover"),e.closeLanguageMenu()},function(){e.closeNavItem(t,"hover")}).options({timeout:400,interval:150}),t.querySelector(".NavigationItem-more").addEventListener("click",function(i){i.preventDefault(),"true"===t.querySelector(".NavigationItem-more").getAttribute("aria-expanded")?e.closeNavItem(t,"hover"):e.openNavItem(t,"hover")}))}),this.languageMenu&&this.languageMenu.querySelector(".LanguagesMenu-toggle")&&this.languageMenu.querySelector(".LanguagesMenu-more").addEventListener("click",function(t){t.preventDefault();var i=document.querySelector(".MultiLanguagesMenu");"true"===e.languageMenu.getAttribute("aria-expanded")?(i&&i.removeAttribute("data-international-sites"),e.languageMenu.removeAttribute("data-item-hover"),e.languageMenu.removeAttribute("aria-expanded"),document.querySelector("body").removeAttribute("data-menu-hover")):(e.languageMenu.setAttribute("data-item-hover",!0),e.languageMenu.setAttribute("aria-expanded","true"),document.querySelector("body").setAttribute("data-menu-hover",!0))})}},{key:"getMediaQuery",value:function(){var e=window.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content")||!1;return!!e&&e.replace(/["']/g,"")}},{key:"handleEventListeners",value:function(){var e=this;window.addEventListener("resize",W(250,function(t){"mq-hk"===e.getMediaQuery()||"mq-xl"===e.getMediaQuery()?(e.checkClickTarget(),e.navigationItems&&e.navigationItems.forEach(function(t){t.querySelector(".NavigationItem-more")&&(e.closeNavItem(t,"click"),e.closeNavItem(t,"hover"))}),e.navigationItemsItem&&e.navigationItemsItem.forEach(function(t){t.querySelector(".NavigationItem-more")&&e.closeNavItem(t,"hover")})):e.removeClickTarget(),e.closeLanguageMenu(),e.closeMenu()})),this.menuButton&&this.menuButton.addEventListener("click",function(t){t.preventDefault(),e.isMenuOpen()?e.closeMenu():e.openMenu()}),this.searchButton&&this.searchButton.addEventListener("click",function(t){t.preventDefault(),e.isSearchOpen()?e.closeSearch():e.openSearch()}),this.subNavTitles&&this.subNavTitles.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),e.navigationItems.forEach(function(e){e.removeAttribute("data-item-click"),e.removeAttribute("data-item-hover")}),e.languageVariationHamburgerMenu&&(document.querySelector(".MultiLanguageHamburgerMenu").removeAttribute("data-international-sites"),document.querySelector(".MultiLanguageHamburgerMenu").removeAttribute("data-language-variation-clicked"))})}),this.navigationItems&&this.navigationItems.forEach(function(t){t.querySelector(".NavigationItem-more")&&t.querySelector(".NavigationItem-more").addEventListener("click",function(i){i.preventDefault(),e.openNavItem(t,"click")})}),this.languageVariationHamburgerMenu&&this.languageVariationHamburgerButton.addEventListener("click",function(){document.querySelector(".MultiLanguageHamburgerMenu").setAttribute("data-language-variation-clicked","true")})}},{key:"openNavItem",value:function(e,t){var i=this;if(e){this.navigationItemsItem.forEach(function(e){"true"===e.getAttribute("data-item-"+t)&&(i.cancelClose=!0,document.querySelector("body").removeAttribute("data-menu-"+t)),e.removeAttribute("data-item-"+t)});var n=this.navContainer.getBoundingClientRect(),o=n.left+n.width,r=e.querySelector(".NavigationSubnav"),a=r.getBoundingClientRect(),s=a.left+a.width-o;s>0&&(r.style.left=r.offsetLeft-s+"px"),document.querySelector("body").setAttribute("data-menu-"+t,!0),e.setAttribute("data-item-"+t,!0),e.querySelector(".NavigationItem-more").setAttribute("aria-expanded","true")}}},{key:"closeNavItem",value:function(e,t){e.removeAttribute("data-item-"+t),e.querySelector(".NavigationItem-more").removeAttribute("aria-expanded"),this.cancelClose||document.querySelector("body").removeAttribute("data-menu-"+t),this.cancelClose=!1}},{key:"checkClickTarget",value:function(){document.addEventListener("click",this.event)}},{key:"showAllInternationalSites",value:function(){if(this.internationalSitesButton){var e=document.querySelector(".MultiLanguagesMenu");document.addEventListener("click",function(t){"MultiLanguagesMenu-InternationalSites-Label"===t.target.className&&e.setAttribute("data-international-sites","")})}}},{key:"showAllInternationalSitesHamburgerMenu",value:function(){this.languageVariationHamburgerMenu&&document.querySelector(".MultiLanguageHamburgerMenu").querySelector(".MultiLanguagesMenu-InternationalSites-Label").addEventListener("click",function(e){document.querySelector(".MultiLanguageHamburgerMenu").setAttribute("data-international-sites","")})}},{key:"closeLanguageMenuOnClick",value:function(){if(this.languageMenuCloseButton){var e=this.querySelector(".LanguagesMenu"),t=this.querySelector(".MultiLanguagesMenu");this.languageMenuCloseButton.addEventListener("click",function(){document.body.removeAttribute("data-menu-hover"),e.removeAttribute("data-item-hover"),e.removeAttribute("aria-expanded"),t&&t.removeAttribute("data-international-sites")})}}},{key:"closeLanguageMenuOnOutsideClick",value:function(){var e=this;document.addEventListener("click",function(t){var i=e.querySelector(".LanguagesMenu"),n=e.querySelector(".MultiLanguagesMenu");"Navigation"===t.target.className&&(document.body.removeAttribute("data-menu-hover"),i.removeAttribute("data-item-hover"),i.removeAttribute("aria-expanded"),n.removeAttribute("data-international-sites"))})}},{key:"closeLanguageMenu",value:function(){this.languageVariationHamburgerMenu&&this.languageVariationHamburgerMenu.removeAttribute("data-international-sites"),this.multiLanguagesMenu&&this.multiLanguagesMenu.removeAttribute("data-international-sites"),document.body.removeAttribute("data-menu-hover"),this.languageMenu.removeAttribute("data-item-hover"),this.languageMenu.removeAttribute("aria-expanded")}},{key:"closeLanguageVariationMenuOnClick",value:function(){var e=this,t=this.querySelector(".MultiLanguageHamburgerMenu");document.addEventListener("click",function(i){i.target===e.languageVariationHamburgerMenu&&(e.languageVariationHamburgerMenu.removeAttribute("data-language-variation-clicked"),t&&t.removeAttribute("data-international-sites"))})}},{key:"setClickTarget",value:function(e){if(this.menuWrapper){var t=this.menuWrapper.contains(e.target),i=this.headerBar.contains(e.target);t||i||this.closeMenu()}}},{key:"removeClickTarget",value:function(){this.event&&document.removeEventListener("click",this.event)&&document.removeEventListener("click",this.event)}},{key:"openMenu",value:function(){document.body.setAttribute("data-toggle-header","hamburger-menu"),this.setAttribute("data-toggle-header","hamburger-menu"),this.menuButton.setAttribute("aria-expanded","true"),this.hamburgerMenu.focus()}},{key:"closeMenu",value:function(){this.isMenuOpen()&&(this.isLanguageVariationMenuOpen()&&this.languageVariationHamburgerMenu.removeAttribute("data-language-variation-clicked"),document.body.removeAttribute("data-toggle-header"),this.removeAttribute("data-toggle-header"),this.menuButton.setAttribute("aria-expanded","false"))}},{key:"isMenuOpen",value:function(){return"hamburger-menu"===document.body.getAttribute("data-toggle-header")}},{key:"isLanguageVariationMenuOpen",value:function(){return!!this.languageVariationHamburgerMenu&&("true"===this.languageVariationHamburgerMenu.getAttribute("data-language-variation-clicked")||void 0)}},{key:"openSearch",value:function(){document.body.setAttribute("data-toggle-header","search-overlay"),this.setAttribute("data-toggle-header","search-overlay"),this.searchInput.focus()}},{key:"closeSearch",value:function(){this.isSearchOpen()&&(document.body.removeAttribute("data-toggle-header"),this.removeAttribute("data-toggle-header"))}},{key:"isSearchOpen",value:function(){return"search-overlay"===document.body.getAttribute("data-toggle-header")}},{key:"disconnectedCallback",value:function(){this.hoverListener.destroy()}}]),t}(window.HTMLElement),it=function(){function e(t){var i=this;o()(this,e),this.el=t,this.pageHeader=document.querySelector('header[class$="-header"]'),this.mainContent=document.querySelector('main[class$="-main"]'),this.statusBar=document.querySelector('[class$="-statusBar"]'),this.statusCircle=document.querySelectorAll('[class$="-progressCircle"]'),this.statusHeader=document.querySelector('[class$="-statusHeader"]'),this.upArrow=document.querySelector('[class$="statusHeader-backTop"]'),Object(Ve.polyfill)(),this.addInHeadline(),this.handleUpArrow(),this.mainContent&&this.statusBar&&(window.addEventListener("scroll",W(75,function(){i.updateStatusBar()})),window.addEventListener("resize",W(250,function(){i.updateStatusBar()})),window.setInterval(function(){i.updateStatusBar()},3e3)),this.mainContent&&this.statusCircle&&(window.addEventListener("scroll",W(75,function(){i.updateStatusCircle()})),window.addEventListener("resize",W(250,function(){i.updateStatusCircle()})),window.setInterval(function(){i.updateStatusCircle()},3e3))}return a()(e,[{key:"addInHeadline",value:function(){var e=this.mainContent.getAttribute("data-statusBar-headline"),t=this.mainContent.getAttribute("data-statusBar-headlineText");if(e&&t&&this.statusHeader){var i='<div><span class="mood-color">'.concat(t,"</span>").concat(e,"</div>"),n=document.createRange().createContextualFragment(i);this.statusHeader.querySelector('[class$="-headline"]').appendChild(n)}}},{key:"handleUpArrow",value:function(){this.upArrow&&this.upArrow.addEventListener("click",function(e){window.scroll({top:0,left:0,behavior:"smooth"})},!0)}},{key:"updateStatusBar",value:function(){var e=window.scrollY||window.pageYOffset,t=this.mainContent.offsetHeight,i=Math.ceil(e/t*100);i>=0&&i<=100&&(i<5?(this.statusBar.style.width="0",this.hideStatusHeader()):(this.statusBar.style.width=i>95?"100%":"".concat(i,"%"),this.showStatusHeader()))}},{key:"updateStatusCircle",value:function(){var e=window.scrollY||window.pageYOffset,t=this.mainContent.offsetHeight,i=Math.ceil(e/t*100);if(i>=0&&i<=100){var n=this.statusCircle;if(i<5){for(var o=0;o<n.length;o++)n[o].setAttribute("data-progress","0");this.hideStatusHeader()}else{if(i>95)for(var r=0;r<n.length;r++)n[r].setAttribute("data-progress","100");else for(var a=0;a<n.length;a++)n[a].setAttribute("data-progress","".concat(i));this.showStatusHeader()}}}},{key:"showStatusHeader",value:function(){this.statusHeader&&(this.statusHeader.setAttribute("data-visible",!0),this.pageHeader.setAttribute("data-showing-page-status",!0))}},{key:"hideStatusHeader",value:function(){this.statusHeader&&(this.statusHeader.removeAttribute("data-visible"),this.pageHeader.removeAttribute("data-showing-page-status"))}}]),e}(),nt=function e(){o()(this,e),this.bottomoutselector='[class$="-stickyEnd"]'},ot=function(){function e(t){var i=this;o()(this,e),this.settings=new nt,this.el=t,this.isStuck=!1,this.isBottom=!1,this.isScrolling=!1,this.scrollingHandler=null,this.originalStickyElementTop=!1,this.reStickTriggerPoint=0,Object.assign(this.settings,t.dataset),window.addEventListener("scroll",W(25,function(){i.isScrolling=!0,i.checkWindowSize(),window.clearTimeout(i.scrollingHandler),i.scrollingHandler=setTimeout(function(){i.isScrolling=!1},100)})),window.addEventListener("resize",W(250,function(){i.isScrolling||0!==(window.scrollY||window.pageYOffset)?i.checkWindowSize():i.unstickyTheAside()}))}return a()(e,[{key:"checkWindowSize",value:function(){window.innerWidth>=768&&this.checkScrolling()}},{key:"checkScrolling",value:function(){var e=parseInt(this.el.getBoundingClientRect().top)+(window.scrollY||window.pageYOffset),t=e+this.el.offsetHeight,i=document.body.querySelector("header").offsetHeight,n=(window.scrollY||window.pageYOffset)+i,o=document.body.querySelector(this.settings.bottomoutselector).offsetTop+i-50,r=document.body.querySelector(".ArticlePage-lead"),a=window.innerWidth;r&&this.el.classList.contains("ArticlePage-listicleNav-items")&&a>=1024&&(o+=r.offsetHeight),this.isBottom||this.isStuck||n>(this.originalStickyElementTop||e)&&(this.isStuck||(this.originalStickyElementTop=e),this.stickyTheAside()),!this.isBottom&&this.isStuck&&(n<(this.originalStickyElementTop||e)&&(this.unstickyTheAside(),this.originalStickyElementTop=!1),t>o&&(this.reStickTriggerPoint=e,this.bottomOutAside(),this.unstickyTheAside())),this.isBottom&&n+50<this.reStickTriggerPoint&&(this.unBottomOutAside(),this.stickyTheAside())}},{key:"stickyTheAside",value:function(){this.isStuck=!0,this.el.setAttribute("data-is-stuck",!0)}},{key:"unstickyTheAside",value:function(){this.isStuck=!1,this.el.removeAttribute("data-is-stuck")}},{key:"bottomOutAside",value:function(){this.isBottom=!0,this.el.setAttribute("data-is-bottom-out",!0)}},{key:"unBottomOutAside",value:function(){this.isBottom=!1,this.el.removeAttribute("data-is-bottom-out")}}]),e}(),rt=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.init(),this.setBinds()}},{key:"init",value:function(){this.elTabs=P()(this.querySelectorAll("[data-tab]")),this.elTabPanels=P()(this.querySelectorAll("[data-tab-panel]")),this.ids=this.elTabPanels.map(function(e){return e.id});var e=window.location.hash.substr(1),t=this.ids.some(function(t){return e===t});this.activePanel=window.location.hash.length&&t?window.location.hash.substr(1):this.elTabPanels[0].id}},{key:"setBinds",value:function(){var e=this;window.addEventListener("hashchange",function(){var t=window.location.hash.substr(1);e.ids.some(function(e){return t===e})&&(e.activePanel=t)}),this.elTabs.forEach(function(t){t.addEventListener("click",function(t){var i=t.currentTarget.href.split("#").pop();if(i){var n=e.ids.some(function(e){return i===e});n&&n&&(t.preventDefault(),e.activePanel=i)}})})}},{key:"transitionPanels",value:function(e){this.elTabPanels.forEach(function(t){var i=e===t.id;t.setAttribute("data-visible",i)})}},{key:"activePanel",set:function(e){this._activePanel!==e&&(this._activePanel=e,this.elTabs.forEach(function(t){var i=e===t.getAttribute("href").substr(1);t.setAttribute("data-active",i)}),this.dispatchEvent(new window.CustomEvent("Tab:onChange",{detail:{activePanel:e}}))),this.transitionPanels(e)},get:function(){return this._activePanel}}]),t}(window.HTMLElement),at=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;this.isStuck=!1,this.isBottom=!1,this.originalStickyElementTop=!1,this.listicleNavContent=this.querySelector(".ArticlePage-listicleNav-items"),this.listicleNavItems=this.querySelectorAll(".ArticlePage-listicleNav-item"),this.listicleItems=this.querySelectorAll(".ArticlePage-listicleItems .ArticlePage-items-item"),Object(Ve.polyfill)(),window.addEventListener("scroll",W(75,function(){e.checkNavHeight(),e.highlightNav()})),window.addEventListener("resize",W(250,function(){e.checkNavHeight(),e.highlightNav()})),this.listicleNavItems.forEach(function(t){return t.addEventListener("click",function(t){e.scrollToItem(t)},!0)})}},{key:"scrollToItem",value:function(e){var t=e.target,i=this.getNodeindex(t),n=this.querySelector("[data-label='start']"),o=this.querySelector("[data-label='end']"),r=0===i?n:null!==o&&i===t.parentNode.children.length-1?o:this.querySelector(".ArticlePage-listicleItems .ArticlePage-items-item:nth-child(".concat(i,")")),a=0;document.querySelector(".ArticlePage-topContainer")&&(a=document.querySelector(".ArticlePage-topContainer").offsetHeight),""===document.querySelector(".ArticlePage-contentWrapper").getAttribute("data-no-lead")&&(a+=80),window.scroll({top:r.offsetTop+a,left:0,behavior:"smooth"})}},{key:"getNodeindex",value:function(e){for(var t=e.parentNode.children,i=0;i<t.length;i++)if(t[i]===e)return i}},{key:"checkNavHeight",value:function(){var e=window.innerHeight-document.querySelector("header").offsetHeight;this.listicleNavContent.style.maxHeight="".concat(e,"px")}},{key:"highlightNav",value:function(){var e=this,t=this.querySelector(".ArticlePage-listicleItems"),i=0,n=0,o=1,r=250,a=this.querySelector("[data-label='end']");document.querySelector(".Banner")&&(i=document.querySelector(".Banner").offsetHeight),document.querySelector(".ArticlePage-lead")&&(n=document.querySelector(".ArticlePage-lead").offsetHeight),window.innerWidth<=568?r=1300:window.innerWidth<=1024&&(r=1e3),this.listicleItems.forEach(function(a){a.offsetTop+r<i-n+(window.scrollY||window.pageYOffset)&&(t=a,o=e.getNodeindex(t)+2)}),null!==a&&a.offsetTop+r<i-n+(window.scrollY||window.pageYOffset)&&(o+=1),this.desktopListicleNavItems=this.querySelectorAll(".ArticlePage-listicleNav-item .Desktop"),this.desktopListicleNavItems.forEach(function(e){e&&e.classList.remove("mood-color")}),1===o&&(o+=1),document.querySelector(".ArticlePage-listicleNav-items .ArticlePage-listicleNav-item:nth-child(".concat(o,") .Desktop")).classList.add("mood-color"),document.querySelector("[data-clicked]").textContent=document.querySelector(".ArticlePage-listicleNav-items .ArticlePage-listicleNav-item:nth-child(".concat(o,") .Desktop")).querySelector(".ArticlePage-listicleNav-item-title").textContent.trim()}}]),t}(R()(HTMLElement)),st=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;this.isStuck=!1,this.isBottom=!1,this.originalStickyElementTop=!1,this.header=document.querySelector(".MobileListicleHeader"),this.header.style.borderBottomStyle="none",this.listicleNavContent=this.querySelector(".MobileListicleNav-items"),this.listicleNavContent.style.display="none",this.listicleNavItems=this.querySelectorAll(".MobileListicleNav-item"),this.listicleItems=this.querySelectorAll(".ArticlePage-listicleItems .ArticlePage-items-item"),Object(Ve.polyfill)(),window.addEventListener("resize",W(250,function(){e.checkNavHeight()})),window.addEventListener("scroll",W(75,function(){var e=document.querySelector(".ArticlePage-topContainer").getBoundingClientRect().bottom;document.querySelector(".MobileListicleNav").style.position=e<60?"fixed":"sticky"})),this.listicleNavItems.forEach(function(t){return t.addEventListener("click",function(t){e.scrollToItem(t),e.collapseOverview(t,!1,!1)},!0)}),this.querySelector(".MobileListicleHeader-section").addEventListener("click",function(t){e.collapseOverview(t,!1,!1)}),this.querySelector(".MobileListicleHeader-arrow").addEventListener("click",function(t){e.collapseOverviewWithChevron()}),document.querySelector(".MobileListicleNav-header").addEventListener("click",function(t){e.collapseOverview(t,!0,!1)})}},{key:"scrollToItem",value:function(e){var t=e.target,i=this.getNodeindex(t),n=this.querySelector("[data-label='start']"),o=this.querySelector("[data-label='end']"),r=0===i?n:null!==o&&i===t.parentNode.children.length-1?o:document.querySelector(".ArticlePage-listicleItems .ArticlePage-items-item:nth-child(".concat(i,")")),a=0;document.querySelector(".ArticlePage-topContainer")&&(a=document.querySelector(".ArticlePage-topContainer").offsetHeight),""===document.querySelector(".ArticlePage-contentWrapper").getAttribute("data-no-lead")&&(a+=80),window.scroll({top:r.offsetTop+a,left:0,behavior:"smooth"})}},{key:"getNodeindex",value:function(e){for(var t=e.parentNode.children,i=0;i<t.length;i++)if(t[i]===e)return i}},{key:"checkNavHeight",value:function(){var e=window.innerHeight-document.querySelector(".MobileListicleHeader").offsetHeight;this.listicleNavContent.style.height="".concat(e,"px")}},{key:"collapseOverview",value:function(e,t,i){var n=document.querySelector(".MobileListicleNav-items"),o=document.querySelector(".MobileListicleHeader-arrow"),r=document.querySelector(".MobileListicleHeader"),a=document.querySelector(".ArticlePage-topContainer").getBoundingClientRect().bottom;if(!t){var s=document.querySelector("[data-clicked]"),l=document.querySelector(".MobileListicleHeader-section");s.textContent=e.target.textContent.trim(),l.textContent=e.target.textContent.trim()}document.querySelector(".MobileListicleNav").style.position=a<60?"fixed":"sticky",i||"none"!==n.style.display?(n.style.display="none",o.style.transform="rotate(90deg)",r.style.borderBottomStyle="none"):(n.style.display="block",o.style.transform="rotate(270deg)",r.style.borderBottomStyle="inset")}},{key:"collapseOverviewWithChevron",value:function(){var e=document.querySelector(".MobileListicleNav-items"),t=document.querySelector(".MobileListicleHeader-arrow"),i=document.querySelector(".MobileListicleHeader");"none"!==e.style.display?(e.style.display="none",t.style.transform="rotate(90deg)",i.style.borderBottomStyle="none"):(e.style.display="block",t.style.transform="rotate(270deg)",i.style.borderBottomStyle="inset")}}]),t}(R()(HTMLElement)),lt=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this,t=this;this.listicleNavContent=this.querySelector(".ListNavPage-aside-nav-items"),this.listicleSelect=document.querySelector(".ListNavPage-aside-select"),this.listicleNavItems=this.querySelectorAll(".ListNavPage-aside-nav-items-item"),this.listicleItems=this.querySelectorAll(".ListNavPage-items .ListNavPage-items-item"),Object(Ve.polyfill)(),window.addEventListener("scroll",W(75,function(){e.checkNavHeight(),e.highlightNav()})),window.addEventListener("resize",W(250,function(){e.checkNavHeight(),e.highlightNav()})),this.listicleSelect.addEventListener("change",function(e){var i=Math.floor(this.value);t.scrollToItem(e,i)}),this.listicleNavItems.forEach(function(t){return t.addEventListener("click",function(t){e.scrollToItem(t)},!0)})}},{key:"scrollToItem",value:function(e,t){var i=e.target,n=this.getNodeindex(i),o=null;void 0!==t?(n=t,o=this.querySelector(".ListNavPage-items .ListNavPage-items-item:nth-child(".concat(n,")"))):o=this.querySelector(".ListNavPage-items .ListNavPage-items-item:nth-child(".concat(n+1,")"));var r=o,a=0;document.querySelector(".ListNavPage-topContainer")&&(a=document.querySelector(".ListNavPage-topContainer").offsetHeight),""===document.querySelector(".ListNavPage-contentWrapper").getAttribute("data-no-lead")&&(a+=80),window.scroll({top:r.offsetTop+a,left:0,behavior:"smooth"})}},{key:"getNodeindex",value:function(e){for(var t=e.parentNode.children,i=0;i<t.length;i++)if(t[i]===e)return i}},{key:"checkNavHeight",value:function(){}},{key:"highlightNav",value:function(){var e=this,t=this.querySelector(".ListNavPage-items"),i=0,n=0,o=0,r=this.querySelector("[data-label='end']");document.querySelector(".Banner")&&(i=document.querySelector(".Banner").offsetHeight),document.querySelector(".ListNavPage-topContainer")&&(n=document.querySelector(".ListNavPage-topContainer").offsetHeight),this.listicleItems.forEach(function(r){r.offsetTop-250<i-n+(window.scrollY||window.pageYOffset)&&(t=r,o=e.getNodeindex(t)+1)}),null!==r&&r.offsetTop-250<i-n+(window.scrollY||window.pageYOffset)&&(o+=1),this.listicleNavItems.forEach(function(e){e&&e.classList.remove("mood-color")}),0===o&&(o+=1),document.querySelector(".ListNavPage-aside-nav-items .ListNavPage-aside-nav-items-item:nth-child(".concat(o,")")).classList.add("mood-color")}}]),t}(R()(HTMLElement)),ct=function(){function e(t){var i=this;o()(this,e),this.el=t;var n=t.querySelectorAll("[data-toggle-trigger]");n.forEach(function(e){return e.removeEventListener("click",i.handleToggle,!0)}),n.forEach(function(e){"true"!==e.getAttribute("data-toggle-disabled")&&e.addEventListener("click",i.handleToggle,!0)});var r=document.createElement("div");r.classList.add("languages-close"),r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.zIndex="1",document.querySelector("footer").appendChild(r),document.querySelector(".languages-close").addEventListener("click",this.closelanguages,!0)}return a()(e,[{key:"handleToggle",value:function(e){e.preventDefault();var t=e.currentTarget,i=t.getAttribute("data-toggle-trigger"),n=t.closest("[data-toggle-item]"),o=document.querySelector(".languages-close");document.body.getAttribute("data-toggle-in")===i?(document.body.removeAttribute("data-toggle-in"),n.removeAttribute("data-toggle-open"),o.style.height="0",o.style.width="0"):(document.body.setAttribute("data-toggle-in",i),n.setAttribute("data-toggle-open",i),o.style.height="100%",o.style.width="100%")}},{key:"closelanguages",value:function(e){e.preventDefault();var t=document.querySelector(".languages-close"),i=document.querySelectorAll(".LanguagesMenu[data-toggle-item]");document.body.removeAttribute("data-toggle-in"),i.forEach(function(e){return e.removeAttribute("data-toggle-open")}),t.style.height="0",t.style.width="0"}}]),e}(),ut=i(19),ht=i.n(ut),dt=i(15),ft=i.n(dt),pt=!1,mt=function(){return new Promise(function(e){!function t(){window.Vimeo&&"function"==typeof window.Vimeo.Player?e():window.requestAnimationFrame(t)}()})},vt=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=ht()(ft.a.mark(function e(){var i=this;return ft.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ce()(_()(t.prototype),"connectedCallback",this).call(this),e.prev=1,e.next=4,new Promise(function(e,t){if(pt||void 0!==window.Vimeo&&void 0!==window.Vimeo.Player)e("Vimeo API already loaded");else{var i=document.createElement("script");i.src="https://player.vimeo.com/api/player.js";var n=document.getElementsByTagName("script")[0];i.onload=function(){pt=!0,mt().then(function(){e("Vimeo API loaded")}).catch(function(e){t(e)})},n.parentNode.insertBefore(i,n),i.onerror=function(){t(new Error("Failed to load Vimeo API"))}}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0.message);case 9:this._player=new window.Vimeo.Player(this.querySelector("iframe")),this._player.ready().then(function(){i.onReady()}),this._player.on("playing",function(){i.onPlay()}),this._player.on("ended",function(){i.onEnded()}),this._player.on("pause",function(){i.onPause()});case 14:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"play",value:function(){try{this._player.play()}catch(e){console.log(e)}}}]),t}(H),gt=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;this.mapModule=this.closest(".Mapbox");var t=this.querySelectorAll(".MapFilterGroup-title"),i="data-filter-group-collapsed";Array.from(t).forEach(function(e){var t=e.closest(".MapFilterGroup");e.addEventListener("click",function(e){e.target.matches(".MapFilterGroup-title")&&(t.hasAttribute(i)?t.removeAttribute(i):t.setAttribute(i,""))})});var n=this.querySelector(".Mapbox-filters-button");n.addEventListener("click",function(t){e.hasAttribute("data-filters-open")?e.removeAttribute("data-filters-open"):e.setAttribute("data-filters-open","")}),this.initializeCheckboxStates(),this.addEventListener("change",this.onCheckboxChange,!1),this.triggerFilterChangeEvent()}},{key:"initializeCheckboxStates",value:function(){var e=this,t=new window.URLSearchParams(window.location.search);if(Array.from(t).length){var i=this.querySelectorAll('input[type="checkbox"]');Array.from(i).forEach(function(e){e.checked=!1});var n=t.getAll("filterBy");if(n.length){var o=this.querySelectorAll(".MapFilterGroup-title [data-all-or-none-checkbox]");return void Array.from(o).forEach(function(t,i){0===i?t.checked=n.includes("renewable"):1===i&&(t.checked=n.includes("supply")),e.updateChildCheckboxes(t)})}t.forEach(function(t,i){try{if("true"===t){var n=document.getElementById("MapFilter_"+i);n.checked=!0,e.updateChildCheckboxes(n)}else{t.split(",").forEach(function(t){e.querySelector('input[type="checkbox"][name="'+i+'"][value="'+t+'"]').checked=!0})}}catch(e){}}),this.updateAllOrNoneCheckboxes()}}},{key:"onCheckboxChange",value:function(e){var t=e.target;t.matches("[data-all-or-none-checkbox]")&&this.updateChildCheckboxes(t),this.updateAllOrNoneCheckboxes(),this.triggerFilterChangeEvent()}},{key:"updateChildCheckboxes",value:function(e){var t=e.closest(".MapFilter, .MapFilterGroup").querySelectorAll("input");Array.from(t).forEach(function(t){t!==e&&(t.checked=e.checked)})}},{key:"updateAllOrNoneCheckboxes",value:function(){var e=this.querySelectorAll("[data-all-or-none-checkbox]");Array.from(e).forEach(function(e){var t=e.closest(".MapFilter, .MapFilterGroup"),i=t.querySelectorAll("input:not([data-all-or-none-checkbox])"),n=t.querySelectorAll("input:not([data-all-or-none-checkbox]):checked");n.length?n.length<i.length?(e.checked=!0,e.indeterminate=!0):(e.checked=!0,e.indeterminate=!1):(e.checked=!1,e.indeterminate=!1)})}},{key:"triggerFilterChangeEvent",value:function(){var e=new CustomEvent("mapFilterChange");this.mapModule.dispatchEvent(e)}}]),t}(R()(HTMLElement)),yt=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this,t=this.getAttribute("data-toggle"),i=this.querySelectorAll('[data-toggle-trigger="'+t+'"]'),n=this;this.handleToggle=function(e){e.preventDefault();var t=this.getAttribute("data-toggle-trigger");t&&(n.getAttribute("data-toggle-in")===t?(document.body.removeAttribute("data-toggle-in"),n.removeAttribute("data-toggle-in",t)):(document.body.setAttribute("data-toggle-in",t),n.setAttribute("data-toggle-in",t)))},i.forEach(function(t){return t.addEventListener("click",e.handleToggle,!0)})}},{key:"disconnectedCallback",value:function(){var e=this;this.querySelectorAll("[data-toggle-trigger]").forEach(function(t){return t.removeEventListener("click",e.handleToggle,!0)})}}]),t}(window.HTMLElement),bt={selItems:"[data-list-loadmore-items]",selPagination:"[data-list-loadmore-pagination]",pageCacheRegex:/(page|p)=([0-9]*)$/},wt=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(e){this.el=this,this.settings=Object.assign({},bt,e),this.el.setAttribute("data-list-loadmore",""),this.pageHrefCache=[1],this.init()}},{key:"init",value:function(){this.elItems=this.el.querySelector(this.settings.selItems),this.setBinds()}},{key:"loadMore",value:function(e,i){var n=this,o=this,r=this.el.className;console.log("ClassName: ",r);var a=t.findClassNameMatches(document,r),s=Array.from(a).indexOf(this.el);this.pageHrefCache.push(this.getPageNum(e)),this.el.setAttribute("data-list-loadmore","loading"),window.fetch(e,{credentials:"include"}).then(function(e){return n.el.setAttribute("data-list-loadmore",""),e.text()}).then(function(e){var a=document.createElement("div");a.innerHTML=e;var l=t.findClassNameMatches(a,r),c=l[s].querySelector(o.settings.selItems),u=l[s].querySelector(o.settings.selPagination);"function"==typeof i?i(c,u,l[s]):n.render(c,u,o.elItems,o.elPagination)}).catch(function(e){console.log(e)})}},{key:"next",value:function(e){if(this.elPagination){var t=this.elPagination.querySelector("a");t&&this.loadMore(t.href,e)}}},{key:"setBinds",value:function(){var e=this;this.elPagination&&this.elPagination.addEventListener("click",function(t){var i=t.target;"A"===i.nodeName.toUpperCase()&&(t.preventDefault(),e.loadMore(i.href))})}},{key:"getPageNum",value:function(e){try{var t=this.settings.pageCacheRegex.exec(e);return parseInt(t[2])}catch(t){return console.info("ListLoadMore","".concat(e," not a new page number")),0}}},{key:"updatePaginationDOM",value:function(e){var t=this;P()(e.querySelectorAll(":scope > a")).forEach(function(e){t.pageHrefCache.indexOf(t.getPageNum(e.href))>=0&&e.parentNode.removeChild(e)}),this.elPagination.innerHTML=e.innerHTML}},{key:"render",value:function(e,t){e&&this.elItems.insertAdjacentHTML("beforeend",e.innerHTML),t?this.updatePaginationDOM(t):this.elPagination.parentNode.removeChild(this.elPagination),this.dispatchRendered()}},{key:"dispatchRendered",value:function(){var e=new window.CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(e)}},{key:"elPagination",get:function(){return this.el.querySelector(this.settings.selPagination)}}],[{key:"findClassNameMatches",value:function(e,t){return e.querySelectorAll("[class=".concat(t,"]"))}}]),t}(window.HTMLElement),Et=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.handleEvents()}},{key:"handleEvents",value:function(){var e=this,t=this.querySelectorAll("[data-nl-button]"),i=this.querySelector(".EmailInput-input");t.forEach(function(t){t&&t.addEventListener("click",function(t){var i=t.target.parentNode.querySelector('input[name="emailinput"]'),n=t.target.parentNode.querySelector("[data-nl-input-group] [data-nl-bad-email]");/\S+@\S+\.\S+/.test(i.value)?e.submitForm():(n.style.visibility="visible",document.body.dispatchEvent(new window.CustomEvent("Form:onError",{detail:{name:"Newsletter Module",location:e.moduleLocation(),errMessage:n.textContent?n.textContent.trim():"Invalid email"}})))})}),this.querySelectorAll("[data-nl-form]").forEach(function(t){t&&t.addEventListener("submit",e.convertFormSubmissionToNewsletterButtonClick)}),i.addEventListener("keydown",function(t){""===t.currentTarget.value&&document.body.dispatchEvent(new window.CustomEvent("Form:onStart",{detail:{name:"Newsletter Module",location:e.moduleLocation()}}))})}},{key:"convertFormSubmissionToNewsletterButtonClick",value:function(e){e.preventDefault();var t=e.target.querySelector("[data-nl-button]");t&&t.click()}},{key:"moduleLocation",value:function(){return this.closest(".ArticlePage-wrapper")?"Article Interrupter":this.closest(".Homepage-contentWrapper")?"Homepage":this.closest(".Page-footer")?"Footer":null}},{key:"submitForm",value:function(){var e=document.querySelector(".Recaptcha-button");e&&e.click()}}]),t}(window.HTMLElement);var St=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.el=this,this.cacheElements(),window.sessionStorage.getItem("search")&&(this.searchInput.value=window.sessionStorage.getItem("search")),this.init()}},{key:"cacheElements",value:function(){this.pageHeader=document.querySelector(".Page-header"),this.searchClose=this.pageHeader.querySelector(".Page-header-search-close"),this.searchResults=this.querySelector(".SearchOverlay-ajax"),this.searchButton=this.pageHeader.querySelector(".Page-header-search-button"),this.searchForm=document.querySelector(".Page-header-search-form"),this.searchInput=this.searchForm.querySelector(".Page-header-search-input"),this.apiUrl=this.searchForm.getAttribute("action")}},{key:"init",value:function(){var e,t,i,n,o=this;this.searchInput&&this.searchInput.addEventListener("focus",function(e){setTimeout(function(){"Page-header-search-input"===document.activeElement.className&&o.openSearch(e)},200)}),this.searchInput.addEventListener("keyup",(e=500,t=function(e){o.handleTypeahead(e)},function(){var o=this,r=arguments,a=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||t.apply(o,r)},e),a&&t.apply(o,r)})),this.searchClose&&this.searchClose.addEventListener("click",function(e){o.closeSearch(e)}),this.searchButton&&this.searchButton.addEventListener("click",function(e){o.openSearch(e),o.searchInput.focus()}),this.searchForm.addEventListener("keydown",function(e){var t=e.key;"Escape"===t&&o.isSearchOpen()?o.closeSearch(e):"Enter"!==t&&13!==e.keyCode||e.preventDefault()})}},{key:"dispatchRendered",value:function(){var e=new window.CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(e)}},{key:"openSearch",value:function(e){window.sessionStorage.getItem("search")&&(this.searchInput.value=window.sessionStorage.getItem("search"),this.handleTypeahead(e)),e.preventDefault(),document.body.setAttribute("data-searchoverlay-show",!0)}},{key:"closeSearch",value:function(e){e.preventDefault(),document.body.removeAttribute("data-searchoverlay-show"),""!==this.searchInput.value&&document.body.dispatchEvent(new window.CustomEvent("Search:closingSearch",{detail:{searchTerm:this.searchInput.value}})),this.searchInput.value="",this.searchInput.blur(),this.clearSearchForm()}},{key:"isSearchOpen",value:function(){return"true"===document.body.getAttribute("data-searchoverlay-show")}},{key:"handleTypeahead",value:function(e){var t=this;if(this._typeaheadIntent&&clearTimeout(this._typeaheadIntent),this.searchInput.value.length>=2){if("Escape"!==e.key){this.loadingTimeout=window.setTimeout(function(){t.clearSearchForm(),t.setLoadingState()},1e3);var i=this.typeaheadUrl();this.getNewSearch(i).then(function(e){window.clearTimeout(t.loadingTimeout),t.clearSearchForm(),t.setAttribute("data-rendered-results",!0),t.renderSearchResults(e),t.querySelector('[data-has-results="false"]')&&document.body.dispatchEvent(new window.CustomEvent("Search:onSearchUpdate",{detail:{responseMarkup:e,searchTerm:t.searchInput.value}}))})}this.typeaheadIsVisible&&"Escape"===e.key&&this.clearSearchForm(),window.sessionStorage.setItem("search",this.searchInput.value)}else this.clearSearchForm()}},{key:"getNewSearch",value:function(e){return new Promise(function(t,i){window.fetch(e,{credentials:"include"}).then(function(e){t(e.text())}).catch(function(){i()})})}},{key:"setLoadingState",value:function(){var e=document.createElement("div");e.classList.add("loading-icon"),this.searchResults.appendChild(e),this.setAttribute("data-loading",!0)}},{key:"clearSearchForm",value:function(){this.searchResults.innerHTML="",this.removeAttribute("data-rendered-results")}},{key:"renderSearchResults",value:function(e){var t=document.createElement("div");t.innerHTML=e;var i=t.querySelector(".SearchResultsPage-main").innerHTML;i&&(this.searchResults.innerHTML=i),this.dispatchRendered()}},{key:"typeaheadUrl",value:function(){var e=new URL(function(e){return/^http/.test(e)?e:new window.URL(e,"".concat(window.location.protocol,"//").concat(window.location.host)).toString()}(this.apiUrl));return e.searchParams.set("q",this.searchInput.value),e.toString()}},{key:"typeaheadIsVisible",get:function(){return this.getAttribute("data-typeahead-show")},set:function(e){e?this.setAttribute("data-typeahead-show",!0):this.removeAttribute("data-typeahead-show")}}]),t}(window.HTMLElement),kt=i(23),xt=i.n(kt),Lt=function(e){function t(){var e,i;o()(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=T()(this,(e=_()(t)).call.apply(e,[this].concat(r))),l()(xt()(i),"createListeners",function(){var e=this,t=this.querySelector(".Quote-share-fb");t&&t.addEventListener("click",function(){e.shareOnFb()})}),i}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.quote=this.querySelector("blockquote").textContent,this.createListeners()}},{key:"shareOnFb",value:function(){window.FB&&window.FB.ui({method:"share",href:window.location.href,quote:this.quote})}},{key:"shareOnTwitter",value:function(){}}]),t}(window.HTMLElement),Ct=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.addEventListener("click",this)}},{key:"handleEvent",value:function(e){"click"!==e.type||!e.target.closest(".SearchFilter-heading")&&!e.target.matches(".SearchFilter-heading")||(this.expanded=!this.expanded)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this)}},{key:"expanded",get:function(){return this.hasAttribute("expanded")},set:function(e){e?this.setAttribute("expanded",""):this.removeAttribute("expanded")}},{key:"isCurrent",get:function(){return this.hasAttribute("is-current")},set:function(e){e?this.setAttribute("is-current",""):this.removeAttribute("is-current")}}]),t}(window.HTMLElement),At=(new j).mq,Pt=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){this.cacheElements(),this.handleFiltersOverlay(),this.handleSortSelect(),this.handleFiltersApply(),this.handleFiltersSelect(),this.scrollable(),this.scrollEnd()}},{key:"cacheElements",value:function(){if(this.searchResultsModule=document.querySelector(".SearchResultsModule"),this.searchForm=document.querySelector(".SearchResultsModule-form"),this.searchSort=this.querySelectorAll(".SearchSortInput input"),this.filtersOpenButton=this.querySelectorAll(".SearchResultsModule-filters-open"),this.filtersCloseButton=this.querySelector(".SearchResultsModule-filters-close"),this.filtersOverlay=this.querySelector(".SearchResultsModule-filters-overlay"),this.filtersApply=this.querySelector(".SearchResultsModule-filters-apply"),this.filtersApplyButton=this.filtersApply.querySelector("button"),this.filtersSeeAll=this.querySelectorAll(".SearchFilter-seeAll"),this.filters=this.querySelectorAll(".SearchFilterInput input"),this.selectedFiltersArray=[],this.selectedFilters=this.querySelector(".SearchResultsModule-filters-selected"),this.selectedFiltersReset=this.querySelector(".SearchResultsModule-filters-selected-reset"),this.selectedFiltersContent=this.querySelector(".SearchResultsModule-filters-selected-content"),this.filters){var e=[];this.filters.forEach(function(t){var i=t.parentElement.parentElement;i.hasAttribute("data-parent")&&!e.includes(i.dataset.parent)&&-1!==window.location.search.search(new RegExp("[?&]f[0-9]+=(".concat(i.dataset.parent,"|").concat(t.value,")")))&&e.push(i.dataset.parent)}),this.filters.forEach(function(t){var i=t.parentElement.parentElement;if(i.dataset.parent&&!e.includes(i.dataset.parent)){i.closest(".SearchFilter-items-item").style.display="none";var n=t.parentElement.parentElement.getAttribute("data-parent");document.querySelector('input[value="'+n+'"]').parentElement.parentElement.setAttribute("subfilters","close"),document.querySelector('input[value="'+n+'"]').parentElement.parentElement.hasAttribute("data-subfilter")&&document.querySelector('input[value="'+n+'"]').parentElement.parentElement.removeAttribute("data-subfilter")}})}}},{key:"handleSortSelect",value:function(){var e=this;this.searchSort&&this.searchSort.forEach(function(t){t.addEventListener("click",function(){e.gatherSelectedFilters(),e.searchResultsModule.submitSearch()})})}},{key:"handleFiltersSelect",value:function(){var e=this;this.filters.forEach(function(t){if("radio"===t.type){t.setAttribute("data-previous-value",t.checked);var i=t.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;if(t.checked){var n=t.parentElement.parentElement.getAttribute("data-parent");n&&i.querySelector('input[value="'+n+'"]').parentElement.parentElement.setAttribute("data-subfilter","open")}}t.addEventListener("click",function(t){if(At["mq-viewport-xs"].matches||At["mq-viewport-sm"].matches){var i=t.target;"radio"===i.type&&("true"===i.getAttribute("data-previous-value")?(i.checked=!1,i.setAttribute("data-previous-value",!1)):i.setAttribute("data-previous-value",!0)),e.gatherSelectedFilters(),e.searchResultsModule.submitSearch(!0)}})})}},{key:"handleFiltersApply",value:function(){var e=this;this.filtersApply.addEventListener("change",function(t){t.preventDefault(),e.gatherSelectedFilters(),e.closeOverlay(),e.searchResultsModule.submitSearch()}),this.filtersApplyButton.addEventListener("click",function(t){console.log("click"),t.preventDefault(),e.gatherSelectedFilters(),e.closeOverlay(),e.searchResultsModule.submitSearch(!0)})}},{key:"handleFiltersOverlay",value:function(){var e=this;this.filtersOpenButton.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),e.openOverlay()})}),this.filtersCloseButton.addEventListener("click",function(t){t.preventDefault(),e.closeOverlay()})}},{key:"handleSelectedFiltersRemove",value:function(){var e=this;this.querySelectorAll(".SearchResultsModule-filters-selected-filter").forEach(function(t){t.querySelector("a").addEventListener("click",function(i){i.preventDefault(),e.removeSelectedFilter(t)})})}},{key:"removeSelectedFilter",value:function(e){var t=e.getAttribute("data-value");this.querySelectorAll('[value="'.concat(t,'"]')).forEach(function(e){e.checked&&(e.checked=!1)}),this.gatherSelectedFilters(),this.searchResultsModule.submitSearch(!0)}},{key:"gatherSelectedFilters",value:function(){var e=this;this.selectedFiltersArray=[],this.filters=this.querySelectorAll(".SearchFilterInput input"),this.filters.forEach(function(t){if(t.checked){var i=t.parentElement.querySelector("span").innerHTML,n=t.getAttribute("value");e.selectedFiltersArray.push({label:i,value:n})}})}},{key:"openOverlay",value:function(){this.filtersOverlay.setAttribute("data-filters-open",!0),document.body.setAttribute("data-filters-open",!0)}},{key:"closeOverlay",value:function(){console.log("overlay closed"),this.filtersOverlay.removeAttribute("data-filters-open"),document.body.removeAttribute("data-filters-open")}},{key:"scrollable",value:function(){this.querySelectorAll(".SearchFilter-items").forEach(function(e){e.scrollHeight>e.clientHeight?e.parentElement.setAttribute("overflow","true"):e.parentElement.setAttribute("overflow","false")})}},{key:"scrollEnd",value:function(){this.querySelectorAll(".SearchFilter-items").forEach(function(e){var t=e.querySelector(".SearchFilter-items-item:last-of-type");e.addEventListener("scroll",function(){e.getBoundingClientRect().bottom>=t.getBoundingClientRect().bottom?e.parentElement.setAttribute("scrollEnd","true"):e.parentElement.setAttribute("scrollEnd","false")})})}}]),t}(window.HTMLElement),Mt={selItems:"[data-search-loadmore-items]",selPagination:"[data-search-loadmore-pagination]",pageCacheRegex:/(page|p)=([0-9]*)$/},Tt=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(e){this.cacheElements(),this.el=this,this.settings=Object.assign({},Mt,e),this.el.setAttribute("data-search-loadmore",""),this.init(),this.initCountCheck(),this.handleFormSubmit(),this.clearFilters(),this.showClearButton(),this.enterKeyed=!1,this.filterEvent=!1}},{key:"init",value:function(){this.pageHrefCache=[1],this.elItems=this.el.querySelector(this.settings.selItems),this.setBinds()}},{key:"loadMore",value:function(e,i){var n=this,o=this,r=this.el.className,a=t.findClassNameMatches(o,r),s=Array.from(a).indexOf(this.el);this.pageHrefCache.push(this.getPageNum(e)),this.el.setAttribute("data-search-loadmore","loading"),window.fetch(e,{credentials:"include"}).then(function(e){return n.el.setAttribute("data-search-loadmore",""),e.text()}).then(function(e){var a=document.createElement("div");a.innerHTML=e;var l,c,u=t.findClassNameMatches(a,r);s?(l=u[0].querySelector(o.settings.selItems),c=u[0].querySelector(o.settings.selPagination)):(l=u[s].querySelector(o.settings.selItems),c=u[s].querySelector(o.settings.selPagination)),"function"==typeof i?i(l,c,u[0]):n.render(l,c,o.elItems,o.elPagination)}).catch(function(e){console.log(e)})}},{key:"initCountCheck",value:function(){(this.el.querySelector(".SearchResultsModuleResults")?this.el.querySelector(".SearchResultsModuleResults").getAttribute("data-initial-count"):null)<=this.el.querySelectorAll(".SearchResultsModuleResults-items-item").length&&this.el.querySelector(".SearchResultsModuleResults-nextPage-button")&&this.el.querySelector(".SearchResultsModuleResults-nextPage-button").remove()}},{key:"next",value:function(e){if(this.elPagination){var t=this.elPagination.querySelector("a");t&&this.loadMore(t.href,e)}}},{key:"setBinds",value:function(){var e=this;this.elPagination&&this.elPagination.addEventListener("click",function(t){var i=t.target;"A"===i.nodeName.toUpperCase()&&(t.preventDefault(),e.loadMore(i.href))}),this.searchForm.querySelector(".SearchResultsModule-formInput").addEventListener("keydown",function(t){"Enter"!==t.key&&13!==t.keyCode||(e.enterKeyed=!0)})}},{key:"getPageNum",value:function(e){try{var t=this.settings.pageCacheRegex.exec(e);return parseInt(t[2])}catch(t){return console.info("SearchResultsModule","".concat(e," not a new page number")),0}}},{key:"updatePaginationDOM",value:function(e){var t=this;e.querySelectorAll("a").forEach(function(e){t.pageHrefCache.indexOf(t.getPageNum(e.href))>=0&&e.parentNode.removeChild(e)}),this.elPagination.innerHTML=e.innerHTML}},{key:"render",value:function(e,t){e&&this.elItems.insertAdjacentHTML("beforeend",e.innerHTML),t?this.updatePaginationDOM(t):this.elPagination.parentNode.removeChild(this.elPagination),this.dispatchRendered()}},{key:"handleFormSubmit",value:function(){var e=this;this.searchForm.addEventListener("submit",function(t){t.preventDefault();var i=new window.URLSearchParams(Array.from(new window.FormData(e.searchForm))).toString(),n=new window.URLSearchParams(Array.from(new window.FormData(e.searchForm))).get("q"),o=new window.URLSearchParams(new window.FormData(e.searchForm)),r=o?o.get("q"):"",a=window.location.pathname+"?"+i;window.history.replaceState({},document.title,a),e.loadingTimeout=window.setTimeout(function(){e.clearSearchForm(),e.setLoadingState()},1e3),e.getNewSearch(a).then(function(t){if(window.clearTimeout(e.loadingTimeout),e.clearSearchForm(),e.renderSearchResults(t,n),e.enterKeyed&&(document.body.dispatchEvent(new window.CustomEvent("Search:onSearchUpdate",{detail:{responseMarkup:t,searchTerm:r}})),e.enterKeyed=!1),e.filterEvent){var i=document.querySelectorAll(".SearchFilterInput input[checked]"),o=Array.from(i).map(function(e){return e.nextElementSibling?e.nextElementSibling.textContent.trim():""}).join(" | ");document.body.dispatchEvent(new window.CustomEvent("Search:onFilterUpdate",{detail:{filter:o}})),e.filterEvent=!1}})})}},{key:"submitSearch",value:function(){var e;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.filterEvent=!0),"function"==typeof Event?e=new window.Event("submit"):(e=document.createEvent("Event")).initEvent("submit",!0,!0),this.searchForm.dispatchEvent(e)}},{key:"getNewSearch",value:function(e){return new Promise(function(t,i){window.fetch(e,{credentials:"include"}).then(function(e){t(e.text())}).catch(function(){i()})})}},{key:"clearSearchForm",value:function(){this.searchResults.innerHTML=""}},{key:"setLoadingState",value:function(){var e=document.createElement("div");e.classList.add("loading-icon"),this.searchResults.appendChild(e),this.setAttribute("data-loading",!0)}},{key:"renderSearchResults",value:function(e,t){var i=document.createElement("div");i.innerHTML=e,i.querySelector(".SearchResultsModule-formInput").value||i.querySelector(".SearchResultsModule-formInput").setAttribute("value",t);var n=i.querySelector(".SearchResultsModule-ajax").innerHTML;if(n&&(this.searchResults.innerHTML=n),""!==window.location.search){var o=window.location.search,r=new window.URLSearchParams(o),a=r.getAll("f0")[0],s=r.getAll("f1")[0];if(a&&o.indexOf("f0=")>-1){var l=this.querySelector('input[value="'+a+'"]'),c=l.parentElement.parentElement.getAttribute("data-parent"),u=this.querySelectorAll('[data-parent="'+a+'"]').length>0?this.querySelectorAll('[data-parent="'+a+'"]'):this.querySelectorAll('[data-parent="'+c+'"]');u&&u.forEach(function(e){e.closest(".SearchFilter-items-item").style.display="block"}),u.length>0&&(l.parentElement.parentElement.hasAttribute("data-subfilter")&&l.parentElement.parentElement.removeAttribute("data-subfilter"),l.parentElement.parentElement.hasAttribute("data-parent")||l.parentElement.parentElement.setAttribute("subfilters","open"))}if(s&&o.indexOf("f1=")>-1){var h=this.querySelector('input[value="'+s+'"]'),d=h.parentElement.parentElement.getAttribute("data-parent"),f=this.querySelectorAll('[data-parent="'+s+'"]').length>0?this.querySelectorAll('[data-parent="'+s+'"]'):this.querySelectorAll('[data-parent="'+d+'"]');f&&f.forEach(function(e){e.closest(".SearchFilter-items-item").style.display="block"}),f.length>0&&(h.parentElement.parentElement.hasAttribute("data-subfilter")&&h.parentElement.parentElement.removeAttribute("data-subfilter"),h.parentElement.parentElement.hasAttribute("data-parent")||h.parentElement.parentElement.setAttribute("subfilters","open"))}}this.showClearButton(),this.dispatchRendered(),this.init(),this.initCountCheck()}},{key:"dispatchRendered",value:function(){var e=new window.CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(e)}},{key:"cacheElements",value:function(){this.searchForm=this.querySelector(".SearchResultsModule-form"),this.searchInput=this.searchForm.querySelector(".SearchResultsModule-formInput"),this.searchResults=this.querySelector(".SearchResultsModule-ajax")}},{key:"clearFilters",value:function(){var e=this.querySelector(".SearchResultsModule-filters-clear"),t=window.location.href;e&&(e.href=t.slice(0,t.indexOf("?q=")))}},{key:"showClearButton",value:function(){var e=this.querySelector(".SearchResultsModule-filters-clear");e&&(""!==window.location.search?(e.style.display="block",this.clearFilters()):e.style.display="none")}},{key:"elPagination",get:function(){return this.el.querySelector(this.settings.selPagination)}}],[{key:"findClassNameMatches",value:function(e,t){return e.querySelectorAll("[class=".concat(t,"]"))}}]),t}(window.HTMLElement),It=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=this;window.addEventListener("load",function(){if(window.matchMedia("(max-width: 767px)").matches){var t=e.querySelector(".SectionNavigationItem[data-current-item]");if(t){var i=t.getBoundingClientRect().x;e.querySelector(".SubNavigation-content").scroll(i-20,0)}}})}}]),t}(window.HTMLElement),_t=!1,Ot=function(e){function t(){return o()(this,t),T()(this,_()(t).apply(this,arguments))}return q()(t,e),a()(t,[{key:"connectedCallback",value:function(){var e=ht()(ft.a.mark(function e(){var i=this;return ft.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ce()(_()(t.prototype),"connectedCallback",this).call(this),this.platform="YouTube",e.prev=2,e.next=5,new Promise(function(e,t){if(_t)e("YouTube iFrame API already loaded");else if(void 0!==window.YT&&void 0!==window.YT.Player)_t=!0,e("YouTube iFrame API already loaded");else{var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];if(n.parentNode.insertBefore(i,n),window.onYouTubeIframeAPIReady){var o=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){o&&o(),_t=!0,e("YouTube iFrame API loaded")}}else window.onYouTubeIframeAPIReady=function(){_t=!0,e("YouTube iFrame API loaded")};i.onerror=function(){t(new Error("Failed to load YouTube iFrame API"))}}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0.message);case 10:this._player=new window.YT.Player(this.querySelector("iframe"),{events:{onReady:function(){return i.onReady()},onStateChange:function(e){return i.onStateChange(e)}}}),this.setupTimeTracking();case 12:case"end":return e.stop()}},e,this,[[2,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"setupTimeTracking",value:function(){var e=this;window.setInterval(function(){e.getAttribute("data-playback-playing")&&Ce()(_()(t.prototype),"onTimeUpdate",e).call(e)},1e3)}},{key:"onStateChange",value:function(e){var t=e.data;t===window.YT.PlayerState.ENDED&&this.onEnded(),t===window.YT.PlayerState.PLAYING&&this.onPlay(),t===window.YT.PlayerState.PAUSED&&this.onPause()}},{key:"getDuration",value:function(){return this._player.getDuration()}},{key:"getCurrentTime",value:function(){return this._player.getCurrentTime()}},{key:"play",value:function(){try{this._player.playVideo()}catch(e){console.log(e)}}}]),t}(H);function qt(){window.customElements.define("bsp-accordion-list",Te),window.customElements.define("bsp-list-faq",Ye),window.customElements.define("bsp-toggler",yt),window.customElements.define("bsp-hub-carousel",ne),window.customElements.define("bsp-list-carousel",ce),window.customElements.define("bsp-list-loadmore",wt),window.customElements.define("bsp-roundup-carousel",ge),window.customElements.define("bsp-list-fast-facts-carousel",de),window.customElements.define("bsp-list-related-articles-carousel",fe),window.customElements.define("bsp-hublistcarousel",Y),window.customElements.define("bsp-hubliveblogmodule",ie),window.customElements.define("ps-liveblog",Xe),window.customElements.define("ps-map-filters",gt),window.customElements.define("ps-header",tt),window.customElements.define("bsp-listicle",at),window.customElements.define("bsp-mobilelisticle",st),window.customElements.define("ps-scroll-to-top",pe),window.customElements.define("bsp-carousel",Ie),window.customElements.define("bsp-copy-action",_e),window.customElements.define("bsp-newsletter-module",Et),window.customElements.define("bsp-tabs",rt),window.customElements.define("bsp-gateway",oe),window.customElements.define("bsp-search-overlay",St),window.customElements.define("bsp-search-filter",Ct),window.customElements.define("bsp-search-filters",Pt),window.customElements.define("bsp-search-results-module",Tt),window.customElements.define("bsp-listnav-page",lt),window.customElements.define("bsp-quote",Lt),window.customElements.define("bsp-sub-nav",It),window.customElements.define("bsp-timestamp",we),window.customElements.define("bsp-timestampfuzzy",Ee),window.customElements.define("bsp-vimeo-player",vt),window.customElements.define("bsp-youtube-player",Ot),window.customElements.define("bsp-instagram-embed",re),new ve,new B}x.register(le,".SearchResultsPage-items","interactive",{loadMoreSelector:".SearchResultsPage-loadMore",itemSelector:".SearchResultsPage-items-item"}),x.register(xe,".EmailInput"),x.register(me,".Ratings"),x.register(ye,'body[class$="-body"]'),x.register(function e(t){o()(this,e);var i=JSON.parse(t.getAttribute("data-config"));Se.pannellum.viewer(t,i)},".ThreeSixtyImage"),Ge.a.polyfill(),window.onload=function(e){document.body.setAttribute("data-page-loaded",!0),document.querySelector(".scrollDown")&&document.querySelector(".scrollDown").addEventListener("click",function(e){var t=document.querySelector("[class$='-pageLead']"),i=document.querySelector("[data-module]"),n=(t?this.closest("[class$='-pageLead']"):i?this.closest("[data-module]"):this).nextElementSibling;n.scrollIntoView({behavior:"smooth"}),window.scroll({top:n.offsetTop-60,left:0,behavior:"smooth"})},!0)},window.ofdUtils=Me,document.onreadystatechange=function(){if("interactive"===document.readyState){var e=document.querySelector("[class$='-search-toggle']");e&&e.addEventListener("click",function(){document.querySelector("[class$='-searchInput']").focus()},!0),se&&se.profileAPI()}},x.register(Oe,".LeadTwoColumnHomePage"),x.register(Oe,".ListOrderedSticky"),x.register(Oe,".Hub4"),x.register(xe,".EmailInput"),x.register(ze,".ArticlePage-articleBody"),x.register(je,".Interstitial-wrapper"),x.register($e,".MapPage-mainContent"),x.register(it,".ArticlePage-body"),x.register(it,".GalleryPage-body"),x.register(it,".LongformPage-body"),x.register(it,".RoundupPage-body"),x.register(it,".TimelinePage-body"),x.register(it,".LiveBlogPage-body"),x.register(Je,".MapPin"),x.register(function e(t){o()(this,e),this.el=t,t.addEventListener("click",function(){var e={url:t.getAttribute("href"),urlref:window.location.href,js:1};se.trackPageViewOrPushToQueue(e),console.log("Tracking",e)})},'a[href$=".pdf"]'),x.register(ot,"[data-sticky-aside]"),x.register(Ae,".TextInput"),x.register(ct,"[data-with-toggle-menu]"),x.register(Be,".EconomicImpactMap"),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",qt):qt(),window.addEventListener("keydown",function(e){"SearchSortInput"===e.target.className&&"Enter"===e.key&&e.target.querySelector("input").click(),e.target.addEventListener("focusin",function(e){e.target.setAttribute("tabFocused","true")}),e.target.addEventListener("focusout",function(e){e.target.setAttribute("tabFocused","false")})});t.default={}}]);